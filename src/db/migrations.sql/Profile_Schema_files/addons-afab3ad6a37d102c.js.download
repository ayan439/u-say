try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="419117c4-0905-4604-a2b0-94f8578cad08",e._sentryDebugIdIdentifier="sentry-dbid-419117c4-0905-4604-a2b0-94f8578cad08")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93475],{354:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(80263),i=s(30404);let r=e=>{let{projectUpdateDisabled:t,projectNotActive:s=!1,children:r,tooltip:n}=e;return(0,a.jsxs)(i.m_,{"data-sentry-element":"Tooltip","data-sentry-component":"ProjectUpdateDisabledTooltip","data-sentry-source-file":"ProjectUpdateDisabledTooltip.tsx",children:[(0,a.jsx)(i.k$,{asChild:!0,"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"ProjectUpdateDisabledTooltip.tsx",children:r}),(t||s)&&(0,a.jsx)(i.ZI,{side:"bottom",className:"w-72 text-center",children:t?n||"Subscription changes are currently disabled. Our engineers are working on a fix.":s?"Unable to update subscription as project is currently not active":""})]})}},1374:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},2353:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(80263),i=s(53239),r=s(23157),n=s(7981),l=s(7760);let o=(0,i.createContext)({parentCallback:e=>{},type:"",name:"",activeId:"",parentSize:""});function d(e){var t;let{id:s=(t=46656*Math.random()|0,("00000"+(46656*Math.random()|0).toString(36)).slice(-3)+("00000"+t.toString(36)).slice(-3)),disabled:i,value:r,label:d,afterLabel:c,beforeLabel:u,description:m,name:p,checked:h,className:x,onChange:f,onBlur:v,hidden:j=!1,size:y="medium",align:g="vertical",optionalLabel:b,addOnBefore:N,children:w}=e,k=(0,n.A)("radio"),{handleBlur:P}=(0,l.x)();function A(e){P&&P(e),v&&v(e)}return(0,a.jsx)(o.Consumer,{"data-sentry-element":"RadioContext.Consumer","data-sentry-component":"Radio","data-sentry-source-file":"Radio.tsx",children:e=>{let{parentCallback:t,type:n,name:l,activeId:o,parentSize:v}=e;y=v||y;let P=o===s||!!h||!1!==h&&void 0,_=[x,k.variants[n].container.base,"list"===n&&!j&&k.variants[n].container.size[y]];return _.push(k.variants[n].base),_.push(k.variants[n].size[y]),P?_.push(k.variants[n].active):_.push(k.variants[n].inactive),i&&_.push(k.disabled),"list"!==n&&(j=!0),(0,a.jsxs)("label",{htmlFor:s,className:_.join(" "),children:[(0,a.jsx)("input",{id:s,name:l||p,type:"radio",className:[k.base,k.size[y],j&&k.hidden,k.variants[n].radio_offset,""].join(" "),checked:P,disabled:i,value:r||s,onChange:e=>{t&&t(e),f&&f(e)},onBlur:A}),N,w||(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:[k.label.base,k.label[y],k.variants[n].container.align[g]].join(" "),children:[u&&(0,a.jsx)("div",{className:[k.label_before.base,k.label_before[y]].join(" "),children:u}),(0,a.jsx)("div",{children:d}),c&&(0,a.jsx)("div",{className:[k.label_after.base,k.label_after[y]].join(" "),children:c}),m&&(0,a.jsx)("div",{className:[k.description.base,k.description[y]].join(" "),children:m})]}),b&&(0,a.jsx)("div",{className:[k.optionalLabel.base,k.optionalLabel[y]].join(" "),children:b})]})]})}})}d.Group=function(e){let{id:t,layout:s,error:c,descriptionText:u,label:m,afterLabel:p,beforeLabel:h,labelOptional:x,children:f,className:v,type:j="list",options:y,value:g,name:b,onChange:N,size:w="medium",validation:k,groupClassName:P,labelsLayout:A="vertical"}=e,[_,S]=(0,i.useState)(""),I=(0,n.A)("radio"),{formContextOnChange:C,values:R,errors:T,touched:D,fieldLevelValidation:z}=(0,l.x)();return R&&!g&&(g=R[t||b]),c||(T&&!c&&(c=T[t||b]),c=D&&D[t||b]?c:void 0),(0,i.useEffect)(()=>{k&&z(t,k(g))},[]),(0,i.useEffect)(()=>{S(g)},[g]),(0,a.jsx)("fieldset",{name:b,className:v,"data-sentry-component":"RadioGroup","data-sentry-source-file":"Radio.tsx",children:(0,a.jsx)(r.H,{nonBoxInput:!0,label:m,afterLabel:p,beforeLabel:h,labelOptional:x,layout:s,id:t,error:c,descriptionText:u,size:w,labelLayout:A,"data-sentry-element":"FormLayout","data-sentry-source-file":"Radio.tsx",children:(0,a.jsx)("div",{className:P||I.variants[j].group,children:(0,a.jsx)(o.Provider,{value:{parentCallback:function(e){N&&N(e),C&&C(e),k&&z(t,k(e.target.value)),S(e.target.id)},type:j,name:b,activeId:_,parentSize:w},"data-sentry-element":"RadioContext.Provider","data-sentry-source-file":"Radio.tsx",children:y?y.map(e=>(0,a.jsx)(d,{id:e.id,label:e.label,beforeLabel:e.beforeLabel,afterLabel:e.afterLabel,value:e.value,description:e.description})):f})})})})};let c=d},8e3:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]])},13655:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]])},25115:(e,t,s)=>{"use strict";s.d(t,{q:()=>d});var a=s(56947),i=s(53434),r=s.n(i),n=s(24523),l=s(81121);async function o(e,t){let{projectRef:s,attribute:a,startDate:i,endDate:r,interval:l="1h",databaseIdentifier:o}=e;if(!s)throw Error("Project ref is required");if(!a)throw Error("Attribute is required");if(!i)throw Error("Start date is required");if(!r)throw Error("End date is required");let{data:d,error:c}=await (0,n.Jt)("/platform/projects/{ref}/infra-monitoring",{params:{path:{ref:s},query:{attribute:a,startDate:i,endDate:r,interval:l,databaseIdentifier:o}},signal:t});return c&&(0,n.H4)(c),d}let d=function(e){let{projectRef:t,attribute:s,startDate:i,endDate:n,interval:d="1h",dateFormat:c="HH:mm DD MMM",databaseIdentifier:u,modifier:m}=e,{enabled:p=!0,...h}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.I)({queryKey:l.P.infraMonitoring(t,{attribute:s,startDate:i,endDate:n,interval:d,databaseIdentifier:u}),queryFn:e=>{let{signal:a}=e;return o({projectRef:t,attribute:s,startDate:i,endDate:n,interval:d,databaseIdentifier:u},a)},enabled:p&&void 0!==t&&void 0!==s&&void 0!==i&&void 0!==n,select:e=>({...e,data:e.data.map(e=>({...e,[s]:void 0!==m?m(Number(e[s])):Number(e[s]),periodStartFormatted:r()(e.period_start).format(c)}))}),staleTime:6e4,...h})}},27769:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ex});var a=s(80263),i=s(53434),r=s.n(i),n=s(12123),l=s(80356),o=s(86510),d=s(76196),c=s(796),u=s(90652),m=s.n(u),p=s(52555),h=s.n(p),x=s(53239),f=s(60045),v=s(22891),j=s(86759),y=s(12487),g=s(354),b=s(27695),N=s(11187),w=s(37873),k=s(44168),P=s(23729),A=s(53931),_=s(25115),S=s(27664),I=s(37115),C=s(96698),R=s(78937),T=s(2657),D=s(84512),z=s(9620),q=s(56217),L=s(85039),M=s(6436),F=s(79918);let E=["pitr","customDomain","ipv4"];function U(){let[{panel:e},t]=(0,F.W)({replace:!0});return{panel:E.find(t=>t===e),setPanel:e=>{t({panel:e})},closePanel:()=>{t({panel:void 0})}}}var W=s(20033),G=s(99779),H=s(88845),Y=s(6538),O=s(73969),$=s(32144),B=s(80251),V=s(24523),X=s(63523);async function Q(e){let{projectRef:t,variant:s}=e;if(!t)throw Error("projectRef is required");if(!s)throw Error("variant is required");let{data:a,error:i}=await (0,V.yH)("/platform/projects/{ref}/billing/addons/{addon_variant}",{params:{path:{ref:t,addon_variant:s}}});return i&&(0,V.H4)(i),a}let J=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,$.jE)();return(0,B.n)({mutationFn:e=>Q(e),async onSuccess(t,s,i){let{projectRef:r}=s;await a.invalidateQueries({queryKey:X.s.addons(r)}),await (null==e?void 0:e(t,s,i))},async onError(e,s,a){void 0===t?O.oR.error("Failed to remove addon: ".concat(e.message)):t(e,s,a)},...s})};var Z=s(31805),K=s(80090),ee=s(79861),et=s(80100),es=s(2353);let ea=()=>{var e,t,s,i,r,l;let{ref:d}=(0,v.g)(),{data:c}=(0,D.s)(),u=(0,v._P)("customDomainsDisabledDueToQuota"),[m,p]=(0,x.useState)("cd_none"),{can:j}=(0,K.Qp)(f.aG.BILLING_WRITE,"stripe.subscriptions"),{panel:y,closePanel:g}=U(),b="customDomain"===y,{data:N,isLoading:w}=(0,R.Q)({projectRef:d}),{mutate:k,isLoading:P}=(0,Z.F)({onSuccess:()=>{O.oR.success("Successfully enabled custom domain"),g()},onError:e=>{O.oR.error("Unable to enable custom domain: ".concat(e.message))}}),{mutate:A,isLoading:_}=J({onSuccess:()=>{O.oR.success("Successfully disabled custom domain"),g()},onError:e=>{O.oR.error("Unable to disable custom domain: ".concat(e.message))}}),S=P||_,I=(null!=(s=null==N?void 0:N.selected_addons)?s:[]).find(e=>"custom_domain"===e.type),C=null!=(r=null==(e=(null!=(i=null==N?void 0:N.available_addons)?i:[]).find(e=>"custom_domain"===e.type))?void 0:e.variants)?r:[],T=(null==c||null==(t=c.plan)?void 0:t.id)==="free",z=m!==(null!=(l=null==I?void 0:I.variant.identifier)?l:"cd_none"),q=C.find(e=>e.identifier===m);(0,x.useEffect)(()=>{b&&(void 0!==I?p(I.variant.identifier):p("cd_none"))},[b,w]);let F=async()=>{if(!d)return console.error("Project ref is required");"cd_none"===m&&void 0!==I?A({projectRef:d,variant:I.variant.identifier}):k({projectRef:d,type:"custom_domain",variant:m})};return(0,a.jsx)(ee.Ay,{size:"large",visible:b,onCancel:g,onConfirm:F,loading:w||S,disabled:T||w||!z||S||!j||void 0===I&&u,tooltip:T?"Unable to enable custom domain on a Free Plan":j?void 0:"You do not have permission to update custom domain",header:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{children:"Custom domains"}),(0,a.jsx)(G.$,{asChild:!0,type:"default",icon:(0,a.jsx)(o.A,{strokeWidth:1.5}),children:(0,a.jsx)(h(),{href:"".concat(L.aq,"/guides/platform/custom-domains"),target:"_blank",rel:"noreferrer",children:"About custom domains"})})]}),"data-sentry-element":"SidePanel","data-sentry-component":"CustomDomainSidePanel","data-sentry-source-file":"CustomDomainSidePanel.tsx",children:(0,a.jsx)(ee.Ay.Content,{"data-sentry-element":"SidePanel.Content","data-sentry-source-file":"CustomDomainSidePanel.tsx",children:(0,a.jsxs)("div",{className:"py-6 space-y-4",children:[void 0===I&&void 0!==q&&u&&(0,a.jsxs)(W.Fc,{variant:"default",className:"mb-2",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)(W.XL,{children:"Adding new custom domains temporarily disabled"}),(0,a.jsx)(W.TN,{className:"flex flex-col gap-3",children:"We are working with our upstream DNS provider before we are able to sign up new custom domains. Please check back in a few hours."})]}),(0,a.jsxs)("p",{className:"text-sm",children:["Custom domains allow you to present a branded experience to your users. You may set up your custom domain in the"," ",(0,a.jsx)(h(),{href:"/project/".concat(d,"/settings/general"),className:"text-brand","data-sentry-element":"Link","data-sentry-source-file":"CustomDomainSidePanel.tsx",children:"General Settings"})," ","page after enabling the add-on."]}),(0,a.jsx)("div",{className:(0,et.cn)("!mt-8 pb-4",T&&"opacity-75"),children:(0,a.jsxs)(es.A.Group,{type:"large-cards",size:"tiny",id:"custom-domain",onChange:e=>p(e.target.value),"data-sentry-element":"Radio.Group","data-sentry-source-file":"CustomDomainSidePanel.tsx",children:[(0,a.jsx)(es.A,{name:"custom-domain",checked:"cd_none"===m,className:"col-span-4 !p-0",label:"No custom domain",value:"cd_none","data-sentry-element":"Radio","data-sentry-source-file":"CustomDomainSidePanel.tsx",children:(0,a.jsxs)("div",{className:"w-full group",children:[(0,a.jsx)("div",{className:"border-b border-default px-4 py-2 group-hover:border-control",children:(0,a.jsx)("p",{className:"text-sm",children:"No custom domain"})}),(0,a.jsxs)("div",{className:"px-4 py-2",children:[(0,a.jsx)("p",{className:"text-foreground-light",children:"Use the default supabase domain for your API"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)("p",{className:"text-foreground text-sm",translate:"no",children:"$0"}),(0,a.jsx)("p",{className:"text-foreground-light translate-y-[1px]",children:" / month"})]})]})]})}),C.map(e=>(0,a.jsx)(es.A,{className:"col-span-4 !p-0",name:"custom-domain",disabled:T,checked:m===e.identifier,label:e.name,value:e.identifier,children:(0,a.jsxs)("div",{className:"w-full group",children:[(0,a.jsx)("div",{className:"border-b border-default px-4 py-2 group-hover:border-control",children:(0,a.jsx)("p",{className:"text-sm",children:e.name})}),(0,a.jsxs)("div",{className:"px-4 py-2",children:[(0,a.jsx)("p",{className:"text-foreground-light",children:"Present a branded experience to your users"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)("p",{className:"text-foreground text-sm",translate:"no",children:(0,M.vv)(e.price)}),(0,a.jsx)("p",{className:"text-foreground-light translate-y-[1px]",children:" / month"})]})]})]})},e.identifier))]})}),z&&"cd_none"!==m&&(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"There are no immediate charges. The addon is billed at the end of your billing cycle based on your usage and prorated to the hour."}),T&&(0,a.jsx)(H.F,{withIcon:!0,variant:"info",title:"Custom domains are unavailable on the Free Plan",actions:(0,a.jsx)(G.$,{asChild:!0,type:"default",children:(0,a.jsx)(h(),{href:"/org/".concat(null==c?void 0:c.slug,"/billing?panel=subscriptionPlan&source=customDomainSidePanel"),children:"View available plans"})}),children:"Upgrade your plan to add a custom domain to your project"})]})})})};var ei=s(10723),er=s(44725);let en=()=>{var e,t,s,i,r,n;let l=(0,z.lh)(),{ref:d}=(0,v.g)(),{data:c}=(0,D.s)(),[u,m]=(0,x.useState)("ipv4_none"),{can:p}=(0,K.Qp)(f.aG.BILLING_WRITE,"stripe.subscriptions"),{panel:j,closePanel:y}=U(),g="ipv4"===j,{data:b,isLoading:N}=(0,R.Q)({projectRef:d}),{mutate:w,isLoading:k}=(0,Z.F)({onSuccess:()=>{O.oR.success("Successfully enabled IPv4"),y()},onError:e=>{O.oR.error("Unable to enable IPv4: ".concat(e.message))}}),{mutate:P,isLoading:A}=J({onSuccess:()=>{O.oR.success("Successfully disabled IPv4."),y()},onError:e=>{O.oR.error("Unable to disable IPv4: ".concat(e.message))}}),_=k||A,S=(null!=(s=null==b?void 0:b.selected_addons)?s:[]).find(e=>"ipv4"===e.type),I=null!=(r=null==(e=(null!=(i=null==b?void 0:b.available_addons)?i:[]).find(e=>"ipv4"===e.type))?void 0:e.variants)?r:[],C=(null==c||null==(t=c.plan)?void 0:t.id)==="free",T=u!==(null!=(n=null==S?void 0:S.variant.identifier)?n:"ipv4_none"),q=I.find(e=>e.identifier===u),F=!C;(0,x.useEffect)(()=>{g&&(void 0!==S?m(S.variant.identifier):m("ipv4_none"))},[g,N]);let E=async()=>{if(!d)return console.error("Project ref is required");"ipv4_none"===u&&void 0!==S?P({projectRef:d,variant:S.variant.identifier}):w({projectRef:d,type:"ipv4",variant:u})};return(0,a.jsx)(ee.Ay,{size:"large",visible:g,onCancel:y,onConfirm:E,loading:N||_,disabled:C||N||!T||_||!p||!l,tooltip:C?"Unable to enable IPv4 on a Free Plan":p?void 0:"You do not have permission to update IPv4",header:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{children:"Dedicated IPv4 address"}),(0,a.jsx)(G.$,{asChild:!0,type:"default",icon:(0,a.jsx)(o.A,{strokeWidth:1.5}),children:(0,a.jsx)(h(),{href:"".concat(L.aq,"/guides/platform/ipv4-address"),target:"_blank",rel:"noreferrer",children:"About dedicated IPv4 addresses"})})]}),"data-sentry-element":"SidePanel","data-sentry-component":"IPv4SidePanel","data-sentry-source-file":"IPv4SidePanel.tsx",children:(0,a.jsx)(ee.Ay.Content,{"data-sentry-element":"SidePanel.Content","data-sentry-source-file":"IPv4SidePanel.tsx",children:(0,a.jsxs)("div",{className:"py-6 space-y-4",children:[(0,a.jsx)("p",{className:"text-sm",children:"Direct connections to the database only work if your client is able to resolve IPv6 addresses. Enabling the dedicated IPv4 add-on allows you to directly connect to your database via a IPv4 address."}),!l&&(0,a.jsx)(er.Z,{type:"default",title:"Dedicated IPv4 address is only available for AWS projects"}),F?(0,a.jsx)(er.Z,{type:"default",title:"The Dedicated Pooler does not support IPv4 addresses",description:"If you are connecting to your database via the Dedicated Pooler, you may need this add-on if your network does not support communicating via IPv6. Alternatively, you may consider using our Shared Pooler."}):(0,a.jsxs)("p",{className:"text-sm",children:["If you are connecting via the Shared connection pooler, you do not need this add-on as our pooler resolves to IPv4 addresses. You can check your connection info in your"," ",(0,a.jsx)(ei.g,{href:"/project/".concat(d,"/database/settings#connection-pooler"),children:"project database settings"}),"."]}),(0,a.jsx)("div",{className:(0,et.cn)("!mt-8 pb-4",C&&"opacity-75"),children:(0,a.jsxs)(es.A.Group,{type:"large-cards",size:"tiny",id:"ipv4",onChange:e=>m(e.target.value),"data-sentry-element":"Radio.Group","data-sentry-source-file":"IPv4SidePanel.tsx",children:[(0,a.jsx)(es.A,{name:"ipv4",checked:"ipv4_none"===u,className:"col-span-4 !p-0",label:"No IPv4",value:"ipv4_none","data-sentry-element":"Radio","data-sentry-source-file":"IPv4SidePanel.tsx",children:(0,a.jsxs)("div",{className:"w-full group",children:[(0,a.jsx)("div",{className:"border-b border-default px-4 py-2 group-hover:border-control",children:(0,a.jsx)("p",{className:"text-sm",children:"No IPv4 address"})}),(0,a.jsxs)("div",{className:"px-4 py-2 flex flex-col justify-between",children:[(0,a.jsx)("p",{className:"text-foreground-light",children:"Use connection pooler or IPv6 for direct connections"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)("p",{className:"text-foreground text-sm",children:"$0"}),(0,a.jsx)("p",{className:"text-foreground-light translate-y-[1px]",children:" / month"})]})]})]})}),I.map(e=>(0,a.jsx)(es.A,{className:"col-span-4 !p-0",name:"ipv4",disabled:C||!l,checked:u===e.identifier,label:e.name,value:e.identifier,children:(0,a.jsxs)("div",{className:"w-full group",children:[(0,a.jsx)("div",{className:"border-b border-default px-4 py-2 group-hover:border-control",children:(0,a.jsx)("p",{className:"text-sm",children:"Dedicated IPv4 address"})}),(0,a.jsxs)("div",{className:"px-4 py-2",children:[(0,a.jsx)("p",{className:"text-foreground-light",children:"Allow direct database connections via IPv4 address"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)("p",{className:"text-foreground text-sm",translate:"no",children:(0,M.vv)(e.price)}),(0,a.jsx)("p",{className:"text-foreground-light translate-y-[1px]",children:"/ month / database"})]})]})]})},e.identifier))]})}),T&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(er.Z,{type:"note",title:"Potential downtime",description:"There might be some downtime when enabling the add-on since some DNS clients might have cached the old DNS entry. Generally, this should be less than a minute."}),"ipv4_none"!==u&&(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["By default, this is only applied to the Primary database for your project. If"," ",(0,a.jsx)(h(),{href:"/docs/guides/platform/read-replicas",className:"text-brand",target:"_blank",children:"Read replicas"})," ","are used, each replica also gets its own IPv4 address, with a corresponding"," ",(0,a.jsx)("span",{className:"text-foreground",children:(0,M.vv)(null==q?void 0:q.price)})," ","charge."]}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"There are no immediate charges. The addon is billed at the end of your billing cycle based on your usage and prorated to the hour."})]}),C&&(0,a.jsxs)(er.Z,{type:"note",title:"IPv4 add-on is unavailable on the Free Plan",children:[(0,a.jsx)("p",{children:"Upgrade your plan to enable a IPv4 address for your project"}),(0,a.jsx)(G.$,{asChild:!0,type:"default",children:(0,a.jsx)(h(),{href:"/org/".concat(null==c?void 0:c.slug,"/billing?panel=subscriptionPlan&source=ipv4SidePanel"),children:"View available plans"})})]})]})})})};var el=s(86541),eo=s(60793);let ed=[{id:"off",name:"Disable PITR",imageUrl:"".concat(L.o2,"/img/pitr-off.svg?v=2"),imageUrlLight:"".concat(L.o2,"/img/pitr-off--light.svg?v=2")},{id:"on",name:"Enable PITR",imageUrl:"".concat(L.o2,"/img/pitr-on.svg?v=2"),imageUrlLight:"".concat(L.o2,"/img/pitr-on--light.svg?v=2")}],ec=()=>{var e,t,s,i,r,n;let{ref:l}=(0,v.g)(),{resolvedTheme:d}=(0,c.D)(),{data:u}=(0,z.YA)(),{data:m}=(0,D.s)(),{data:p}=(0,S.G)({projectRef:l}),[y,g]=(0,x.useState)("off"),[N,w]=(0,x.useState)("pitr_0"),{can:k}=(0,K.Qp)(f.aG.BILLING_WRITE,"stripe.subscriptions"),P=(null==u?void 0:u.is_branch_enabled)===!0||(null==u?void 0:u.parent_project_ref)!==void 0,{panel:A,closePanel:_}=U(),I="pitr"===A,{data:T,isLoading:q}=(0,R.Q)({projectRef:l}),{data:F}=(0,C.j5)({orgSlug:null==m?void 0:m.slug}),E=(0,j.BP)(F)&&(null==p?void 0:p.is_sensitive),{mutate:Y,isLoading:$}=(0,Z.F)({onSuccess:()=>{O.oR.success("Successfully updated point in time recovery duration"),_()},onError:e=>{O.oR.error("Unable to update PITR: ".concat(e.message))}}),{mutate:B,isLoading:V}=J({onSuccess:()=>{O.oR.success("Successfully disabled point in time recovery"),_()},onError:e=>{O.oR.error("Unable to disable PITR: ".concat(e.message))}}),X=$||V,Q=null!=(s=null==T?void 0:T.selected_addons)?s:[],ea=null!=(i=null==T?void 0:T.available_addons)?i:[],ei=Q.find(e=>"compute_instance"===e.type),er=Q.find(e=>"pitr"===e.type),en=null!=(r=null==(e=ea.find(e=>"pitr"===e.type))?void 0:e.variants)?r:[],ec=N!==(null!=(n=null==er?void 0:er.variant.identifier)?n:"pitr_0"),eu=(null==F||null==(t=F.plan)?void 0:t.id)==="free",em=en.find(e=>e.identifier===N),ep=!!ei&&"ci_micro"!==ei.variant.identifier,eh=E&&("on"!==y||(null==em?void 0:em.identifier)!=="pitr_28"),ex=async()=>{if(!l)return console.error("Project ref is required");"pitr_0"===N&&void 0!==er?B({projectRef:l,variant:er.variant.identifier}):Y({projectRef:l,type:"pitr",variant:N})};return(0,x.useEffect)(()=>{I&&(void 0!==er?(g("on"),w(er.variant.identifier)):(g("off"),w("pitr_0")))},[I,q]),(0,a.jsx)(ee.Ay,{size:"xlarge",visible:I,onCancel:_,onConfirm:ex,loading:q||X,disabled:eu||q||!ec||X||!k||!!em&&!ep||eh,tooltip:eh?"Unable to disable PITR with HIPAA add-on":eu?"Unable to enable point in time recovery on a Free Plan":k?void 0:"You do not have permission to update PITR",header:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{children:"Point in Time Recovery"}),(0,a.jsx)(G.$,{asChild:!0,type:"default",icon:(0,a.jsx)(o.A,{strokeWidth:1.5}),children:(0,a.jsx)(h(),{href:"".concat(L.aq,"/guides/platform/backups#point-in-time-recovery"),target:"_blank",rel:"noreferrer",children:"About point in time recovery"})})]}),"data-sentry-element":"SidePanel","data-sentry-component":"PITRSidePanel","data-sentry-source-file":"PITRSidePanel.tsx",children:(0,a.jsx)(ee.Ay.Content,{"data-sentry-element":"SidePanel.Content","data-sentry-source-file":"PITRSidePanel.tsx",children:(0,a.jsxs)("div",{className:"py-6 space-y-4",children:[(0,a.jsx)("p",{className:"text-sm",children:"Point-in-Time Recovery (PITR) allows a project to be backed up at much shorter intervals. This provides users an option to restore to any chosen point of up to seconds in granularity."}),(0,a.jsx)("div",{className:"!mt-8 pb-4",children:(0,a.jsx)("div",{className:"flex gap-3",children:ed.map(e=>{let t=y===e.id;return(0,a.jsxs)("div",{className:(0,et.cn)("col-span-3 group space-y-1",eu&&"opacity-75"),onClick:()=>{g(e.id),"off"===e.id?w("pitr_0"):(null==er?void 0:er.variant.identifier)!==void 0?w(er.variant.identifier):E?w("pitr_28"):w("pitr_7")},children:[(0,a.jsx)("img",{alt:"Point-In-Time-Recovery",className:(0,et.cn)("relative rounded-xl transition border bg-no-repeat bg-center bg-cover cursor-pointer w-[160px] h-[96px]",t?"border-foreground":"border-foreground-muted opacity-50 group-hover:border-foreground-lighter group-hover:opacity-100"),width:160,height:96,src:(null==d?void 0:d.includes("dark"))?e.imageUrl:e.imageUrlLight}),(0,a.jsx)("p",{className:(0,et.cn)("text-sm transition",t?"text-foreground":"text-foreground-light"),children:e.name})]},e.id)})})}),"off"===y&&void 0!==er&&P&&(0,a.jsxs)(W.Fc,{variant:"warning",children:[(0,a.jsx)(eo.HV,{}),(0,a.jsx)(W.XL,{children:"Are you sure you want to disable this while using Branching?"}),(0,a.jsx)(W.TN,{children:"Without PITR, you might not be able to recover lost data if you accidentally merge a branch that deletes a column or user data. We don't recommend this."})]}),eh?(0,a.jsxs)(W.Fc,{children:[(0,a.jsx)(W.XL,{children:"PITR cannot be disabled on HIPAA projects"}),(0,a.jsx)(W.TN,{children:"PITR is enabled by default for all HIPAA projects and cannot be turned off. Contact support for further assistance."}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(G.$,{type:"default",asChild:!0,children:(0,a.jsx)(b.Y,{children:"Contact support"})})})]}):null,"on"===y&&(0,a.jsxs)("div",{className:"!mt-8 pb-4",children:[eu?(0,a.jsx)(H.F,{withIcon:!0,variant:"info",className:"mb-4",title:"Changing your Point-In-Time-Recovery is only available on the Pro Plan",actions:(0,a.jsx)(el.I,{source:"pitrSidePanel",plan:"Pro"}),children:"Upgrade your plan to change PITR for your project"}):ep?null:(0,a.jsx)(H.F,{withIcon:!0,variant:"warning",className:"mb-4",title:"Your project is required to minimally be on a Small compute size to enable PITR",actions:[(0,a.jsx)(G.$,{asChild:!0,type:"default",children:(0,a.jsx)(h(),{href:"/project/".concat(l,"/settings/compute-and-disk"),children:"Change compute size"})},"change-compute")],children:"This is to ensure that your project has enough resources to execute PITR successfully"}),(0,a.jsx)(es.A.Group,{type:"large-cards",size:"tiny",id:"pitr",label:(0,a.jsx)("p",{className:"text-sm",children:"Choose the duration of recovery"}),onChange:e=>w(e.target.value),children:en.map(e=>(0,a.jsx)(es.A,{name:"pitr",disabled:eu||void 0===ei,className:"col-span-4 !p-0",checked:N===e.identifier,label:(0,a.jsx)("span",{className:"text-sm",children:e.name}),value:e.identifier,children:(0,a.jsxs)("div",{className:"w-full group",children:[(0,a.jsx)("div",{className:"border-b border-default px-4 py-2",children:(0,a.jsx)("p",{className:"text-sm",children:e.name})}),(0,a.jsxs)("div",{className:"px-4 py-2",children:[(0,a.jsxs)("p",{className:"text-foreground-light",children:["Allow database restorations to any time up to"," ",e.identifier.split("_")[1]," days ago"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)("p",{className:"text-foreground text-sm",translate:"no",children:(0,M.vv)(e.price)}),(0,a.jsx)("p",{className:"text-foreground-light translate-y-[1px]",children:" / month"})]})]})]})},e.identifier))})]}),ec&&"pitr_0"!==N&&(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"There are no immediate charges. The addon is billed at the end of your billing cycle based on your usage and prorated to the hour."})]})})})},eu=()=>{var e,t,s,i,u,p,F,E,O,$,B,V,X;let{resolvedTheme:Q}=(0,c.D)(),{ref:J}=(0,v.g)(),{setPanel:Z}=U(),K=(0,N.f)(),ee=(0,z.CG)(),{projectSettingsCustomDomains:et,projectAddonsDedicatedIpv4Address:es}=(0,T.x)(["project_settings:custom_domains","project_addons:dedicated_ipv4_address"]),{data:ei}=(0,D.s)(),{data:er,isLoading:el}=(0,z.YA)(),{data:eo}=(0,I.wT)({ref:null==er?void 0:er.parent_project_ref}),ed=void 0!==eo,{data:eu}=(0,S.G)({projectRef:J}),{data:em}=(0,C.j5)({orgSlug:null==ei?void 0:ei.slug}),ep=(0,v._P)("disableProjectCreationAndUpdate"),eh=(0,j.BP)(em)&&(null==eu?void 0:eu.is_sensitive),ex=(0,q.g)(null==er?void 0:er.cloud_provider),ef=(0,M.h_)(null!=(i=null==er?void 0:er.dbVersion)?i:"")>14||(0,M.xM)(null!=(u=null==er?void 0:er.dbVersion)?u:"")>=141044,ev=(0,x.useMemo)(()=>r()().subtract(15,"minutes").millisecond(0).toISOString(),[]),ej=(0,x.useMemo)(()=>r()().millisecond(0).toISOString(),[]),{data:ey}=(0,_.q)({projectRef:J,attribute:"disk_io_budget",interval:"5m",startDate:ev,endDate:ej}),[eg]=(null!=(p=null==ey?void 0:ey.data)?p:[]).slice(-1),{data:eb,error:eN,isLoading:ew,isError:ek,isSuccess:eP}=(0,R.Q)({projectRef:J}),eA=null!=(F=null==eb?void 0:eb.selected_addons)?F:[],{computeInstance:e_,pitr:eS,customDomain:eI,ipv4:eC}=(0,j.EN)(eA),eR=(0,x.useMemo)(()=>{var e;let t=null==e_||null==(e=e_.variant)?void 0:e.meta;return t||(null==er?void 0:er.infra_compute_size)!=="nano"?(null==er?void 0:er.infra_compute_size)==="micro"?L.Mc:t:L.kC},[er,e_]),eT=(null==eu?void 0:eu.db_ip_addr_config)==="ipv6";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.cJ,{"data-sentry-element":"ScaffoldDivider","data-sentry-source-file":"Addons.tsx"}),ed&&(0,a.jsx)(w.eh,{children:(0,a.jsxs)(W.Fc,{variant:"default",className:"mt-6",children:[(0,a.jsx)(n.A,{strokeWidth:2}),(0,a.jsx)(W.XL,{children:"You are currently on a preview branch of your project"}),(0,a.jsxs)(W.TN,{children:["Updating addons here will only apply to this preview branch. To manage your addons, for your main branch, please visit the"," ",(0,a.jsx)(h(),{href:"/project/".concat(eo.ref,"/settings/general"),className:"text-brand",children:"main branch"}),"."]})]})}),ew&&(0,a.jsx)(w.eh,{children:(0,a.jsx)(w.gu,{children:(0,a.jsx)("div",{className:"col-span-12",children:(0,a.jsx)(A.yV,{})})})}),ek&&(0,a.jsx)(w.eh,{children:(0,a.jsx)(w.gu,{children:(0,a.jsx)("div",{className:"col-span-12",children:(0,a.jsx)(k.A,{error:eN,subject:"Failed to retrieve project addons"})})})}),eP&&(0,a.jsxs)(a.Fragment,{children:[(null==er?void 0:er.infra_compute_size)==="nano"&&(null==em?void 0:em.plan.id)!=="free"&&(0,a.jsx)(w.eh,{className:"mt-4",children:(0,a.jsxs)(W.Fc,{variant:"default",children:[(0,a.jsx)(l.A,{strokeWidth:2}),(0,a.jsx)(W.XL,{children:"Free compute upgrade to Micro"}),(0,a.jsx)(W.TN,{children:"Paid Plans include a free upgrade to Micro compute. Your project is ready to upgrade for no additional charges."})]})}),(0,a.jsx)(w.eh,{children:(0,a.jsxs)(w.gu,{children:[(0,a.jsx)(w.xp,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"m-0",children:"Compute Size"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light m-0",children:"More information"}),(0,a.jsx)("div",{children:(0,a.jsx)(h(),{href:"".concat(L.aq,"/guides/platform/compute-add-ons"),target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,a.jsx)("p",{className:"text-sm m-0",children:"About compute add-ons"}),(0,a.jsx)(o.A,{size:16,strokeWidth:1.5})]})})}),(0,a.jsx)("div",{children:(0,a.jsx)(h(),{href:"".concat(L.aq,"/guides/database/connecting-to-postgres#connection-pooler"),target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,a.jsx)("p",{className:"text-sm m-0",children:"Connection Pooler"}),(0,a.jsx)(o.A,{size:16,strokeWidth:1.5})]})})})]})]})}),(0,a.jsx)(w.Rf,{children:(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"rounded-md bg-surface-100 border border-muted w-[160px] h-[96px] overflow-hidden",children:(0,a.jsx)(m(),{alt:"Compute size",width:160,height:96,src:["nano","micro"].includes((null==er?void 0:er.infra_compute_size)||"micro")?"".concat(L.o2,"/img/optimized-compute-off").concat((null==Q?void 0:Q.includes("dark"))?"":"--light",".svg"):"".concat(L.o2,"/img/optimized-compute-on").concat((null==Q?void 0:Q.includes("dark"))?"":"--light",".svg")})})}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Current option:"}),ew||void 0===e_&&el?(0,a.jsx)(A.Ay,{className:"w-32"}):(0,a.jsx)("div",{className:"flex py-3",children:(0,a.jsx)(Y.R,{infraComputeSize:null==er?void 0:er.infra_compute_size,size:"large"})}),(0,a.jsx)(y.Y,{visible:!0,type:"default",title:"Compute size has moved",description:"Compute size is now managed alongside Disk configuration on the new Compute and Disk page.",actions:(0,a.jsx)(G.$,{type:"default",asChild:!0,children:(0,a.jsx)(h(),{href:"/project/".concat(J,"/settings/compute-and-disk"),children:"Go to Compute and Disk"})})}),0===Number(null==eg?void 0:eg.disk_io_budget)?(0,a.jsxs)(H.F,{withIcon:!0,className:"mt-4",variant:"danger",title:"Your disk IO budget has run out for today",children:[(0,a.jsxs)("p",{children:["Your workload is currently running at the baseline disk IO bandwidth at"," ",null!=(E=null==eR||null==(e=eR.baseline_disk_io_mbs)?void 0:e.toLocaleString())?E:"-"," Mbps and may suffer degradation in performance."]}),(0,a.jsx)("p",{className:"mt-1",children:"Consider upgrading to a larger compute instance for a higher baseline throughput."})]}):10>=Number(null==eg?void 0:eg.disk_io_budget)?(0,a.jsxs)(H.F,{withIcon:!0,className:"mt-4",variant:"warning",title:"Your disk IO budget is running out for today",children:[(0,a.jsxs)("p",{children:["If the disk IO budget drops to zero, your workload will run at the baseline disk IO bandwidth at"," ",null!=(O=null==eR||null==(t=eR.baseline_disk_io_mbs)?void 0:t.toLocaleString())?O:"-"," Mbps and may suffer degradation in performance."]}),(0,a.jsx)("p",{className:"mt-1",children:"Consider upgrading to a larger compute instance for a higher baseline throughput."})]}):null,(0,a.jsxs)("div",{className:"mt-2 w-full flex items-center justify-between border-b py-2",children:[(0,a.jsx)(h(),{href:"/project/".concat(J,"/settings/infrastructure#ram"),children:(0,a.jsxs)("div",{className:"group flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light group-hover:text-foreground transition cursor-pointer",children:"Memory"}),(0,a.jsx)(d.A,{strokeWidth:1.5,size:16,className:"transition opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0"})]})}),(0,a.jsxs)("p",{className:"text-sm",children:[null!=($=null==eR?void 0:eR.memory_gb)?$:"-"," GB"]})]}),(0,a.jsxs)("div",{className:"w-full flex items-center justify-between border-b py-2",children:[(0,a.jsx)(h(),{href:"/project/".concat(J,"/settings/infrastructure#cpu"),children:(0,a.jsxs)("div",{className:"group flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light group-hover:text-foreground transition cursor-pointer",children:"CPU"}),(0,a.jsx)(d.A,{strokeWidth:1.5,size:16,className:"transition opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0"})]})}),(0,a.jsxs)("p",{className:"text-sm",children:[null!=(B=null==eR?void 0:eR.cpu_cores)?B:"?","-core ",ex," ",(null==eR?void 0:eR.cpu_dedicated)?"(Dedicated)":"(Shared)"]})]}),(0,a.jsxs)("div",{className:"w-full flex items-center justify-between border-b py-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"No. of direct connections"}),(0,a.jsx)("p",{className:"text-sm",children:null!=(V=null==eR?void 0:eR.connections_direct)?V:"-"})]}),(0,a.jsxs)("div",{className:"w-full flex items-center justify-between border-b py-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"No. of pooler connections"}),(0,a.jsx)("p",{className:"text-sm",children:null!=(X=null==eR?void 0:eR.connections_pooler)?X:"-"})]})]})]})})]})}),es&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.cJ,{}),(0,a.jsx)(w.eh,{children:(0,a.jsxs)(w.gu,{children:[(0,a.jsx)(w.xp,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"m-0",children:"Dedicated IPv4 address"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light m-0",children:"More information"}),(0,a.jsx)("div",{children:(0,a.jsx)(h(),{href:"".concat(L.aq,"/guides/platform/ipv4-address"),target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,a.jsx)("p",{className:"text-sm m-0",children:"About IPv4 deprecation"}),(0,a.jsx)(o.A,{size:16,strokeWidth:1.5})]})})})]})]})}),(0,a.jsx)(w.Rf,{children:(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"rounded-md bg-surface-100 border border-muted w-[160px] h-[96px] overflow-hidden",children:(0,a.jsx)("img",{alt:"IPv4",width:160,height:96,src:void 0!==eC?"".concat(L.o2,"/img/ipv4-on").concat((null==Q?void 0:Q.includes("dark"))?"":"--light",".svg?v=2"):"".concat(L.o2,"/img/ipv4-off").concat((null==Q?void 0:Q.includes("dark"))?"":"--light",".svg?v=2")})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Current option:"}),(0,a.jsx)("p",{children:void 0!==eC?"Dedicated IPv4 address is enabled":"Dedicated IPv4 address is not enabled"}),(0,a.jsx)(P.G,{type:"default",className:"mt-2 pointer-events-auto",onClick:()=>Z("ipv4"),disabled:!K||ep||!(eT||eC),tooltip:{content:{side:"bottom",text:eT||eC?void 0:"Temporarily disabled while we are migrating to IPv6, please check back later."}},children:"Change dedicated IPv4 address"})]})]})})]})})]}),(0,a.jsx)(w.cJ,{}),(0,a.jsx)(w.eh,{children:(0,a.jsxs)(w.gu,{children:[(0,a.jsx)(w.xp,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"m-0",children:"Point in time recovery"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light m-0",children:"More information"}),(0,a.jsx)("div",{children:(0,a.jsx)(h(),{href:"".concat(L.aq,"/guides/platform/backups#point-in-time-recovery"),target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,a.jsx)("p",{className:"text-sm m-0",children:"About PITR backups"}),(0,a.jsx)(o.A,{size:16,strokeWidth:1.5})]})})})]})]})}),(0,a.jsxs)(w.Rf,{children:[eh&&(0,a.jsxs)(W.Fc,{children:[(0,a.jsx)(W.XL,{children:"PITR cannot be changed with HIPAA"}),(0,a.jsx)(W.TN,{children:"All projects should have PITR enabled by default and cannot be changed with HIPAA enabled. Contact support for further assistance."}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(G.$,{type:"default",asChild:!0,children:(0,a.jsx)(b.Y,{children:"Contact support"})})})]}),(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"rounded-md bg-surface-100 border border-muted w-[160px] h-[96px] overflow-hidden",children:(0,a.jsx)(m(),{alt:"Point-In-Time-Recovery",width:160,height:96,src:void 0!==eS?"".concat(L.o2,"/img/pitr-on").concat((null==Q?void 0:Q.includes("dark"))?"":"--light",".svg"):"".concat(L.o2,"/img/pitr-off").concat((null==Q?void 0:Q.includes("dark"))?"":"--light",".svg")})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Current option:"}),(0,a.jsx)("p",{children:void 0!==eS?"Point in time recovery of ".concat(null==(s=eS.variant.meta)?void 0:s.backup_duration_days," days is enabled"):"Point in time recovery is not enabled"}),ef?ee?(0,a.jsx)(P.G,{disabled:!0,type:"default",className:"mt-2",tooltip:{content:{side:"bottom",text:"Point in time recovery is not supported with OrioleDB"}},children:"Change point in time recovery"}):(0,a.jsx)(g.A,{projectUpdateDisabled:ep,projectNotActive:!K,children:(0,a.jsx)(G.$,{type:"default",className:"mt-2 pointer-events-auto",onClick:()=>Z("pitr"),disabled:!K||ep||!ef||eh,children:"Change point in time recovery"})}):(0,a.jsxs)(W.Fc,{className:"mt-2",children:[(0,a.jsx)(W.XL,{children:"Your project is too old to enable PITR"}),(0,a.jsxs)(W.TN,{children:[(0,a.jsx)("p",{className:"text-sm leading-normal mb-2",children:"Reach out to us via support if you're interested"}),(0,a.jsx)(G.$,{asChild:!0,type:"default",children:(0,a.jsx)(b.Y,{queryParams:{projectRef:J,category:f.S.SALES_ENQUIRY,subject:"Project too old old for PITR"},children:(0,a.jsx)("a",{children:"Contact support"})})})]})]})]})]})]})]})}),et&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.cJ,{}),(0,a.jsx)(w.eh,{children:(0,a.jsxs)(w.gu,{children:[(0,a.jsx)(w.xp,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"m-0",children:"Custom domain"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light m-0",children:"More information"}),(0,a.jsx)("div",{children:(0,a.jsx)(h(),{href:"".concat(L.aq,"/guides/platform/custom-domains"),target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,a.jsx)("p",{className:"text-sm m-0",children:"About custom domains"}),(0,a.jsx)(o.A,{size:16,strokeWidth:1.5})]})})})]})]})}),(0,a.jsx)(w.Rf,{children:(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"rounded-md bg-surface-100 border border-muted w-[160px] h-[96px] overflow-hidden",children:(0,a.jsx)("img",{alt:"Custom Domain",width:160,height:96,src:void 0!==eI?"".concat(L.o2,"/img/custom-domain-on").concat((null==Q?void 0:Q.includes("dark"))?"":"--light",".svg"):"".concat(L.o2,"/img/custom-domain-off").concat((null==Q?void 0:Q.includes("dark"))?"":"--light",".svg")})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Current option:"}),(0,a.jsx)("p",{children:void 0!==eI?"Custom domain is enabled":"Custom domain is not enabled"}),(0,a.jsx)(g.A,{projectUpdateDisabled:ep,projectNotActive:!K,children:(0,a.jsx)(G.$,{type:"default",className:"mt-2 pointer-events-auto",onClick:()=>Z("customDomain"),disabled:!K||ep,children:"Change custom domain"})})]})]})})]})})]})]}),(0,a.jsx)(ec,{"data-sentry-element":"PITRSidePanel","data-sentry-source-file":"Addons.tsx"}),(0,a.jsx)(ea,{"data-sentry-element":"CustomDomainSidePanel","data-sentry-source-file":"Addons.tsx"}),(0,a.jsx)(en,{"data-sentry-element":"IPv4SidePanel","data-sentry-source-file":"Addons.tsx"})]})};var em=s(10508),ep=s(43479);let eh=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.eh,{"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"addons.tsx",children:(0,a.jsxs)(w.Uw,{"data-sentry-element":"ScaffoldHeader","data-sentry-source-file":"addons.tsx",children:[(0,a.jsx)(w.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"addons.tsx",children:"Add ons"}),(0,a.jsx)(w.dX,{"data-sentry-element":"ScaffoldDescription","data-sentry-source-file":"addons.tsx",children:"Level up your project with add-ons"})]})}),(0,a.jsx)(eu,{"data-sentry-element":"Addons","data-sentry-source-file":"addons.tsx"})]});eh.getLayout=e=>(0,a.jsx)(em.A,{children:(0,a.jsx)(ep.A,{title:"Add ons",children:e})});let ex=eh},29701:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/settings/addons",function(){return s(27769)}])},29948:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},31626:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},37873:(e,t,s)=>{"use strict";s.d(t,{BS:()=>l,Dm:()=>c,HJ:()=>y,Rf:()=>v,Uw:()=>d,Vw:()=>N,Xr:()=>b,aw:()=>x,bV:()=>n,cJ:()=>p,dX:()=>u,eh:()=>o,fh:()=>g,gu:()=>m,sZ:()=>h,tn:()=>j,xp:()=>f});var a=s(80263),i=s(53239),r=s(80100);let n="mx-auto w-full max-w-[1200px]",l="px-4 @lg:px-6 @xl:px-10",o=(0,i.forwardRef)((e,t)=>{let{className:s,bottomPadding:i,size:n="default",...o}=e;return(0,a.jsx)("div",{ref:t,...o,className:(0,r.cn)("mx-auto w-full @container",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[n],l,i&&"pb-16",s)})}),d=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("header",{...i,ref:t,className:(0,r.cn)("w-full","flex-col gap-3 py-6",s)})}),c=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("h1",{ref:t,...i,className:(0,r.cn)(s)})}),u=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("p",{ref:t,...i,className:(0,r.cn)("text-sm text-foreground-light",s)})}),m=(0,i.forwardRef)((e,t)=>{let{className:s,isFullWidth:i,topPadding:n,...l}=e;return(0,a.jsx)("div",{ref:t,...l,className:(0,r.cn)("flex flex-col first:pt-12 py-6",i?"w-full":"gap-3 @md:grid-cols-12 @lg:grid",s)})}),p=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("div",{ref:t,...i,className:(0,r.cn)("w-full h-px bg-border",s)})}),h=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("h3",{ref:t,...i,className:(0,r.cn)("text-foreground text-xl",s)})}),x=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("p",{ref:t,...i,className:(0,r.cn)("text-sm text-foreground-light",s)})}),f=(0,i.forwardRef)((e,t)=>{let{className:s,children:i,title:n,...l}=e;return(0,a.jsxs)("div",{ref:t,...l,className:(0,r.cn)("col-span-4 xl:col-span-5 prose text-sm",s),children:[n&&(0,a.jsx)("h2",{children:n}),i]})}),v=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("div",{ref:t,...i,className:(0,r.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",s)})}),j=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("div",{ref:t,...i,className:(0,r.cn)("flex flex-col gap-3 items-center",s)})}),y=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("div",{ref:t,...i,className:(0,r.cn)("flex w-full items-center",s)})}),g=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("div",{ref:t,...i,className:(0,r.cn)("flex flex-row gap-3",s)})}),b=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("div",{ref:t,...i,className:(0,r.cn)("flex flex-col gap-3","min-w-[420px]",s)})}),N=(0,i.forwardRef)((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("div",{ref:t,...i,className:(0,r.cn)(n,l,"my-8 flex flex-col gap-8",s)})});d.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",u.displayName="ScaffoldDescription",o.displayName="ScaffoldContainer",p.displayName="ScaffoldDivider",m.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",f.displayName="ScaffoldSectionDetail",v.displayName="ScaffoldSectionContent",j.displayName="ScaffoldFilterAndContent",y.displayName="ScaffoldActionsContainer",g.displayName="ScaffoldActionsGroup",N.displayName="ScaffoldContainerLegacy",h.displayName="ScaffoldSectionTitle",x.displayName="ScaffoldSectionDescription"},53407:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},54831:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},66959:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]])},69988:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])},74195:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]])},74310:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},77444:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},79918:(e,t,s)=>{"use strict";s.d(t,{W:()=>n});var a=s(74065),i=s(80814),r=s(53239);function n(){let{replace:e=!0,arrayKeys:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=JSON.stringify(t),n=(0,r.useMemo)(()=>new Set(t),[s]),l=(0,i.useRouter)(),o=(0,r.useMemo)(()=>Object.fromEntries(Object.entries(l.query).map(e=>{let[t,s]=e;return n.has(t)?Array.isArray(s)?[t,s]:[t,[s]]:[t,s]})),[n,l.query]),d=(0,a.A)(o);return[o,(0,r.useCallback)(t=>{let s=d.current,a="function"==typeof t?t(s):t,i=Object.fromEntries(Object.entries({...s,...a}).filter(e=>{let[,t]=e;return!!t}));(e?l.replace:l.push)({pathname:l.pathname,query:i},void 0,{shallow:!0,scroll:!1})},[l,e])]}},81121:(e,t,s)=>{"use strict";s.d(t,{P:()=>a});let a={functionsCombinedStats:(e,t)=>{let{interval:s,functionId:a}=t;return["projects",e,"functions-combined-stats",{interval:s,functionId:a}]},functionsInvStats:(e,t)=>{let{interval:s,functionId:a}=t;return["projects",e,"functions-inv-stats",{interval:s,functionId:a}]},functionsReqStats:(e,t)=>{let{interval:s,functionId:a}=t;return["projects",e,"functions-req-stats",{interval:s,functionId:a}]},functionsResourceUsage:(e,t)=>{let{interval:s,functionId:a}=t;return["projects",e,"functions-resource-usage",{interval:s,functionId:a}]},orgDailyStats:(e,t)=>{let{startDate:s,endDate:a,projectRef:r}=t;return["organizations",e,"daily-stats",{startDate:i(s),endDate:i(a),projectRef:r}]},infraMonitoring:(e,t)=>{let{attribute:s,startDate:a,endDate:i,interval:r,databaseIdentifier:n}=t;return["projects",e,"infra-monitoring",{attribute:s,startDate:a,endDate:i,interval:r,databaseIdentifier:n}]},projectMetrics:(e,t)=>{let{interval:s}=t;return["projects",e,"project.metrics",{interval:s}]},usageApiCounts:(e,t)=>["projects",e,"usage.api-counts",t],usageApiRequestsCount:e=>["projects",e,"usage.api-requests-count"]};function i(e){return e?e.split("T")[0]:e}},88845:(e,t,s)=>{"use strict";s.d(t,{F:()=>m});var a=s(80263),i=s(53239),r=s(7981),n=s(8e3),l=s(31626),o=s(60656),d=s(80356),c=s(68152);let u={danger:(0,a.jsx)(n.A,{strokeWidth:1.5,size:18}),success:(0,a.jsx)(l.A,{strokeWidth:1.5,size:18}),warning:(0,a.jsx)(o.A,{strokeWidth:1.5,size:18}),info:(0,a.jsx)(d.A,{strokeWidth:1.5,size:18}),neutral:(0,a.jsx)(a.Fragment,{})};function m(e){let{variant:t="neutral",className:s,title:n,withIcon:l,closable:o,children:d,icon:m,actions:p}=e,h=(0,r.A)("alert"),[x,f]=(0,i.useState)(!0),v=[h.base];v.push(h.variant[t].base),s&&v.push(s);let j=[h.description,h.variant[t].description],y=[h.close];return(0,a.jsx)(a.Fragment,{children:x&&(0,a.jsxs)("div",{className:v.join(" "),children:[l?(0,a.jsx)("div",{className:h.variant[t].icon,children:l&&u[t]}):null,m&&m,(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:[h.variant[t].header,h.header].join(" "),children:n}),(0,a.jsx)("div",{className:j.join(" "),children:d})]}),p]}),o&&(0,a.jsx)("button",{"aria-label":"Close alert",onClick:()=>f(!1),className:y.join(" "),children:(0,a.jsx)(c.A,{strokeWidth:2,size:16})})]})})}},98103:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},99940:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(86848).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{e.O(0,[60858,15599,16110,44952,36538,43833,76984,72391,74004,40545,596,10508,48340,75187,29471,34338,90636,46593,38792],()=>e(e.s=29701)),_N_E=e.O()}]);
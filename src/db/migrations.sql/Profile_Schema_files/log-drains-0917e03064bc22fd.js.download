try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="849ac321-8f77-4a5f-9d26-d6f7ff8e78c6",e._sentryDebugIdIdentifier="sentry-dbid-849ac321-8f77-4a5f-9d26-d6f7ff8e78c6")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7999,70936],{1324:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]])},1374:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},13655:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]])},17086:(e,t,a)=>{"use strict";a.d(t,{Rx:()=>o,YI:()=>i});var r=a(80263),n=a(48510),s=a(1324);let l={height:24,width:24,className:"text-foreground-light"},i=[{value:"webhook",name:"Custom Endpoint",description:"Forward logs as a POST request to a custom HTTP endpoint",icon:(0,r.jsx)(s.A,{...l})},{value:"datadog",name:"Datadog",description:"Datadog is a monitoring service for cloud-scale applications",icon:(0,r.jsx)(n.Zm,{...l,fill:"currentColor",strokeWidth:0})},{value:"loki",name:"Loki",description:"Loki is an open-source log aggregation system designed to store and query logs from multiple sources",icon:(0,r.jsx)(n.Dg,{...l,fill:"currentColor",strokeWidth:0})},{value:"sentry",name:"Sentry",description:"Sentry is an application monitoring service that helps developers identify and debug performance issues and errors",icon:(0,r.jsx)(n.sQ,{...l,fill:"currentColor",strokeWidth:0})}];i.map(e=>e.value);let o=[{label:"AP1",value:"AP1"},{label:"AP2",value:"AP2"},{label:"EU",value:"EU"},{label:"US1",value:"US1"},{label:"US1-FED",value:"US1-FED"},{label:"US3",value:"US3"},{label:"US5",value:"US5"}]},21290:(e,t,a)=>{"use strict";a.d(t,{e:()=>d,p:()=>o});var r=a(80263),n=a(10115),s=a(37724),l=a(53239),i=a(80100);let o=l.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.bL,{className:(0,i.cn)("grid gap-2",a),...s,ref:t})});o.displayName=n.bL.displayName;let d=l.forwardRef((e,t)=>{let{image:a,label:l,showIndicator:o=!0,...d}=e;return(0,r.jsxs)(n.q7,{ref:t,...d,className:(0,i.cn)("flex flex-col gap-2","w-48","bg-overlay","rounded-md","border","p-2","hover:border-foreground-muted","hover:z-[1] focus-visible:z-[1]","data-[state=checked]:z-[1]","data-[state=checked]:ring-2 data-[state=checked]:ring-border","data-[state=checked]:bg-surface-200 dark:data-[state=checked]:bg-surface-300","data-[state=checked]:border-foreground/50","transition-colors","group",d.className),children:[d.children,(0,r.jsxs)("label",{className:"flex gap-2 w-full",id:d.id,htmlFor:d.value,children:[o&&(0,r.jsx)("div",{className:" aspect-square h-4 w-4  rounded-full border group-data-[state=checked]:border-foreground-muted group-focus:border-foreground-muted group-hover:border-foreground-muted ring-offset-background  group-focus:outline-none  group-focus-visible:ring-2 group-focus-visible:ring-ring group-focus-visible:ring-offset-2  group-disabled:cursor-not-allowed group-disabled:opacity-50 flex items-center justify-center transition ",children:(0,r.jsx)(n.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(s.A,{className:"h-2.5 w-2.5 fill-current text-current"})})}),(0,r.jsx)("div",{className:(0,i.cn)("w-full","text-xs transition-colors text-left","text-light","group-hover:text-foreground group-data-[state=checked]:text-foreground",d.disabled?"cursor-not-allowed":"cursor-pointer"),children:l})]})]})});d.displayName=n.q7.displayName},21416:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(80263),n=a(52555),s=a.n(n),l=a(24487),i=a(21650),o=a(99779);let d=e=>{let{name:t="",isActive:a,isExternal:n,icon:d,rightIcon:c,url:u="",target:h="_self",onClick:p,textClassName:m="",hoverText:x="",label:f}=e,g=(0,r.jsx)(l.Ay.Item,{icon:d,rounded:!0,active:a,onClick:p,children:(0,r.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,r.jsxs)("div",{title:x||("string"==typeof t?t:""),className:"flex space-between items-center gap-2 truncate w-full "+m,children:[(0,r.jsx)("span",{className:"truncate flex-1",children:t}),void 0!==f&&(0,r.jsx)(i.E,{variant:"warning",className:"py-0 px-1.5 uppercase",children:f})]}),c&&(0,r.jsx)("div",{children:c})]})});return u?n?(0,r.jsx)(o.$,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:d,children:(0,r.jsx)(s(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,r.jsx)(s(),{href:u,className:"block",target:h,children:g}):g}},24487:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>h});var r=a(80263),n=a(53239),s=a(7981),l=a(80100);function i(e){let{children:t,className:a,tag:n="div",style:s}=e;return(0,r.jsx)("".concat(n),{style:s,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}i.Title=function(e){let{className:t,level:a=1,children:n,style:s}=e;return(0,r.jsx)("h".concat(a),{style:s,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:n})},i.Text=function(e){let{className:t,children:a,style:n,type:s,disabled:l,mark:i,code:o,keyboard:d,underline:c,strikethrough:u,strong:h,small:p}=e;return o?(0,r.jsx)("code",{style:n,children:a}):i?(0,r.jsx)("mark",{style:n,children:a}):d?(0,r.jsx)("kbd",{style:n,children:a}):h?(0,r.jsx)("strong",{style:n,children:a}):(0,r.jsx)("span",{style:n,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:a})},i.Link=function(e){let{children:t,target:a="_blank",href:n,className:s,onClick:l,style:i}=e;return(0,r.jsx)("a",{onClick:l,href:n,target:a,rel:"noopener noreferrer",style:i,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})};let o=(0,n.createContext)({type:"text"}),d=e=>{let{type:t}=e;return(0,r.jsx)(o.Provider,{value:{type:t},"data-sentry-element":"MenuContext.Provider","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},c=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:a,ulClassName:n,style:s,type:l="text"}=e;return(0,r.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:a,style:s,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)(d,{type:l,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)("ul",{className:n,children:t})})})}u.Item=function(e){let{children:t,icon:a,active:n,rounded:i,onClick:o,doNotCloseOverlay:d=!1,showActiveBar:u=!1,style:h}=e,p=(0,s.A)("menu"),{type:m}=c(),x=[p.item.base];x.push(p.item.variants[m].base),n?x.push(p.item.variants[m].active):x.push(p.item.variants[m].normal);let f=[p.item.content.base];n?f.push(p.item.content.active):f.push(p.item.content.normal);let g=[p.item.icon.base];return n?g.push(p.item.icon.active):g.push(p.item.icon.normal),(0,r.jsxs)("li",{role:"menuitem",className:(0,l.cn)("outline-none",x),style:h,onClick:o,"aria-current":n?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[a&&(0,r.jsx)("div",{className:"".concat(g.join(" ")," min-w-fit"),children:a}),(0,r.jsx)("span",{className:f.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:a,title:n}=e,l=(0,s.A)("menu"),{type:i}=c();return(0,r.jsxs)("div",{className:[l.group.base,l.group.variants[i]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[a&&(0,r.jsx)("span",{className:l.group.icon,children:a}),(0,r.jsx)("span",{className:l.group.content,children:n}),t]})},u.Misc=function(e){let{children:t}=e;return(0,r.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)(i.Text,{"data-sentry-element":"Typography.Text","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)("span",{children:t})})})};let h=u},29948:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},30627:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ev});var r=a(80263),n=a(60045),s=a(53239),l=a(73969),i=a(22891),o=a(32981),d=a(33922),c=a(87494),u=a(10663),h=a(51982),p=a(52555),m=a.n(p),x=a(56947),f=a(24523);let g={list:e=>["projects",e,"log-drains"]};async function y(e,t){let{ref:a}=e;if(!a)throw Error("ref is required");let{data:r,error:n}=await (0,f.Jt)("/platform/projects/{ref}/analytics/log-drains",{params:{path:{ref:a}},signal:t});return n&&(0,f.H4)(n),r}let j=function(e){let{ref:t}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,x.I)({queryKey:g.list(t),queryFn:e=>{let{signal:a}=e;return y({ref:t},a)},enabled:a&&!!t,refetchOnMount:!1,...r})};var v=a(85039),b=a(65887),k=a(27371),N=a(65346),w=a(66329),_=a(21290),A=a(72608),L=a(99779),D=a(80100),S=a(44053),C=a(4969),T=a(95525),z=a(17086);let E="log-drain-destination-form",I=u.gM("type",[u.Ik({type:u.eu("webhook"),url:u.Yj().regex((0,T.r)(),"Endpoint URL is required and must be a valid URL").refine(e=>e.startsWith("http://")||e.startsWith("https://"),"Endpoint URL must start with http:// or https://"),http:u.k5(["http1","http2"]),gzip:u.zM(),headers:u.g1(u.Yj(),u.Yj()).optional()}),u.Ik({type:u.eu("datadog"),api_key:u.Yj().min(1,{message:"API key is required"}),region:u.Yj().min(1,{message:"Region is required"})}),u.Ik({type:u.eu("loki"),url:u.Yj().min(1,{message:"Loki URL is required"}).refine(e=>e.startsWith("http://")||e.startsWith("https://"),"Loki URL must start with http:// or https://"),headers:u.g1(u.Yj(),u.Yj()),username:u.Yj().optional(),password:u.Yj().optional()}),u.Ik({type:u.eu("elastic")}),u.Ik({type:u.eu("postgres")}),u.Ik({type:u.eu("bigquery")}),u.Ik({type:u.eu("clickhouse")}),u.Ik({type:u.eu("s3")}),u.Ik({type:u.eu("sentry"),dsn:u.Yj().min(1,{message:"Sentry DSN is required"}).refine(e=>e.startsWith("https://"),"Sentry DSN must start with https://")})]),R=u.Ik({name:u.Yj().min(1,{message:"Destination name is required"}),description:u.Yj().optional()}).and(I);function F(e){let{value:t,label:a,description:n,formControl:s,placeholder:l,type:i,defaultValue:o}=e;return(0,r.jsx)(b.zB,{name:t,control:s,render:e=>{let{field:t}=e;return(0,r.jsx)(S.M,{layout:"horizontal",label:a,description:n||"",children:(0,r.jsx)(b.MJ,{children:(0,r.jsx)(k.p,{defaultValue:o,type:i||"text",placeholder:l,...t})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-component":"LogDrainFormItem","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx"})}function M(e){var t,a,n,u;let{open:p,onOpenChange:x,defaultValues:f,onSubmit:g,isLoading:y,mode:T}=e,I=(null==f?void 0:f.config)||{},M="create"===T?{"Content-Type":"application/json"}:(null==I?void 0:I.headers)||{},q=(0,i._P)("SentryLogDrain"),{ref:P}=(0,i.g)(),{data:H}=j({ref:P}),Y=(null==f?void 0:f.type)||"webhook",[U,V]=(0,s.useState)({name:"",value:""}),W=(0,h.n)(),$=(0,c.mN)({resolver:(0,o.u)(R),values:{name:(null==f?void 0:f.name)||"",description:(null==f?void 0:f.description)||"",type:Y,http:(null==I?void 0:I.http)||"http2",gzip:"create"===T||(null==I?void 0:I.gzip)||!1,headers:M,url:(null==I?void 0:I.url)||"",api_key:(null==I?void 0:I.api_key)||"",region:(null==I?void 0:I.region)||"",username:(null==I?void 0:I.username)||"",password:(null==I?void 0:I.password)||"",dsn:(null==I?void 0:I.dsn)||""}}),B=$.watch("headers"),Z=$.watch("type"),O=(null==(t=Object.keys(B||{}))?void 0:t.length)>0;return(0,s.useEffect)(()=>{"create"!==T||p||$.reset()},[T,p,$]),(0,r.jsx)(N.cj,{open:p,onOpenChange:e=>{V({name:"",value:""}),x(e)},"data-sentry-element":"Sheet","data-sentry-component":"LogDrainDestinationSheetForm","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:(0,r.jsxs)(N.h,{tabIndex:void 0,showClose:!1,size:"lg",className:"overflow-y-auto flex flex-col","data-sentry-element":"SheetContent","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:[(0,r.jsx)(N.Fm,{"data-sentry-element":"SheetHeader","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:(0,r.jsx)(N.qp,{"data-sentry-element":"SheetTitle","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:"Add destination"})}),(0,r.jsxs)(N.Xc,{className:"!px-0 !pb-0","data-sentry-element":"SheetSection","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:[(0,r.jsx)(b.lV,{...$,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:(0,r.jsxs)("form",{id:E,onSubmit:e=>{e.preventDefault();let t=$.getValues("name");if((null==H?void 0:H.length)&&(null==H?void 0:H.find(e=>e.name===t))&&"create"===T)return void l.oR.error("Log drain name already exists");$.handleSubmit(g)(e),W("log_drain_save_button_clicked",{destination:$.getValues("type")})},children:[(0,r.jsxs)("div",{className:"space-y-8 px-content",children:[(0,r.jsx)(F,{value:"name",placeholder:"My Destination",label:"Name",formControl:$.control,"data-sentry-element":"LogDrainFormItem","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx"}),(0,r.jsx)(F,{value:"description",placeholder:"Optional description",label:"Description",formControl:$.control,"data-sentry-element":"LogDrainFormItem","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx"}),"create"===T&&(0,r.jsx)(S.M,{layout:"horizontal",label:"Type",description:(null==(a=z.YI.find(e=>e.value===Z))?void 0:a.description)||"",children:(0,r.jsxs)(w.l6,{defaultValue:Y,value:$.getValues("type"),onValueChange:e=>$.setValue("type",e),children:[(0,r.jsx)(w.bq,{children:null==(n=z.YI.find(e=>e.value===Z))?void 0:n.name}),(0,r.jsx)(w.gC,{children:z.YI.filter(e=>"sentry"!==e.value||q).map(e=>(0,r.jsx)(w.eb,{value:e.value,id:e.value,className:"text-left",children:e.name},e.value))})]})})]}),(0,r.jsxs)("div",{className:"space-y-8 mt-4",children:["webhook"===Z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"px-content space-y-8",children:[(0,r.jsx)(F,{value:"url",label:"Endpoint URL",formControl:$.control,placeholder:"https://example.com/log-drain"}),(0,r.jsx)(b.zB,{control:$.control,name:"http",render:e=>{let{field:t}=e;return(0,r.jsx)(S.M,{layout:"horizontal",label:"HTTP Version",children:(0,r.jsx)(b.MJ,{children:(0,r.jsxs)(_.p,{className:"flex gap-2",onValueChange:t.onChange,value:t.value,children:[(0,r.jsx)(b.eI,{asChild:!0,children:(0,r.jsx)(b.MJ,{children:(0,r.jsx)(_.e,{value:"http1",label:"HTTP/1"})})}),(0,r.jsx)(b.eI,{asChild:!0,children:(0,r.jsx)(b.MJ,{children:(0,r.jsx)(_.e,{value:"http2",label:"HTTP/2"})})})]})})})}})]}),(0,r.jsx)(b.zB,{control:$.control,name:"gzip",render:e=>{let{field:t}=e;return(0,r.jsx)(b.eI,{className:"space-y-2 px-4",children:(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(b.MJ,{children:(0,r.jsx)(A.d,{checked:t.value,onCheckedChange:t.onChange})}),(0,r.jsx)(b.lR,{className:"text-base",children:"Gzip"}),(0,r.jsx)(C.I,{align:"start",children:"Gzip compresses logs before sending it to the destination."})]})})}})]}),"datadog"===Z&&(0,r.jsxs)("div",{className:"grid gap-4 px-content",children:[(0,r.jsx)(F,{type:"password",value:"api_key",label:"API Key",formControl:$.control,description:(0,r.jsxs)(r.Fragment,{children:["The API Key obtained from the Datadog dashboard"," ",(0,r.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"text-sm underline transition hover:text-foreground",href:"https://app.datadoghq.com/organization-settings/api-keys",children:"here"})]})}),(0,r.jsx)(b.zB,{name:"region",control:$.control,render:e=>{let{field:t}=e;return(0,r.jsx)(S.M,{layout:"horizontal",label:"Region",description:(0,r.jsxs)("p",{children:["The Datadog region to send logs to. Read more about Datadog regions"," ",(0,r.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-foreground transition",href:"https://docs.datadoghq.com/getting_started/site/#access-the-datadog-site",children:"here"}),"."]}),children:(0,r.jsx)(b.MJ,{children:(0,r.jsxs)(w.l6,{value:t.value,onValueChange:t.onChange,children:[(0,r.jsx)(w.bq,{className:"col-span-3",children:(0,r.jsx)(w.yv,{placeholder:"Select a region"})}),(0,r.jsx)(w.gC,{children:(0,r.jsxs)(w.s3,{children:[(0,r.jsx)(w.TR,{children:"Region"}),z.Rx.map(e=>(0,r.jsx)(w.eb,{value:e.value,children:e.label},e.value))]})})]})})})}})]}),"loki"===Z&&(0,r.jsxs)("div",{className:"grid gap-4 px-content",children:[(0,r.jsx)(F,{type:"url",value:"url",placeholder:"https://my-logs-endpoint.grafana.net/loki/api/v1/push",label:"Loki URL",formControl:$.control,description:"The Loki HTTP(S) endpoint to send events."}),(0,r.jsx)(F,{value:"username",label:"Username",placeholder:"123456789",formControl:$.control}),(0,r.jsx)(F,{type:"password",value:"password",label:"Password",placeholder:"glc_ABCD1234567890",formControl:$.control})]}),"sentry"===Z&&(0,r.jsx)("div",{className:"grid gap-4 px-content",children:(0,r.jsx)(F,{type:"text",value:"dsn",label:"DSN",placeholder:"https://<project_id>@o<organization_id>.ingest.sentry.io/<project_id>",formControl:$.control,description:(0,r.jsxs)(r.Fragment,{children:["The DSN obtained from the Sentry dashboard. Read more about DSNs"," ",(0,r.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"text-sm underline transition hover:text-foreground",href:"https://docs.sentry.io/concepts/key-terms/dsn-explainer/",children:"here"}),"."]})})}),(0,r.jsx)(b.C5,{"data-sentry-element":"FormMessage_Shadcn_","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx"})]})]})}),("webhook"===Z||"loki"===Z)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"border-t mt-4",children:[(0,r.jsxs)("div",{className:"px-content pt-2 pb-3 border-b bg-background-alternative-200",children:[(0,r.jsx)("h2",{className:"text-sm",children:"Custom Headers"}),(0,r.jsx)("p",{className:"text-xs text-foreground-lighter",children:"webhook"===Z?"Set custom headers when draining logs to the Endpoint URL":"loki"===Z?"Set custom headers when draining logs to the Loki HTTP(S) endpoint":""})]}),(0,r.jsx)("div",{className:"divide-y",children:O&&(null==(u=Object.keys(B||{}))?void 0:u.map(e=>(0,r.jsxs)("div",{className:"flex text-sm px-content text-foreground items-center font-mono py-1.5 group",children:[(0,r.jsx)("div",{className:"w-full",children:e}),(0,r.jsx)("div",{className:"w-full truncate",title:null==B?void 0:B[e],children:null==B?void 0:B[e]}),(0,r.jsx)(L.$,{className:"justify-self-end opacity-0 group-hover:opacity-100 w-7",type:"text",title:"Remove",icon:(0,r.jsx)(d.A,{}),onClick:()=>(function(e){let t={...B};delete t[e],$.setValue("headers",t)})(e)})]},e)))})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),function(){let e=$.getValues("headers");if(!e)return;let t=Object.keys(e);(null==t?void 0:t.length)===20?l.oR.error("You can only have 20 custom headers"):(null==t?void 0:t.includes(U.name))?l.oR.error("Header name already exists"):U.name&&U.value?($.setValue("headers",{...e,[U.name]:U.value}),V({name:"",value:""})):l.oR.error("Header name and value are required")}()},className:"flex border-t py-4 gap-4 items-center px-content",children:[(0,r.jsx)("label",{className:"sr-only",htmlFor:"header-name",children:"Header name"}),(0,r.jsx)(k.p,{id:"header-name",type:"text",placeholder:"x-header-name",value:U.name,onChange:e=>V({...U,name:e.target.value})}),(0,r.jsx)("label",{className:"sr-only",htmlFor:"header-value",children:"Header value"}),(0,r.jsx)(k.p,{id:"header-value",type:"text",placeholder:"Header value",value:U.value,onChange:e=>V({...U,value:e.target.value})}),(0,r.jsx)(L.$,{htmlType:"submit",type:"outline",children:"Add"})]})]})]}),(0,r.jsxs)("div",{className:"mt-auto",children:[(0,r.jsx)(N.Xc,{className:(0,D.cn)("border-t bg-background-alternative-200 mt-auto py-1.5 ".concat(i.pe?"":"hidden")),"data-sentry-element":"SheetSection","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:(0,r.jsxs)("ul",{className:"text-right text-foreground-light divide-y divide-dashed text-sm",children:[(0,r.jsxs)("li",{className:"flex items-center justify-between gap-2 py-2",translate:"no",children:[(0,r.jsx)("span",{className:"text-foreground-lighter",children:"Additional drain cost"}),(0,r.jsx)("span",{className:"text-foreground",children:"$60 per month"})]}),(0,r.jsxs)("li",{className:"flex items-center justify-between gap-2 py-2",translate:"no",children:[(0,r.jsx)("span",{className:"text-foreground-lighter",children:"Per million events"}),(0,r.jsx)("span",{children:"+$0.20"})]}),(0,r.jsxs)("li",{className:"flex items-center justify-between gap-2 py-2",translate:"no",children:[(0,r.jsx)("span",{className:"text-foreground-lighter",children:"Per GB egress"}),(0,r.jsx)("span",{children:"+$0.09"})]})]})}),(0,r.jsxs)(N.XW,{className:"p-content !mt-0 !justify-between !flex-row w-full items-center","data-sentry-element":"SheetFooter","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:[(0,r.jsxs)("span",{className:"text-sm text-foreground-light",children:[(0,r.jsx)("span",{children:"See full pricing breakdown"})," ",(0,r.jsx)(m(),{href:"".concat(v.aq,"/guides/platform/manage-your-usage/log-drains"),target:"_blank",className:"text-foreground underline underline-offset-2 decoration-foreground-muted hover:decoration-foreground transition-all","data-sentry-element":"Link","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:"here"})]}),(0,r.jsx)(L.$,{form:E,loading:y,htmlType:"submit",type:"primary","data-sentry-element":"Button","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:"Save destination"})]})]})]})})}var q=a(66711),P=a(7601),H=a(44168),Y=a(32144),U=a(80251);async function V(e){let{projectRef:t,token:a}=e,{data:r,error:n}=await (0,f.yH)("/platform/projects/{ref}/analytics/log-drains/{token}",{params:{path:{ref:t,token:a}}});return n&&(0,f.H4)(n),r}let W=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,Y.jE)();return(0,U.n)({mutationFn:e=>V(e),async onSuccess(t,a,n){let{projectRef:s}=a;await r.invalidateQueries({queryKey:g.list(s)}),await (null==e?void 0:e(t,a,n))},async onError(e,a,r){void 0===t?l.oR.error("Failed to mutate: ".concat(e.message)):t(e,a,r)},...a})};var $=a(71492),B=a(78039),Z=a(78511),O=a(21162),J=a(68421),G=a(16488),Q=a(88712),K=a(97507),X=a(48510),ee=a(1324);let et=()=>{let[e,t]=(0,s.useState)(0),a=[{id:"datadog",name:"Datadog",icon:(0,r.jsx)(X.Zm,{fill:"currentColor",strokeWidth:0,size:36})},{id:"loki",name:"Loki",icon:(0,r.jsx)(X.Dg,{fill:"currentColor",strokeWidth:0,size:36})},{id:"https",name:"HTTPS",icon:(0,r.jsx)(ee.A,{size:36})},{id:"sentry",name:"Sentry",icon:(0,r.jsx)(X.sQ,{fill:"currentColor",strokeWidth:0,size:36})}];(0,s.useEffect)(()=>{let e=setInterval(()=>{t(e=>(e+1)%a.length)},2500);return()=>clearInterval(e)},[a.length]);let n=()=>(e-1+a.length)%a.length,l=()=>(e+1)%a.length,i={hidden:{x:"calc(-50% + 120px)",y:"-50%",scale:.6,opacity:0,filter:"blur(1px)"},right:{x:"calc(-50% + 80px)",y:"-50%",scale:.8,opacity:.5,zIndex:2,filter:"blur(1px)"},center:{x:"-50%",y:"-50%",scale:1,opacity:1,zIndex:3,filter:"blur(0px)"},left:{x:"calc(-50% - 80px)",y:"-50%",scale:.8,opacity:.5,zIndex:2,filter:"blur(1px)"},exit:{x:"calc(-50% - 120px)",y:"-50%",scale:.6,opacity:0,filter:"blur(1px)"}},o=[n(),e,l()];return(0,r.jsxs)("div",{className:"relative w-48 h-32 mx-auto mb-8 overflow-hidden","data-sentry-component":"AnimatedLogos","data-sentry-source-file":"AnimatedLogos.tsx",children:[(0,r.jsx)(Q.N,{initial:!1,"data-sentry-element":"AnimatePresence","data-sentry-source-file":"AnimatedLogos.tsx",children:a.map((t,a)=>{if(!o.includes(a))return null;let s=(t=>t===e?"center":t===n()?"left":t===l()?"right":"hidden")(a),d=a===e;return(0,r.jsx)(K.P.div,{className:(0,D.cn)("absolute top-1/2 left-1/2 flex items-center justify-center rounded-lg",d?"w-24 h-24":"w-20 h-20"),variants:i,initial:"hidden",animate:s,exit:"exit",transition:{duration:.5,ease:"easeInOut"},children:(0,r.jsx)("span",{children:t.icon})},t.id)})}),(0,r.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-background-surface-75 via-transparent to-background-surface-75 z-40"})]})};var ea=a(86541);let er=()=>(0,r.jsx)("div",{className:"flex items-center justify-center gap-1.5 text-sm","data-sentry-component":"VoteLink","data-sentry-source-file":"VoteLink.tsx",children:(0,r.jsxs)("p",{className:"text-foreground-light",children:["Don't see your preferred drain?"," ",(0,r.jsx)(m(),{href:"https://github.com/orgs/supabase/discussions/28324?sort=top",className:"text-foreground underline underline-offset-2 decoration-foreground-muted hover:decoration-foreground transition-all",target:"_blank","data-sentry-element":"Link","data-sentry-source-file":"VoteLink.tsx",children:"Vote here"})]})}),en=()=>(0,r.jsx)("div",{className:"flex grow h-full","data-sentry-component":"LogDrainsEmpty","data-sentry-source-file":"LogDrainsEmpty.tsx",children:(0,r.jsx)("div",{className:"flex grow items-center justify-center p-12 @container",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl flex flex-col items-center gap-0",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)(et,{"data-sentry-element":"AnimatedLogos","data-sentry-source-file":"LogDrainsEmpty.tsx"}),(0,r.jsx)("h2",{className:"heading-section mb-1",children:"Capture your logs, your way"}),(0,r.jsx)("p",{className:"text-foreground-light mb-6",children:"Upgrade to a Team or Enterprise Plan to send your logs to your preferred platform"}),(0,r.jsx)(ea.I,{type:"primary",plan:"Team",source:"log-drains-empty-state","data-sentry-element":"UpgradePlanButton","data-sentry-source-file":"LogDrainsEmpty.tsx",children:"Upgrade plan"})]}),(0,r.jsx)(B.Zp,{className:"grid grid-cols-1 @xl:grid-cols-2 bg divide-x mb-8","data-sentry-element":"Card","data-sentry-source-file":"LogDrainsEmpty.tsx",children:[{step:1,title:"Pricing",description:"Log Drains are available as a project Add-On for all Team and Enterprise users. Each Log Drain costs $60 per month.",label:"See our pricing",link:"https://supabase.com/docs/guides/platform/manage-your-usage/log-drains"},{step:2,title:"Connect to your drain",description:"We offer support for multiple destinations including Datadog, Loki, Sentry or a custom endpoint.",label:"Read our documentation",link:"https://supabase.com/docs/guides/telemetry/log-drains"}].map((e,t)=>(0,r.jsxs)("div",{className:"flex flex-col h-full p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("span",{className:(0,D.cn)("text-xs shrink-0 font-mono text-foreground-light w-7 h-7 bg border flex items-center justify-center rounded-md"),children:e.step}),(0,r.jsx)("h3",{className:"heading-default",children:e.title})]}),(0,r.jsx)("p",{className:"text-foreground-light text-sm mb-4 flex-1",children:e.description}),(0,r.jsx)(L.$,{type:"default",className:"w-full",asChild:!0,children:(0,r.jsx)(m(),{href:e.link,target:"_blank",children:e.label})})]},t))}),(0,r.jsx)(er,{"data-sentry-element":"VoteLink","data-sentry-source-file":"LogDrainsEmpty.tsx"})]})})}),es=e=>{let{title:t,description:a,rightLabel:n,icon:s,onClick:l}=e;return(0,r.jsx)("button",{className:"w-full h-full text-left",onClick:l,"data-sentry-component":"LogDrainsCard","data-sentry-source-file":"LogDrainsCard.tsx",children:(0,r.jsx)(B.Zp,{className:"p-6 cursor-pointer hover:bg-surface-200 hover:border-strong transition-colors h-48","data-sentry-element":"Card","data-sentry-source-file":"LogDrainsCard.tsx",children:(0,r.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between w-full",children:[(0,r.jsx)("div",{children:s}),(0,r.jsx)("div",{className:"text-xs text-foreground-light",children:n})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("h1",{className:"text-base",children:t}),(0,r.jsx)("p",{className:"text-sm text-foreground-light leading-relaxed",children:a})]})]})})})};function el(e){let{onNewDrainClick:t,onUpdateDrainClick:a}=e,{isLoading:n,plan:o}=(0,$.c)(),c=!n&&((null==o?void 0:o.id)==="team"||(null==o?void 0:o.id)==="enterprise"),u=(0,h.n)(),[p,m]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null),{ref:g}=(0,i.g)(),{data:y,isLoading:v,refetch:b,error:k,isError:N}=j({ref:g},{enabled:c}),w=(0,i._P)("SentryLogDrain"),_=!!(null==y?void 0:y.length),{mutate:A}=W({onSuccess:()=>{m(!1),f(null)},onError:()=>{m(!1),f(null),l.oR.error("Failed to delete log drain")}});return n||c?v||n?(0,r.jsx)("div",{children:(0,r.jsx)(G.y,{})}):v||_?N?(0,r.jsx)(H.A,{error:k}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(B.Zp,{"data-sentry-element":"Card","data-sentry-source-file":"LogDrains.tsx",children:(0,r.jsxs)(Z.XI,{"data-sentry-element":"Table","data-sentry-source-file":"LogDrains.tsx",children:[(0,r.jsx)(Z.A0,{"data-sentry-element":"TableHeader","data-sentry-source-file":"LogDrains.tsx",children:(0,r.jsxs)(Z.Hj,{"data-sentry-element":"TableRow","data-sentry-source-file":"LogDrains.tsx",children:[(0,r.jsx)(Z.nd,{className:"max-w-[200px]","data-sentry-element":"TableHead","data-sentry-source-file":"LogDrains.tsx",children:"Name"}),(0,r.jsx)(Z.nd,{className:"w-96","data-sentry-element":"TableHead","data-sentry-source-file":"LogDrains.tsx",children:"Description"}),(0,r.jsx)(Z.nd,{className:"w-48","data-sentry-element":"TableHead","data-sentry-source-file":"LogDrains.tsx",children:"Destination"}),(0,r.jsx)(Z.nd,{className:"text-right","data-sentry-element":"TableHead","data-sentry-source-file":"LogDrains.tsx",children:(0,r.jsx)("div",{className:"sr-only",children:"Actions"})})]})}),(0,r.jsx)(Z.BF,{"data-sentry-element":"TableBody","data-sentry-source-file":"LogDrains.tsx",children:null==y?void 0:y.slice().sort((e,t)=>t.id-e.id).map(e=>{var t,n;return(0,r.jsxs)(Z.Hj,{children:[(0,r.jsx)(Z.nA,{className:"font-medium truncate max-w-72",title:e.name,children:e.name}),(0,r.jsx)(Z.nA,{className:(0,D.cn)("truncate max-w-96",e.description?"text-foreground-light":"text-foreground-muted"),title:e.description,children:e.description||"-"}),(0,r.jsx)(Z.nA,{className:"text-foreground-light",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[s.cloneElement(null==(t=z.YI.find(t=>t.value===e.type))?void 0:t.icon,{width:16,height:16}),(0,r.jsx)("span",{className:"truncate max-w-40",children:null==(n=z.YI.find(t=>t.value===e.type))?void 0:n.name})]})}),(0,r.jsx)(Z.nA,{className:"text-right",children:(0,r.jsxs)(O.rI,{children:[(0,r.jsx)(O.ty,{asChild:!0,children:(0,r.jsx)(L.$,{type:"text",className:"px-1 opacity-50 hover:opacity-100 !bg-transparent flex-shrink-0",icon:(0,r.jsx)(q.A,{})})}),(0,r.jsxs)(O.SQ,{className:"max-w-[140px]",align:"end",children:[(0,r.jsxs)(O._2,{onClick:()=>{a(e)},children:[(0,r.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"Update"]}),(0,r.jsxs)(O._2,{onClick:()=>{f(e),m(!0)},children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},e.id)})}),(0,r.jsx)(J.A,{confirmLabel:"Delete",variant:"destructive",title:"Delete Log Drain",visible:p,onConfirm:()=>{x&&g&&(A({token:x.token,projectRef:g}),u("log_drain_confirm_button_submitted",{destination:x.type}))},onCancel:()=>m(!1),"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"LogDrains.tsx",children:(0,r.jsxs)("div",{className:"text-foreground-light text-sm",children:[(0,r.jsxs)("p",{children:["Are you sure you want to delete"," ",(0,r.jsx)("span",{className:"text-foreground",children:null==x?void 0:x.name}),"?"]}),(0,r.jsx)("p",{children:"This action cannot be undone."})]})})]})})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid lg:grid-cols-2 gap-4",children:z.YI.filter(e=>"sentry"!==e.value||w).map(e=>(0,r.jsx)(es,{title:e.name,description:e.description,icon:e.icon,rightLabel:"Additional $60",onClick:()=>{t(e.value)}},e.value))}),(0,r.jsx)(er,{})]}):(0,r.jsx)(en,{})}var ei=a(10508),eo=a(43479),ed=a(37873),ec=a(41273);async function eu(e){let{data:t,error:a}=await (0,f.bE)("/platform/projects/{ref}/analytics/log-drains",{params:{path:{ref:e.projectRef}},body:{name:e.name,description:e.description,type:e.type,config:e.config}});return a&&(0,f.H4)(a),t}let eh=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,Y.jE)();return(0,U.n)({mutationFn:e=>eu(e),async onSuccess(t,a,n){let{projectRef:s}=a;await r.invalidateQueries({queryKey:g.list(s)}),await (null==e?void 0:e(t,a,n))},async onError(e,a,r){void 0===t?l.oR.error("Failed to mutate: ".concat(e.message)):t(e,a,r)},...a})};async function ep(e){if(!e.token)throw Error("Token is required");let{data:t,error:a}=await (0,f.yJ)("/platform/projects/{ref}/analytics/log-drains/{token}",{params:{path:{ref:e.projectRef,token:e.token}},body:{name:e.name,description:e.description,type:e.type,config:e.config}});return a&&(0,f.H4)(a),t}let em=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,Y.jE)();return(0,U.n)({mutationFn:e=>ep(e),async onSuccess(t,a,n){let{projectRef:s}=a;await r.invalidateQueries({queryKey:g.list(s)}),await (null==e?void 0:e(t,a,n))},async onError(e,a,r){void 0===t?l.oR.error("Failed to mutate: ".concat(e.message)):t(e,a,r)},...a})};var ex=a(80090),ef=a(20033),eg=a(8750),ey=a(76174);let ej=()=>{let{can:e,isLoading:t}=(0,ex.Qp)(n.aG.ANALYTICS_ADMIN_WRITE,"logflare"),[a,o]=(0,s.useState)(!1),{ref:d}=(0,i.g)(),[c,u]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1),[m,x]=(0,s.useState)(null),[f,g]=(0,s.useState)("create"),{plan:y,isLoading:b}=(0,$.c)(),k=!b&&((null==y?void 0:y.id)==="team"||(null==y?void 0:y.id)==="enterprise"),{data:N}=j({ref:d},{enabled:k}),{mutate:w,isLoading:_}=eh({onSuccess:()=>{l.oR.success("Log drain destination created"),o(!1)},onError:()=>{l.oR.error("Failed to create log drain"),o(!1)}}),{mutate:A,isLoading:D}=em({onSuccess:()=>{l.oR.success("Log drain updated"),o(!1)},onError:()=>{o(!1),l.oR.error("Failed to update log drain")}});function S(e){u({type:e}),g("create"),o(!0)}let C=(0,r.jsxs)(ed.gu,{isFullWidth:!0,id:"log-drains",className:"gap-6",children:[(0,r.jsxs)(ed.eh,{className:"flex flex-col gap-10",bottomPadding:!0,children:[(0,r.jsx)(M,{mode:f,open:a,onOpenChange:e=>{e||u(null),o(e)},defaultValues:{type:(null==c?void 0:c.type)||"webhook",...c},isLoading:_||D,onSubmit:e=>{let{name:t,description:a,type:r,...n}=e,s={name:t,description:a||"",type:r,config:n,id:null==c?void 0:c.id,projectRef:d,token:null==c?void 0:c.token};if("create"===f)x(s),p(!0);else if(s.id&&(null==c?void 0:c.token))A(s);else throw Error("Log drain ID and token is required")}}),t?(0,r.jsx)(G.y,{}):e?(0,r.jsx)(el,{onUpdateDrainClick:function(e){u(e),g("update"),o(!0)},onNewDrainClick:S}):(0,r.jsx)(ef.Fc,{variant:"default",children:"You do not have permission to manage log drains"})]}),(0,r.jsx)(J.A,{confirmLabel:"Add destination",variant:"default",title:"Confirm Log Drain Creation",visible:h,onConfirm:()=>{m&&(w(m),x(null)),p(!1),o(!1)},onCancel:()=>{p(!1),x(null)},children:(0,r.jsxs)("div",{className:"text-foreground-light text-sm space-y-2",children:[(0,r.jsxs)("p",{children:["You are about to create a new log drain destination:"," ",(0,r.jsx)("span",{className:"text-foreground",children:null==m?void 0:m.name})]}),(0,r.jsxs)("p",{children:["This will incur an additional ",(0,r.jsx)("span",{className:"text-foreground",children:"$60 per month"})," ","charge to your subscription."]}),(0,r.jsx)("p",{children:"Are you sure you want to proceed?"})]})})]});return k&&!b?(0,r.jsx)(eg.M,{title:"Log Drains",subtitle:"Send your project logs to third party destinations",primaryActions:(0,r.jsx)(r.Fragment,{children:(null==N?void 0:N.length)!==0&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(L.$,{disabled:!k||!e,onClick:()=>{u(null),g("create"),o(!0)},type:"primary",className:"rounded-r-none px-3",children:"Add destination"}),(0,r.jsxs)(O.rI,{children:[(0,r.jsx)(O.ty,{asChild:!0,children:(0,r.jsx)(L.$,{type:"primary",title:"Choose token scope",className:"rounded-l-none px-[4px] py-[5px]",icon:(0,r.jsx)(ey.A,{})})}),(0,r.jsx)(O.SQ,{align:"end",side:"bottom",children:z.YI.map(e=>(0,r.jsx)(O._2,{onClick:()=>S(e.value),children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.cloneElement)(e.icon,{height:16,width:16}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"block text-foreground",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-foreground-lighter",children:"Additional $60"})]})]})},e.value))})]})]})}),secondaryActions:(0,r.jsx)(ec.A,{href:"".concat(v.aq,"/guides/platform/log-drains")}),children:C}):C};ej.getLayout=e=>(0,r.jsx)(ei.A,{children:(0,r.jsx)(eo.A,{title:"Log Drains",children:e})});let ev=ej},31626:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},31647:(e,t,a)=>{"use strict";a.d(t,{x:()=>l});var r=a(80263),n=a(53239),s=a(80100);let l=n.forwardRef((e,t)=>{let{className:a,containerClassName:l,children:i,stickyLastColumn:o,...d}=e,c=n.useRef(null),{hasHorizontalScroll:u,canScrollLeft:h,canScrollRight:p}=(e=>{let[t,a]=n.useState(!1),[r,s]=n.useState(!1),[l,i]=n.useState(!1);return n.useEffect(()=>{let r=e.current;if(!r)return;let n=()=>{let e=r.scrollWidth>r.clientWidth;if(a(e),e){let e=r.scrollLeft>0,t=r.scrollLeft<r.scrollWidth-r.clientWidth;s(e),i(t)}else s(!1),i(!1)},l=()=>{if(t){let e=r.scrollLeft>0,t=r.scrollLeft<r.scrollWidth-r.clientWidth;s(e),i(t)}};return n(),r.addEventListener("scroll",l),window.addEventListener("resize",n),()=>{r.removeEventListener("scroll",l),window.removeEventListener("resize",n)}},[e,t]),{hasHorizontalScroll:t,canScrollLeft:r,canScrollRight:l}})(c),m=(0,s.cn)("[&_td:last-child]:before:absolute [&_td:last-child]:before:top-0 [&_td:last-child]:before:-left-6","[&_td:last-child]:before:bottom-0 [&_td:last-child]:before:w-6 [&_td:last-child]:before:bg-gradient-to-l","[&_td:last-child]:before:from-black/5 dark:[&_td:last-child]:before:from-black/20 [&_td:last-child]:before:to-transparent","[&_td:last-child]:before:opacity-0 [&_td:last-child]:before:transition-all [&_td:last-child]:before:duration-400","[&_td:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_td:last-child]:before:z-[60]","[&_th:last-child]:before:absolute [&_th:last-child]:before:top-0 [&_th:last-child]:before:-left-6","[&_th:last-child]:before:bottom-0 [&_th:last-child]:before:w-6 [&_th:last-child]:before:bg-gradient-to-l","[&_th:last-child]:before:from-black/5 dark:[&_th:last-child]:before:from-black/20 [&_th:last-child]:before:to-transparent","[&_th:last-child]:before:opacity-0 [&_th:last-child]:before:transition-all [&_th:last-child]:before:duration-400","[&_th:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_th:last-child]:before:z-[60]");return(0,r.jsxs)("div",{className:(0,s.cn)(l,"relative"),children:[(0,r.jsx)("div",{className:(0,s.cn)("absolute inset-0 pointer-events-none z-50","before:absolute before:top-0 before:right-0 before:bottom-0 before:w-6 before:bg-gradient-to-l before:from-black/5 dark:before:from-black/20 before:to-transparent before:opacity-0 before:transition-all before:duration-400 before:easing-[0.24, 0.25, 0.05, 1]","after:absolute after:top-0 after:left-0 after:bottom-0 after:w-6 after:bg-gradient-to-r after:from-black/5 dark:after:from-black/20 after:to-transparent after:opacity-0 after:transition-all after:duration-400 after:easing-[0.24, 0.25, 0.05, 1]",u&&"hover:before:opacity-100 hover:after:opacity-100",p&&"before:opacity-100",h&&"after:opacity-100")}),(0,r.jsx)("div",{ref:c,className:(0,s.cn)("w-full overflow-auto",o&&["[&_tr>*:last-child]:sticky [&_tr>*:last-child]:z-50 [&_tr>*:last-child]:right-0","[&_tr:hover>*:last-child]:bg-transparent","[&_th>*:last-child]:bg-surface-100",m],u&&"[&_tr:hover>td:last-child]:!bg-surface-200",p&&"[&_td]:before:opacity-100 [&_tr>*:last-child]:before:opacity-100 [&_th:last-child]:before:opacity-100",a),...d,children:i})]})});l.displayName="ShadowScrollArea"},43479:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var r=a(80263),n=a(80814),s=a(22891),l=a(93873),i=a(2657),o=a(84512),d=a(9620),c=a(9497),u=a(29471),h=a(25433);let p=(0,c.r)(e=>{let{title:t,children:a}=e,c=(0,n.useRouter)(),{ref:p}=(0,s.g)(),{data:m}=(0,d.YA)(),{data:x}=(0,o.s)(),f=c.pathname.includes("billing")?c.pathname.split("/")[5]:c.pathname.split("/")[4],{projectAuthAll:g,authenticationShowProviders:y,projectEdgeFunctionAll:j,projectStorageAll:v,billingInvoices:b,projectSettingsLegacyJwtKeys:k,projectSettingsLogDrains:N,billingAll:w}=(0,i.x)(["project_auth:all","authentication:show_providers","project_edge_function:all","project_storage:all","billing:invoices","project_settings:legacy_jwt_keys","project_settings:log_drains","billing:all"]),_=(0,h.M)(p,m,x,{auth:g,authProviders:y,edgeFunctions:j,storage:v,invoices:b,legacyJwtKeys:k,logDrains:N,billing:w});return(0,r.jsx)(u.k,{isBlocking:!1,title:t||"Settings",product:"Settings",productMenu:(0,r.jsx)(l.l,{page:f,menu:_}),"data-sentry-element":"ProjectLayout","data-sentry-component":"SettingsLayout","data-sentry-source-file":"SettingsLayout.tsx",children:a})})},51982:(e,t,a)=>{"use strict";a.d(t,{n:()=>d});var r=a(22891),n=a(84512),s=a(9620),l=a(85039),i=a(80814),o=a(53239);let d=()=>{let{data:e}=(0,s.YA)(),{data:t}=(0,n.s)(),a=(0,i.useRouter)();return(0,o.useCallback)(function(n){for(var s=arguments.length,i=Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];let[d,c]=i,u={...(null==e?void 0:e.ref)&&{project:e.ref},...(null==t?void 0:t.slug)&&{organization:t.slug},...c},h={action:n,...d&&{properties:d},...u&&{groups:u}};(0,r.Ot)(l.H$,h,a.pathname)},[null==e?void 0:e.ref,null==t?void 0:t.slug,a.pathname])}},53407:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},54831:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},66711:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},66829:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/settings/log-drains",function(){return a(30627)}])},66959:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]])},69988:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])},71492:(e,t,a)=>{"use strict";a.d(t,{c:()=>n});var r=a(84512);function n(){let{data:e}=(0,r.s)();return e?{plan:null==e?void 0:e.plan,usageBillingEnabled:null==e?void 0:e.usage_billing_enabled,isLoading:!1,isSuccess:!0}:{plan:null,usageBillingEnabled:null,isLoading:!0,isSuccess:!1}}},74195:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]])},74310:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},77444:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},78511:(e,t,a)=>{"use strict";a.d(t,{A0:()=>o,BF:()=>d,Gg:()=>c,Hj:()=>u,XI:()=>i,nA:()=>p,nd:()=>h,r6:()=>m});var r=a(80263),n=a(53239),s=a(80100),l=a(31647);let i=n.forwardRef((e,t)=>{let{className:a,containerProps:n,...i}=e;return(0,r.jsx)(l.x,{...n,children:(0,r.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",a),...i})})});i.displayName="Table";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b [&>tr]:bg-200",a),...n})});o.displayName="TableHeader";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",a),...n})});d.displayName="TableBody";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,s.cn)("bg-primary font-medium text-primary-foreground",a),...n})});c.displayName="TableFooter";let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tr",{ref:t,className:(0,s.cn)("border-b [&>td]:hover:bg-surface-200 data-[state=selected]:bg-muted",a),...n})});u.displayName="TableRow";let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("th",{ref:t,className:(0,s.cn)("h-10 px-4 text-left align-middle heading-meta whitespace-nowrap text-foreground-lighter [&:has([role=checkbox])]:pr-0",a),...n})});h.displayName="TableHead";let p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("td",{ref:t,className:(0,s.cn)("transition-colors p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...n})});p.displayName="TableCell";let m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-foreground-muted",a),...n})});m.displayName="TableCaption"},93873:(e,t,a)=>{"use strict";a.d(t,{l:()=>i});var r=a(80263),n=a(24487),s=a(21650),l=a(21416);let i=e=>{let{page:t,menu:a}=e;return(0,r.jsx)("div",{className:"flex flex-col space-y-8","data-sentry-component":"ProductMenu","data-sentry-source-file":"index.tsx",children:(0,r.jsx)(n.Ay,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"index.tsx",children:a.map((e,i)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"my-6 space-y-8",children:(0,r.jsxs)("div",{className:"mx-3",children:[(0,r.jsx)(n.Ay.Group,{title:e.title?(0,r.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,r.jsx)("span",{children:e.title}),e.isPreview&&(0,r.jsx)(s.E,{variant:"warning",children:"Not production ready"})]}):null}),(0,r.jsx)("div",{children:e.items.map(e=>{let a=e.pages?e.pages.includes(null!=t?t:""):t===e.key;return(0,r.jsx)(l.A,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:a,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),i!==a.length-1&&(0,r.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},95525:(e,t,a)=>{"use strict";a.d(t,{F:()=>c,r:()=>d});let r=/^((ftp|http|https):\/\/)?(www.)?(?!.*(ftp|http|https|www.))[a-zA-Z0-9_*-]+(\.[a-zA-Z0-9_*-]+)+((\/)[\w#]+)*(\/\w+\?[a-zA-Z0-9_]+=\w+(&[a-zA-Z0-9_]+=\w+)*)+(?:\.[a-z]+)*(?::\d+)?(?![^<]*(?:<\/\w+>|\/?>))(.*)?\/?(.)*?$/gm,n=/^[a-z0-9-]+([.][a-z0-9]+)*:\/(\/[-a-z0-9._~!$&'()*+,;=:@%]+)+(?:\.[a-z]+)*(?::\d+)?(?![^<]*(?:<\/\w+>|\/?>))(.*)?\/?(.)*?$/i,s=/^(?:^|\s)((https?:\/\/)?(?:localhost|[\w-]+(?:\.[\w-]+)+)(:\d+)?(\/\S*)?)/i,l=/chrome-extension:\/\/([a-zA-Z]*)/gm,i=/^([a-zA-Z][a-zA-Z0-9+.-]*):(?:\/{1,3})?([a-zA-Z0-9_.-]*)$/,o=/^[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$/;function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{excludeSimpleDomains:!0},{excludeSimpleDomains:t}=e,a=t?"(?!".concat(o.source,")"):"";return RegExp("".concat(a,"((").concat(r.source,")|(").concat(s.source,")|(").concat(n.source,")|(").concat(l.source,")|(").concat(i.source,"))"),"i")}let c="NO_REQUIRED_CHARS"},98103:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},99940:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(86848).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{e.O(0,[60858,15599,16110,44952,36538,43833,76984,72391,74004,40545,596,10508,48340,75187,29471,8750,90636,46593,38792],()=>e(e.s=66829)),_N_E=e.O()}]);
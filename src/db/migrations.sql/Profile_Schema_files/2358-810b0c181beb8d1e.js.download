try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="836bf30c-0a5a-4949-9a54-bbda4df7cd85",e._sentryDebugIdIdentifier="sentry-dbid-836bf30c-0a5a-4949-9a54-bbda4df7cd85")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2358,34842],{4133:(e,t,n)=>{n.d(t,{X:()=>F});var a=n(80263),l=n(53239),r=n(53434),s=n.n(r),o=n(6436),i=n(796),d=n(35831),u=n(30519),c=n(72195),m=n(64720),p=n(86058),g=n(75419),x=n(90042),f=n(81285),h=n(8398),v=n(87906),y=n(36701),b=n(80100),w=n(14981),H=n(31092),S=n(74310),j=n(21162);let N=e=>{var t,n;let{chartHighlight:r,updateDateRange:o,actions:i,chartId:d}=e,{left:u,right:c,clearHighlight:m}=null!=r?r:{},[p,g]=(0,l.useState)(!!(null==r?void 0:r.popoverPosition));(0,l.useEffect)(()=>{g(!!(null==r?void 0:r.popoverPosition)&&u!==c)},[null==r?void 0:r.popoverPosition]);let x=u&&c&&m?{start:u,end:c,clear:m,chartId:d}:void 0,f=(0,l.useMemo)(()=>{if(!o||!x)return[];let e=10>s()(x.end).diff(s()(x.start),"minutes");return[{id:"zoom-in",label:"Zoom in",icon:(0,a.jsx)(H.A,{className:"text-foreground-lighter",size:12}),rightSlot:e?(0,a.jsx)("span",{className:"text-xs",children:"Min. 10 minutes"}):null,isDisabled:()=>e,onSelect:t=>{let{start:n,end:a,clear:l}=t;e||(o(n,a),l())}}]},[x,o]),h=(0,l.useMemo)(()=>[...f,...null!=i?i:[]],[f,i]);return(0,a.jsxs)(j.rI,{open:p,onOpenChange:g,"data-sentry-element":"DropdownMenu","data-sentry-component":"ChartHighlightActions","data-sentry-source-file":"ChartHighlightActions.tsx",children:[(0,a.jsx)(j.ty,{className:"w-auto p-0",style:{position:"absolute",left:(null==r||null==(t=r.popoverPosition)?void 0:t.x)+"px",top:(null==r||null==(n=r.popoverPosition)?void 0:n.y)+"px"},"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"ChartHighlightActions.tsx"}),(0,a.jsxs)(j.SQ,{className:"flex flex-col gap-1 p-1 w-fit text-left","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"ChartHighlightActions.tsx",children:[(0,a.jsxs)(j.lp,{className:"flex items-center justify-center text-foreground-light font-mono gap-x-2 text-xs","data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"ChartHighlightActions.tsx",children:[(0,a.jsx)("span",{children:s()(u).format("MMM D, H:mm")}),(0,a.jsx)(S.A,{size:10,"data-sentry-element":"ArrowRight","data-sentry-source-file":"ChartHighlightActions.tsx"}),(0,a.jsx)("span",{children:s()(c).format("MMM D, H:mm")})]}),(0,a.jsx)(j.mB,{className:"my-0","data-sentry-element":"DropdownMenuSeparator","data-sentry-source-file":"ChartHighlightActions.tsx"}),h.map(e=>{let t=!!x&&!!e.isDisabled&&e.isDisabled(x),n=null;n="function"==typeof e.label?x?e.label(x):null:e.label;let l=null;if("function"==typeof e.rightSlot)l=x?e.rightSlot(x):null;else{var r;l=null!=(r=e.rightSlot)?r:null}return(0,a.jsx)(j._2,{asChild:!0,disabled:t,className:(0,b.cn)("group"),children:(0,a.jsxs)("button",{disabled:t,onClick:()=>x&&e.onSelect({...x}),className:"w-full flex items-center gap-1.5",children:[e.icon,(0,a.jsx)("span",{className:"flex-grow text-left",children:n}),l]})},e.id)})]})]})};var C=n(30761),k=n(66e3),D=n(30404);let E=e=>{let{color:t}=e;return(0,a.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-sentry-element":"svg","data-sentry-component":"CustomIcon","data-sentry-source-file":"ComposedChart.utils.tsx",children:(0,a.jsx)("circle",{cx:"5",cy:"5",r:"3",fill:t,"data-sentry-element":"circle","data-sentry-source-file":"ComposedChart.utils.tsx"})})},L=e=>{let{color:t}=e;return(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-sentry-element":"svg","data-sentry-component":"MaxConnectionsIcon","data-sentry-source-file":"ComposedChart.utils.tsx",children:(0,a.jsx)("line",{x1:"2",y1:"6",x2:"12",y2:"6",stroke:null!=t?t:C.OK.REFERENCE_LINE,strokeWidth:"2",strokeDasharray:"2 2","data-sentry-element":"line","data-sentry-source-file":"ComposedChart.utils.tsx"})})},M=e=>null==e?void 0:e.find(e=>e.isMaxValue),I=(e,t)=>null==e?void 0:e.filter(e=>!(null==t?void 0:t.includes(e.dataKey))).reduce((e,t)=>e+t.value,0),T=e=>{let{active:t,payload:n,label:l,attributes:r,isPercentage:i,format:d,valuePrecision:u,showTotal:c,isActiveHoveredChart:m}=e;if(t&&n&&n.length){var p,g,x,f;let e=n[0].payload,l=(null==e?void 0:e.hasOwnProperty("timestamp"))?"timestamp":"period_start",h=n[0].payload[l],v=M(r),y=v&&(null==n?void 0:n.find(e=>e.dataKey===v.attribute)),w=null==y?void 0:y.value,H=!(null==n?void 0:n.some(e=>"ram_usage"===e.dataKey.toLowerCase()))&&(null==n?void 0:n.some(e=>e.dataKey.toLowerCase().includes("ram_"))),S=(null==n?void 0:n.some(e=>e.dataKey.toLowerCase().includes("disk_fs_")))||(null==n?void 0:n.some(e=>e.dataKey.toLowerCase().includes("pg_database_size"))),j=null==n?void 0:n.some(e=>e.dataKey.toLowerCase().includes("network_")),N=H||S||j,D=[...null!=(x=null==r||null==(p=r.filter(e=>e.omitFromTotal))?void 0:p.map(e=>e.attribute))?x:[],...null!=(f=null==r||null==(g=r.filter(e=>(null==e?void 0:e.provider)==="reference-line"))?void 0:g.map(e=>e.attribute))?f:[],...(null==v?void 0:v.attribute)?[v.attribute]:[]],T=s().tz.guess(),_=c&&I(n,D),A=e=>{let t,{entry:n}=e,l=null==r?void 0:r.find(e=>(null==e?void 0:e.attribute)===n.name),s=(n.value/w*100).toFixed(u),c=n.dataKey===(null==v?void 0:v.attribute);return(0,a.jsxs)("div",{className:"flex items-center w-full","data-sentry-component":"LabelItem","data-sentry-source-file":"ComposedChart.utils.tsx",children:[(t=n.color,c?(0,a.jsx)(L,{}):(0,a.jsx)(E,{color:t})),(0,a.jsx)("span",{className:"text-foreground-lighter ml-1 flex-grow cursor-default select-none",children:(null==l?void 0:l.label)||n.name}),(0,a.jsxs)("span",{className:"ml-3.5 flex items-end gap-1",children:[N?(0,o.z3)(j?Math.abs(n.value):n.value,u):(0,k.Eg)(n.value,u),i?"%":"","ms"===d?"ms":"",!!y&&!c&&!i&&(0,a.jsxs)("span",{className:"text-[11px] text-foreground-light mb-0.5",children:["(",s,"%)"]})]})]},n.name)};return(0,a.jsxs)("div",{className:(0,b.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg px-2.5 py-1.5 text-xs shadow-xl transition-opacity opacity-100",!m&&"opacity-0"),children:[(0,a.jsx)("p",{className:"text-foreground-light text-xs",children:T}),(0,a.jsx)("p",{className:"font-medium",children:s()(h).format(C.C_.FULL_SECONDS)}),(0,a.jsxs)("div",{className:"grid gap-0",children:[n.reverse().map((e,t)=>(0,a.jsx)(A,{entry:e},"".concat(e.name,"-").concat(t))),t&&c&&(0,a.jsxs)("div",{className:"flex md:flex-col gap-1 md:gap-0 text-foreground mt-1",children:[(0,a.jsx)("span",{className:"flex-grow text-foreground-lighter",children:"Total"}),(0,a.jsxs)("div",{className:"flex items-end gap-1",children:[(0,a.jsxs)("span",{className:"text-base",children:[N?(0,o.z3)(_,u):(0,k.Eg)(_,u),i?"%":"","ms"===d?"ms":""]}),v&&!i&&!isNaN(_/(null==y?void 0:y.value))&&isFinite(_/(null==y?void 0:y.value))&&(0,a.jsxs)("span",{className:"text-[11px] text-foreground-light mb-0.5",children:["(",(_/(null==y?void 0:y.value)*100).toFixed(1),"%)"]})]})]})]})]})}return null},_=e=>{let{payload:t,attributes:n,showMaxValue:r,onLabelHover:s,onToggleAttribute:o,hiddenAttributes:i}=e,d=null!=t?t:[],u=M(n),[c,m]=(0,l.useState)(null),p=()=>{m(null),null==s||s(null)},g=e=>{let{entry:t}=e,l=null==n?void 0:n.find(e=>e.attribute===t.name),d=t.name===(null==u?void 0:u.attribute),c=null==i?void 0:i.has(t.name),g=c?"gray":t.color,x=()=>{var e;return(0,a.jsxs)("div",{className:"flex items-center gap-1","data-sentry-component":"Label","data-sentry-source-file":"ComposedChart.utils.tsx",children:[(e=t.name,e===(null==u?void 0:u.attribute)==!0?(0,a.jsx)(L,{}):(0,a.jsx)(E,{color:g})),(0,a.jsx)("span",{className:(0,b.cn)("text-nowrap text-foreground-lighter",c&&"opacity-50"),children:(null==l?void 0:l.label)||t.name})]})};return!r&&d?null:(0,a.jsx)("button",{className:"flex md:flex-col gap-1 md:gap-0 w-fit text-foreground rounded-lg  hover:bg-background-overlay-hover",onMouseOver:()=>(e=>{m(e),null==s||s(e)})(t.name),onMouseOutCapture:p,onClick:e=>null==o?void 0:o(t.name,{exclusive:e.metaKey||e.ctrlKey}),"data-sentry-component":"LabelItem","data-sentry-source-file":"ComposedChart.utils.tsx",children:(null==l?void 0:l.tooltip)?(0,a.jsxs)(D.m_,{children:[(0,a.jsx)(D.k$,{className:"p-1.5",children:(0,a.jsx)(x,{})}),(0,a.jsx)(D.ZI,{sideOffset:6,side:"bottom",align:"center",className:"max-w-[250px]",children:l.tooltip})]}):(0,a.jsx)(x,{})},t.name)};return(0,a.jsx)("div",{className:"relative z-10 mx-auto flex flex-col items-center gap-1 text-xs w-full","data-sentry-component":"CustomLabel","data-sentry-source-file":"ComposedChart.utils.tsx",children:(0,a.jsx)("div",{className:"flex flex-wrap items-center justify-center gap-2",children:(0,a.jsx)(D.Bc,{delayDuration:800,"data-sentry-element":"TooltipProvider","data-sentry-source-file":"ComposedChart.utils.tsx",children:null==d?void 0:d.map((e,t)=>(0,a.jsx)(g,{entry:e},"".concat(e.name,"-").concat(t)))})})})};var A=n(35862),K=n(74544);function F(e){var t,n,r,H,S,j;let{chartId:D,data:E,attributes:L,yAxisKey:M,xAxisKey:F,format:P,customDateFormat:O=C.C_.FULL,title:z,highlightedValue:R,highlightedLabel:V,displayDateInUtc:B,minimalHeader:X,valuePrecision:U,className:W="",size:$="normal",emptyStateMessage:J,onBarClick:q,showLegend:G=!1,xAxisIsDate:Z=!0,XAxisProps:Q,YAxisProps:Y,showGrid:ee=!1,showTooltip:et=!1,showTotal:en=!0,showMaxValue:ea=!1,chartHighlight:el,hideChartType:er,chartStyle:es,onChartStyleChange:eo,updateDateRange:ei,hideYAxis:ed,hideHighlightedValue:eu,hideHighlightedLabel:ec=!1,hideHighlightArea:em=!1,syncId:ep,docsUrl:eg,sql:ex,highlightActions:ef,titleTooltip:eh}=e,{resolvedTheme:ev}=(0,i.D)(),{hoveredIndex:ey,syncTooltip:eb,setHover:ew,clearHover:eH}=(0,K.Z)(ep||"default"),[eS,ej]=(0,l.useState)(null),[eN,eC]=(0,l.useState)(ea),[ek,eD]=(0,l.useState)(null),[eE,eL]=(0,l.useState)(null),[eM,eI]=(0,l.useState)(!1),[eT,e_]=(0,l.useState)(new Set),eA=null==ev?void 0:ev.includes("dark");(0,l.useEffect)(()=>{(0,C.fE)(null!=eA&&eA)},[eA]);let{Container:eK}=(0,k.dQ)($),eF=e=>B?s()(e).utc():s()(e),eP=e=>"number"!=typeof e&&"string"!=typeof e?"":"number"==typeof e&&e>1e14?eF(e/1e3).format(O):eF(e).format(O),eO=Q||{interval:E.length-2,angle:0,tick:!1},ez=Y||{tickFormatter:e=>(0,k.Eg)(e,U),tick:!1,width:0},eR=L.find(e=>e.isMaxValue),eV={name:null==eR?void 0:eR.attribute,color:C.OK.REFERENCE_LINE},eB=L.filter(e=>(null==e?void 0:e.provider)==="reference-line"),eX=function(){if(!Z){var e;return ek?null==(e=E[ek])?void 0:e[F]:V}return null!==ek&&E&&void 0!==E[ek]&&eP(E[ek][F])||V}(),eU=function(){var e,t,n,a;let l=L.find(e=>e.isMaxValue),r=L.filter(e=>(null==e?void 0:e.provider)==="reference-line"),s=[...null!=(t=null==L||null==(e=L.filter(e=>e.omitFromTotal))?void 0:e.map(e=>e.attribute))?t:[],...null!=(n=null==r?void 0:r.map(e=>e.attribute))?n:[],...(null==l?void 0:l.attribute)?[null==l?void 0:l.attribute]:[],...Array.from(eT)],o=E[E.length-1]?Object.entries(E[E.length-1]).map(e=>{let[t,n]=e;return{dataKey:t,value:n}}).filter(e=>"timestamp"!==e.dataKey&&"period_start"!==e.dataKey&&L.some(t=>t.attribute===e.dataKey&&!1!==t.enabled)):void 0;return null!==ek?en?I(eS,s):null==(a=E[ek])?void 0:a[M]:en&&o?I(o,s):R}(),eW=(null==el?void 0:el.coordinates.left)&&(null==el?void 0:el.coordinates.right)&&(null==el?void 0:el.coordinates.left)!==(null==el?void 0:el.coordinates.right),e$=E&&E[0]?null==(t=Object.entries(E[0]))?void 0:t.map(e=>{let[t,n]=e;return{name:t,value:n}}).filter(e=>"timestamp"!==e.name&&"period_start"!==e.name&&e.name!==(null==eR?void 0:eR.attribute)&&!eB.map(e=>e.attribute).includes(e.name)&&L.some(t=>t.attribute===e.name&&!1!==t.enabled)).map((e,t)=>{let n=L.find(t=>t.attribute===e.name);return{...e,color:(null==n?void 0:n.color)?(null==ev?void 0:ev.includes("dark"))?n.color.dark:n.color.light:C.E6[t%C.E6.length]}}):[],eJ=e$.filter(e=>{let t=L.find(t=>t.attribute===e.name);return!(null==t?void 0:t.isMaxValue)}).filter(e=>!eT.has(e.name)),eq="%"===P,eG=!(null==e$?void 0:e$.some(e=>"ram_usage"===e.name.toLowerCase()))&&(null==e$?void 0:e$.some(e=>e.name.toLowerCase().includes("ram_"))),eZ=null==e$?void 0:e$.some(e=>e.name.toLowerCase().includes("disk_space_")),eQ=null==e$?void 0:e$.some(e=>e.name.toLowerCase().includes("pg_database_size")),eY=null==e$?void 0:e$.some(e=>e.name.toLowerCase().includes("network_")),e0=eG||eZ||eQ||eY,e1=Math.max(0,...eJ.map(e=>"number"==typeof e.value?e.value:0));return 0===E.length?(0,a.jsx)(A.A,{message:J,description:"It may take up to 24 hours for data to refresh",size:$,className:W,attribute:z,format:P,titleTooltip:eh}):(0,a.jsxs)("div",{className:(0,b.cn)("flex flex-col gap-y-3",W),"data-sentry-component":"ComposedChart","data-sentry-source-file":"ComposedChart.tsx",children:[(0,a.jsx)(w._,{hideHighlightedValue:eu,title:z,format:P,hideHighlightedLabel:ec,hideHighlightArea:em,titleTooltip:eh,customDateFormat:O,highlightedValue:function(e){if("number"!=typeof e)return e;if(e0){let t=eY?Math.abs(e):e;return(0,o.z3)(t,U)}return(0,k.Eg)(e,U)}(eU),highlightedLabel:eX,minimalHeader:X,hideChartType:er,chartStyle:es,onChartStyleChange:eo,showMaxValue:eN,setShowMaxValue:eR?eC:void 0,docsUrl:eg,syncId:ep,data:E,xAxisKey:F,yAxisKey:M,xAxisIsDate:Z,displayDateInUtc:B,valuePrecision:U,shouldFormatBytes:e0,isNetworkChart:eY,attributes:L,sql:ex,"data-sentry-element":"ChartHeader","data-sentry-source-file":"ComposedChart.tsx"}),(0,a.jsxs)(eK,{className:"relative z-10","data-sentry-element":"Container","data-sentry-source-file":"ComposedChart.tsx",children:[(0,a.jsxs)(d.X,{data:E,syncId:ep,style:{cursor:"crosshair"},onMouseMove:e=>{var t;eI(!0),e.activeTooltipIndex!==ek&&(eD(e.activeTooltipIndex),ej(e.activePayload)),ew(e.activeTooltipIndex);let n=null==(t=E[e.activeTooltipIndex])?void 0:t.timestamp;null==el||el.handleMouseMove({activeLabel:null==n?void 0:n.toString(),coordinates:e.activeLabel})},onMouseDown:e=>{var t;let n=null==(t=E[e.activeTooltipIndex])?void 0:t.timestamp;null==el||el.handleMouseDown({activeLabel:null==n?void 0:n.toString(),coordinates:e.activeLabel})},onMouseUp:null==el?void 0:el.handleMouseUp,onMouseLeave:e=>{eI(!1),eD(null),ej(null),eH()},onClick:e=>{var t,n;let a=null==e||null==(n=e.activePayload)||null==(t=n[0])?void 0:t.payload;q&&q(a,e)},"data-sentry-element":"RechartComposedChart","data-sentry-source-file":"ComposedChart.tsx",children:[ee&&(0,a.jsx)(u.d,{stroke:C.OK.AXIS}),(0,l.createElement)(c.h,{...ez,hide:ed,axisLine:{stroke:C.OK.AXIS},tickLine:{stroke:C.OK.AXIS},domain:eq&&!ea?[0,e1]:["auto","auto"],key:M,"data-sentry-element":"YAxis","data-sentry-source-file":"ComposedChart.tsx"}),(0,l.createElement)(m.W,{...eO,axisLine:{stroke:C.OK.AXIS},tickLine:{stroke:C.OK.AXIS},tickMargin:8,minTickGap:3,key:F,"data-sentry-element":"XAxis","data-sentry-source-file":"ComposedChart.tsx"}),(0,a.jsx)(p.m,{content:e=>et&&!eW?(0,a.jsx)(T,{...e,format:P,isPercentage:eq,label:eX,attributes:L,valuePrecision:U,showTotal:en,isActiveHoveredChart:eM||!!ep&&eb&&null!==ey}):null,"data-sentry-element":"Tooltip","data-sentry-source-file":"ComposedChart.tsx"}),"bar"===es?eJ.map(e=>{var t,n,l;return(0,a.jsx)(g.y,{dataKey:e.name,stackId:null!=(l=null==L||null==(t=L.find(t=>t.attribute===(null==e?void 0:e.name)))?void 0:t.stackId)?l:"1",fill:e.color,radius:.75,opacity:1,name:(null==L||null==(n=L.find(t=>t.attribute===(null==e?void 0:e.name)))?void 0:n.label)||(null==e?void 0:e.name),maxBarSize:24},e.name)}):eJ.map((e,t)=>{var n,l,r;return(0,a.jsx)(x.G,{type:"step",dataKey:e.name,stackId:null!=(r=null==L||null==(n=L.find(t=>t.attribute===e.name))?void 0:n.stackId)?r:"1",fill:e.color,stroke:e.color,radius:20,animationDuration:375,fillOpacity:eE&&eE!==e.name?.075:eE===e.name?.3:.25,name:(null==L||null==(l=L.find(t=>t.attribute===e.name))?void 0:l.label)||e.name,dot:!1},e.name)}),eR&&eN&&(0,a.jsx)(f.N,{type:"stepAfter",dataKey:eR.attribute,stroke:C.OK.REFERENCE_LINE,strokeWidth:2,strokeDasharray:null!=(j=eR.strokeDasharray)?j:"3 3",dot:!1,name:eR.label},eR.attribute),eB.filter(e=>e.isReferenceLine).map(e=>{var t,n;return(0,a.jsx)(h.e,{y:e.value,strokeWidth:1,...e,color:null==(t=e.color)?void 0:t.dark,strokeDasharray:null!=(n=e.strokeDasharray)?n:"3 3",label:void 0,children:(0,a.jsx)(v.J,{value:e.label,position:"insideTopRight",fill:C.OK.REFERENCE_LINE_TEXT,className:"text-xs",style:{fill:C.OK.REFERENCE_LINE_TEXT}})},e.attribute)}),eW&&(0,a.jsx)(y.T,{x1:null==el?void 0:el.coordinates.left,x2:null==el?void 0:el.coordinates.right,strokeOpacity:.5,stroke:eA?"#FFFFFF":"#0C3925",fill:eA?"#FFFFFF":"#0C3925",fillOpacity:.2})]}),(0,a.jsx)(N,{chartHighlight:el,updateDateRange:ei,actions:ef,chartId:D,"data-sentry-element":"ChartHighlightActions","data-sentry-source-file":"ComposedChart.tsx"})]}),E&&(0,a.jsxs)("div",{className:"text-foreground-lighter -mt-9 flex items-center justify-between text-xs",style:{marginLeft:null==Y?void 0:Y.width},children:[(0,a.jsx)("span",{children:Z?eP(null==(n=E[0])?void 0:n[F]):null==(r=E[0])?void 0:r[F]}),(0,a.jsx)("span",{children:Z?eP(null==(H=E[E.length-1])?void 0:H[F]):null==(S=E[E.length-1])?void 0:S[F]})]}),G&&(0,a.jsx)(_,{payload:[eV,...e$],attributes:L,showMaxValue:eN,onLabelHover:eL,onToggleAttribute:(e,t)=>{e_(n=>{if(null==t?void 0:t.exclusive){let t=e$.map(e=>e.name).filter(t=>t!==e);return t.every(e=>n.has(e))&&!n.has(e)?new Set:new Set(t)}let a=new Set(n);return a.has(e)?a.delete(e):a.add(e),a})},hiddenAttributes:eT})]})}},29727:(e,t,n)=>{n.d(t,{V:()=>d});var a=n(80263),l=n(23019),r=n(76196),s=n(47876),o=n(80100),i=n(55441);function d(e){var t,n;let{className:d,classNames:u,showOutsideDays:c=!0,...m}=e,p="range"===m.mode&&!!(null==(t=m.selected)?void 0:t.from)&&!!(null==(n=m.selected)?void 0:n.to),{months:g,month:x,month_caption:f,caption_label:h,button_previous:v,button_next:y,month_grid:b,weekdays:w,weekday:H,week:S,day:j,day_button:N,selected:C,today:k,outside:D,disabled:E,range_start:L,range_middle:M,range_end:I,hidden:T,..._}=null!=u?u:{};return(0,a.jsx)(s.h,{showOutsideDays:c,className:(0,o.cn)("p-3",d),classNames:{months:(0,o.cn)("relative flex flex-col sm:flex-row space-y-4 sm:[&>*:not(nav)+*]:ml-4 sm:space-y-0",g),month:(0,o.cn)("space-y-4",x),month_caption:(0,o.cn)("flex justify-center pt-1 relative items-center",f),caption_label:(0,o.cn)("text-sm font-medium",h),button_previous:(0,o.cn)((0,i.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100","z-[5]","aria-disabled:opacity-25 aria-disabled:hover:opacity-25 aria-disabled:cursor-not-allowed","absolute left-0 top-0",v),button_next:(0,o.cn)((0,i.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100","z-[5]","aria-disabled:opacity-25 aria-disabled:hover:opacity-25 aria-disabled:cursor-not-allowed","absolute right-0 top-0",y),month_grid:(0,o.cn)("w-full border-collapse space-y-1",b),weekdays:(0,o.cn)("flex",w),weekday:(0,o.cn)("text-foreground-muted rounded-md w-9 font-normal text-[0.8rem]",H),week:(0,o.cn)("flex w-full mt-2",S),day:(0,o.cn)("text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md","last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",j),day_button:(0,o.cn)((0,i.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100",N),selected:(0,o.cn)("bg-brand-500 text-foreground text-foreground",C),today:(0,o.cn)("bg-accent text-accent-foreground",k),outside:(0,o.cn)("text-foreground-muted opacity-50",D),disabled:(0,o.cn)("text-foreground-muted opacity-50",E),range_start:(0,o.cn)(p&&"bg-brand-500 rounded-r-none",L),range_middle:(0,o.cn)("aria-selected:bg-brand-400 rounded-none",M),range_end:(0,o.cn)(p&&"bg-brand-500 rounded-l-none",I),hidden:(0,o.cn)("invisible",T),..._},components:{Chevron:e=>{let{className:t,...n}=e;return"left"===e.orientation?(0,a.jsx)(l.A,{className:(0,o.cn)("h-4 w-4 pointer-events-none",t),...n}):(0,a.jsx)(r.A,{className:(0,o.cn)("h-4 w-4 pointer-events-none",t),...n})}},...m,"data-sentry-element":"DayPicker","data-sentry-component":"Calendar","data-sentry-source-file":"calendar.tsx"})}d.displayName="Calendar"},34842:(e,t,n)=>{n.d(t,{O:()=>w});var a=n(80263),l=n(53434),r=n.n(l),s=n(56718),o=n(43948),i=n(53239),d=n(21650),u=n(883),c=n(23812),m=n(23729),p=n(44814),g=n(38904),x=n(61548),f=n(99779),h=n(80100),v=n(29727),y=n(77727),b=n(49510);let w=e=>{let{onSubmit:t,helpers:n,value:l,buttonTriggerProps:w,popoverContentProps:H,hideWarnings:S,align:j="end"}=e,[N,C]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(!N){D(l.from?new Date(l.from):null);let e=l.to?new Date(l.to):new Date;L(e),I(new Date(e));let t=l.from?new Date(l.from):null,n=l.to?new Date(l.to):null;_({HH:(null==t?void 0:t.getHours().toString().padStart(2,"0"))||"00",mm:(null==t?void 0:t.getMinutes().toString().padStart(2,"0"))||"00",ss:(null==t?void 0:t.getSeconds().toString().padStart(2,"0"))||"00"});let a=new Date,r=a.getHours().toString().padStart(2,"0"),s=a.getMinutes().toString().padStart(2,"0"),o=a.getSeconds().toString().padStart(2,"0");K({HH:(null==n?void 0:n.getHours().toString().padStart(2,"0"))||r,mm:(null==n?void 0:n.getMinutes().toString().padStart(2,"0"))||s,ss:(null==n?void 0:n.getSeconds().toString().padStart(2,"0"))||o})}},[N,l]);let[k,D]=(0,i.useState)(l.from?new Date(l.from):null),[E,L]=(0,i.useState)(l.to?new Date(l.to):new Date),[M,I]=(0,i.useState)(()=>l.to?new Date(l.to):new Date),[T,_]=(0,i.useState)({HH:(null==k?void 0:k.getHours().toString())||"00",mm:(null==k?void 0:k.getMinutes().toString())||"00",ss:(null==k?void 0:k.getSeconds().toString())||"00"}),[A,K]=(0,i.useState)({HH:(null==E?void 0:E.getHours().toString())||"23",mm:(null==E?void 0:E.getMinutes().toString())||"59",ss:(null==E?void 0:E.getSeconds().toString())||"59"}),[F,P]=(0,i.useState)(!1),[O,z]=(0,i.useState)(!1);function R(){navigator.clipboard.readText().then(e=>{try{let t=JSON.parse(e);if(!t.from||!t.to)return void console.warn("Invalid date range format in clipboard");let n=new Date(t.from),a=new Date(t.to);if(isNaN(n.getTime())||isNaN(a.getTime()))return void console.warn("Invalid date values in clipboard");D(n),L(a),I(new Date(a)),_({HH:n.getHours().toString(),mm:n.getMinutes().toString(),ss:n.getSeconds().toString()}),K({HH:a.getHours().toString(),mm:a.getMinutes().toString(),ss:a.getSeconds().toString()}),z(!0)}catch(e){console.warn("Failed to parse clipboard content as date range:",e)}}).catch(e=>{console.warn("Failed to read clipboard:",e)})}(0,i.useEffect)(()=>{F&&setTimeout(()=>{P(!1)},2e3)},[F]);let V=(0,i.useCallback)(()=>{if(!k||!E)return;let e=new Date(k),t=new Date(E);e.setHours(+T.HH,+T.mm,+T.ss),t.setHours(+A.HH,+A.mm,+A.ss),(0,g.l)(JSON.stringify({from:e.toISOString(),to:t.toISOString()})),P(!0)},[k,E,T,A]);(0,i.useEffect)(()=>{O&&setTimeout(()=>{z(!1)},2e3)},[O]),(0,i.useEffect)(()=>(N&&(document.addEventListener("paste",R),document.addEventListener("copy",V)),()=>{document.removeEventListener("paste",R),document.removeEventListener("copy",V)}),[N,k,E,V]);let B=Math.abs(r()(k).diff(r()(E),"days"))>y.VM-1,{getEntitlementNumericValue:X}=(0,b.e)("log.retention_days"),U=X();return(0,a.jsxs)(x.AM,{open:N,onOpenChange:C,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"LogsDatePicker","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,a.jsx)(x.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"Logs.DatePickers.tsx",children:(0,a.jsx)(f.$,{type:"default",icon:(0,a.jsx)(s.A,{size:12}),...w,"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:l.isHelper?l.text:"".concat(r()(l.from).format("DD MMM, HH:mm")," - ").concat(r()(l.to||new Date).format("DD MMM, HH:mm"))})}),(0,a.jsxs)(x.hl,{className:"flex w-full p-0",side:"bottom",align:j,portal:!0,...H,"data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,a.jsx)(c.z6,{onValueChange:e=>{let a=n.find(t=>t.text===e);t&&a&&t({to:a.calcTo(),from:a.calcFrom(),isHelper:!0,text:a.text}),C(!1)},value:l.isHelper?l.text:"",className:"border-r p-2 flex flex-col gap-px","data-sentry-element":"RadioGroup","data-sentry-source-file":"Logs.DatePickers.tsx",children:n.map(e=>{var t;return(0,a.jsxs)(u.J,{className:(0,h.cn)("[&:has([data-state=checked])]:bg-background-overlay-hover [&:has([data-state=checked])]:text-foreground px-4 py-1.5 text-foreground-light flex items-center gap-2 hover:bg-background-overlay-hover hover:text-foreground transition-all rounded-sm text-xs w-full",{"cursor-not-allowed pointer-events-none opacity-50":e.disabled}),children:[(0,a.jsx)(c.CU,{hidden:!0,value:e.text,disabled:e.disabled,"aria-disabled":e.disabled},e.text),e.text,(e=>{var t;return!(!e||!(null==(t=e.availableIn)?void 0:t.length)||!U||Math.abs(r()().diff(r()(e.calcFrom()),"day"))<=U)})(e)?(0,a.jsx)(d.E,{size:"small",variant:"outline",className:"h-5 text-[10px] text-foreground-light capitalize",children:(null==(t=e.availableIn)?void 0:t[0])||""}):null]},e.text)})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex p-2 gap-2 items-center",children:[(0,a.jsxs)("div",{className:"flex flex-grow *:flex-grow gap-2 font-mono",children:[(0,a.jsx)(p.K,{type:"start",startTime:T,endTime:A,time:T,setTime:_,setStartTime:_,setEndTime:K,startDate:k,endDate:E,"data-sentry-element":"TimeSplitInput","data-sentry-source-file":"Logs.DatePickers.tsx"}),(0,a.jsx)(p.K,{type:"end",startTime:T,endTime:A,time:A,setTime:K,setStartTime:_,setEndTime:K,startDate:k,endDate:E,"data-sentry-element":"TimeSplitInput","data-sentry-source-file":"Logs.DatePickers.tsx"})]}),(0,a.jsx)("div",{className:"flex-shrink",children:(0,a.jsx)(m.G,{tooltip:{content:{text:"Clear time range"}},icon:(0,a.jsx)(o.A,{size:14}),type:"text",size:"tiny",className:"px-1.5",onClick:()=>{_({HH:"00",mm:"00",ss:"00"}),K({HH:"00",mm:"00",ss:"00"})},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"Logs.DatePickers.tsx"})})]}),(0,a.jsx)("div",{className:"p-2 border-t",children:(0,a.jsx)(v.V,{mode:"range",month:M,onMonthChange:e=>I(new Date(e)),selected:{from:null!=k?k:void 0,to:null!=E?E:void 0},onSelect:e=>{var t,n;!function(e){let[t,n]=e;D(t),L(n)}([null!=(t=null==e?void 0:e.from)?t:null,null!=(n=null==e?void 0:e.to)?n:null])},"data-sentry-element":"Calendar","data-sentry-source-file":"Logs.DatePickers.tsx"})}),B&&!S&&(0,a.jsxs)("div",{className:"text-xs px-3 py-1.5 border-y bg-warning-300 text-warning-foreground border-warning-500 text-warning",children:["Large ranges may result in memory errors for ",(0,a.jsx)("br",{})," big projects."]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2 p-2 border-t",children:[k&&E?(0,a.jsx)(f.$,{type:"text",size:"tiny",onClick:V,className:(0,h.cn)({"text-brand-600":F||O}),children:F?"Copied!":O?"Pasted!":"Copy range"}):null,(0,a.jsx)(f.$,{type:"default",onClick:()=>{let e=new Date;I(e),D(new Date(e)),L(new Date(e))},"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:"Today"}),(0,a.jsx)(f.$,{onClick:function(){let e=k||new Date,n=E||new Date,a=new Date(e.setHours(+T.HH,+T.mm,+T.ss)),l=new Date(n.setHours(+A.HH,+A.mm,+A.ss));t({from:a.toISOString(),to:l.toISOString(),isHelper:!1}),C(!1)},"data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:"Apply"})]})]})]})]})}},44814:(e,t,n)=>{n.d(t,{K:()=>d});var a=n(80263),l=n(87654),r=n(56718),s=n(53239),o=n(75187);let i=(0,n(80100).cn)("w-6 p-0 text-center text-xs text-foreground outline-none cursor-text","ring-0 focus:ring-0 ring-none border-none bg-transparent"),d=e=>{let{type:t,time:n,setTime:d,setStartTime:u,setEndTime:c,startTime:m,endTime:p,startDate:g,endDate:x}=e,[f,h]=(0,s.useState)(!1);function v(){1===n.HH.length&&(n.HH="0"+n.HH),1===n.mm.length&&(n.mm="0"+n.mm),1===n.ss.length&&(n.ss="0"+n.ss),n.HH||(n.HH="00"),n.mm||(n.mm="00"),n.ss||(n.ss="00");let e=!1,a=!1;(0,l.A)(new Date(g),"dd/mm/yyyy")==(0,l.A)(new Date(x),"dd/mm/yyyy")&&("start"===t&&(n.HH&&Number(n.HH)>Number(p.HH)&&(p.HH=n.HH,e=!0),n.HH&&Number(n.HH)>=Number(p.HH)&&n.mm&&Number(n.mm)>Number(p.mm)&&(p.mm=n.mm,e=!0),n.HH&&Number(n.HH)>=Number(p.HH)&&n.mm&&Number(n.mm)>=Number(p.mm)&&n.ss&&Number(n.ss)>Number(p.ss)&&(p.ss=n.ss,e=!0)),"end"===t&&(n.HH&&Number(n.HH)<Number(m.HH)&&(m.HH=n.HH,a=!0),n.HH&&Number(n.HH)<=Number(m.HH)&&n.mm&&Number(n.mm)<Number(m.mm)&&(m.mm=n.mm,a=!0),n.HH&&Number(n.HH)<=Number(m.HH)&&n.mm&&Number(n.mm)<=Number(m.mm)&&n.ss&&Number(n.ss)<Number(m.ss)&&(m.ss=n.ss,a=!0))),d({...n}),e&&c({...p}),a&&u({...m}),h(!1)}function y(e,t){let a={HH:n.HH,mm:n.mm,ss:n.ss};if(!(e.length>2)){switch(t){case"HH":if(e&&Number(e)>23)return;break;case"mm":case"ss":if(e&&Number(e)>59)return}a[t]=e,d({...a})}}let b=e=>{e.target.select(),h(!0),e.stopPropagation()},w=e=>{e.stopPropagation()},H=e=>{/^[0-9]$/.test(e.key)||["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Enter"].includes(e.key)||e.preventDefault(),e.stopPropagation()},S=e=>{e.stopPropagation()};function j(e){e.preventDefault(),e.stopPropagation(),navigator.clipboard.readText().then(e=>{let n=null;if(isNaN((n=new Date((0,o.l8)(e)?(0,o.RT)(e):Number(e))).getTime()))return void console.warn("Invalid date or timestamp in clipboard");n&&("start"===t&&n.setSeconds(n.getSeconds()-1),"end"===t&&n.setSeconds(n.getSeconds()+1),d({HH:n.getHours().toString().padStart(2,"0"),mm:n.getMinutes().toString().padStart(2,"0"),ss:n.getSeconds().toString().padStart(2,"0")}))})}return(0,s.useEffect)(()=>(document.addEventListener("paste",j),()=>document.removeEventListener("paste",j)),[g,x]),(0,a.jsxs)("div",{className:"\n        flex h-7 items-center justify-center\n        gap-0 rounded border border-strong bg-surface-100 text-xs text-foreground-light\n        ".concat(f&&" border-stronger outline outline-2 outline-border","\n        hover:border-stronger transition-colors\n    "),"data-sentry-component":"TimeSplitInput","data-sentry-source-file":"TimeSplitInput.tsx",children:[(0,a.jsx)("div",{className:"mr-1 text-foreground-lighter",children:(0,a.jsx)(r.A,{size:14,strokeWidth:1.5,"data-sentry-element":"Clock","data-sentry-source-file":"TimeSplitInput.tsx"})}),(0,a.jsx)("input",{type:"text",onBlur:()=>v(),onFocus:b,onClick:w,onKeyDown:H,onInput:S,pattern:"[0-23]*",placeholder:"00",onChange:e=>y(e.target.value,"HH"),"aria-label":"Hours",className:i,value:n.HH}),(0,a.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,a.jsx)("input",{type:"text",onBlur:()=>v(),onFocus:b,onClick:w,onKeyDown:H,onInput:S,pattern:"[0-59]*",placeholder:"00",onChange:e=>y(e.target.value,"mm"),"aria-label":"Minutes",className:i,value:n.mm}),(0,a.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,a.jsx)("input",{type:"text",onBlur:()=>v(),onFocus:b,onClick:w,onKeyDown:H,onInput:S,pattern:"[0-59]*",placeholder:"00",onChange:e=>y(e.target.value,"ss"),"aria-label":"Seconds",className:i,value:n.ss})]})}},49510:(e,t,n)=>{n.d(t,{e:()=>u});var a=n(56947),l=n(24523),r=n(19965);async function s(e,t){let{slug:n}=e;if(!n)throw Error("slug is required");let{data:a,error:r}=await (0,l.Jt)("/platform/organizations/{slug}/entitlements",{params:{path:{slug:n}},signal:t});return r&&(0,l.H4)(r),a}let o=function(e){let{slug:t}=e,{enabled:n=!0,...l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.I)({queryKey:[r.O.entitlements(t)],queryFn:e=>{let{signal:n}=e;return s({slug:t},n)},enabled:n&&void 0!==t,...l,staleTime:18e5})};var i=n(53239),d=n(84512);function u(e,t,n){var a;let l=!t&&(null==n?void 0:n.enabled)!==!1,{data:r,isLoading:s,isSuccess:u}=(0,d.s)({enabled:l}),c=t||(null==r?void 0:r.slug),m=(null==n?void 0:n.enabled)!==!1&&!!c,{data:p,isLoading:g,isSuccess:x}=o({slug:c},{enabled:m}),{entitlement:f}=(0,i.useMemo)(()=>{if(!c)return{entitlement:null};let t=null==p?void 0:p.entitlements.find(t=>t.feature.key===e);return{entitlement:null!=t?t:null}},[p,e,c]),h=l?s:g,v=l?u&&x:x;return{hasAccess:null!=(a=null==f?void 0:f.hasAccess)&&a,isLoading:h,isSuccess:v,getEntitlementNumericValue:()=>(function(e){let t=null==e?void 0:e.config;return t&&e.type&&"numeric"===e.type?t.value:void 0})(f),isEntitlementUnlimited:()=>(function(e){let t=null==e?void 0:e.config;return!!(t&&e.type&&"numeric"===e.type)&&t.unlimited})(f),getEntitlementSetValues:()=>(function(e){let t=null==e?void 0:e.config;return t&&e.type&&"set"===e.type?t.set:[]})(f)}}}}]);
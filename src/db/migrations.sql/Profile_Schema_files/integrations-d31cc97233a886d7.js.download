try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5ab7a230-8c3d-4ff4-846c-643c51d4bd4f",e._sentryDebugIdIdentifier="sentry-dbid-5ab7a230-8c3d-4ff4-846c-643c51d4bd4f")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56844],{8344:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var a=n(80263),r=n(60045),s=n(22891),o=n(80090),i=n(84512),l=n(9620),d=n(80100),c=n(23729),u=n(86541);let g=e=>{var t,n,g,f;let{icon:p,primaryText:m,secondaryText:y,addon:x,buttonText:h,source:b="upgrade",disabled:j=!1,fullWidth:v=!1}=e,{data:w}=(0,l.YA)(),{data:_}=(0,i.s)(),S=null==_||null==(t=_.plan)?void 0:t.id,{can:C}=(0,o.Qp)(r.aG.BILLING_WRITE,"stripe.subscriptions"),N=(0,s._P)("disableProjectCreationAndUpdate");return(0,a.jsx)("div",{className:(0,d.cn)("block w-full py-4 px-6 bg-surface-200",v?"border-b":"border border-opacity-20 border-overlay rounded"),"data-sentry-component":"UpgradeToPro","data-sentry-source-file":"UpgradeToPro.tsx",children:(0,a.jsxs)("div",{className:"flex gap-x-3",children:[p&&(0,a.jsx)("div",{className:"mt-1",children:p}),(0,a.jsxs)("div",{className:"flex flex-col @md:flex-row w-full @md:items-center justify-between gap-4 @md:gap-x-8",children:[(0,a.jsxs)("div",{className:"space-y-1 flex-1 max-w-2xl",children:[(0,a.jsx)("p",{className:"text-sm",children:m}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:y})})]}),!C||N?(0,a.jsx)(c.G,{disabled:!0,type:"primary",tooltip:{content:{side:"bottom",text:N?"Subscription changes are currently disabled, our engineers are working on a fix":C?void 0:"You need additional permissions to amend subscriptions"}},children:h||("free"===S?"Upgrade to Pro":"Enable add on")}):(0,a.jsx)(u.I,{type:"primary",plan:"Pro",source:b,disabled:j,href:"free"===S?"/org/".concat(null!=(n=null==_?void 0:_.slug)?n:"_","/billing?panel=subscriptionPlan&source=").concat(b):null==x?"/org/".concat(null!=(g=null==_?void 0:_.slug)?g:"_","/billing?panel=costControl&source=").concat(b):"/project/".concat(null!=(f=null==w?void 0:w.ref)?f:"_","/settings/addons?panel=").concat(x,"&source=").concat(b),children:h||("free"===S?"Upgrade to Pro":"Enable add on")})]})]})})}},22158:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var a=n(56947),r=n(24523),s=n(63408);async function o(e,t){let{organizationId:n}=e;if(!n)throw Error("organizationId is required");let{data:a,error:s}=await (0,r.Jt)("/platform/integrations/github/connections",{params:{query:{organization_id:n}},signal:t});return s&&(0,r.H4)(s),a.connections}let i=function(e){let{organizationId:t}=e,{enabled:n=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.I)({queryKey:s.Z.githubConnectionsList(t),queryFn:e=>{let{signal:n}=e;return o({organizationId:t},n)},enabled:n&&void 0!==t,staleTime:18e5,...r})}},25958:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var a=n(80251),r=n(73969),s=n(24523);async function o(e,t){let{repositoryId:n,branchName:a}=e,{data:r,error:o}=await (0,s.Jt)("/platform/integrations/github/repositories/{repository_id}/branches/{branch_name}",{params:{path:{repository_id:n,branch_name:a}},signal:t});return o&&(0,s.H4)(o),r}let i=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.n)({mutationFn:e=>o(e),async onSuccess(t,n,a){await (null==e?void 0:e(t,n,a))},async onError(e,n,a){void 0===t?r.oR.error("Failed to check GitHub branch: ".concat(e.message)):t(e,n,a)},...n})}},33132:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var a=n(80263),r=n(86510),s=n(77477),o=n(29805),i=n(6637),l=n(74763),d=n(84512),c=n(9497),u=n(98174),g=n(80100),f=n(20033),p=n(99779);let m=e=>{let{children:t}=e,{data:n}=(0,d.s)(),c=(0,l.X)({installationId:null==n?void 0:n.partner_id},{enabled:(null==n?void 0:n.managed_by)===u.Kf.VERCEL_MARKETPLACE}),m=(0,i.x)({organizationSlug:null==n?void 0:n.slug},{enabled:(null==n?void 0:n.managed_by)===u.Kf.AWS_MARKETPLACE}),{data:y,isSuccess:x}=(null==n?void 0:n.managed_by)===u.Kf.AWS_MARKETPLACE?m:c;return(0,a.jsxs)("div",{className:(0,g.cn)("h-full w-full flex flex-col overflow-hidden"),"data-sentry-component":"OrganizationLayoutContent","data-sentry-source-file":"OrganizationLayout.tsx",children:[n&&(null==n?void 0:n.managed_by)!=="supabase"&&(0,a.jsxs)(f.Fc,{variant:"default",className:"flex items-center gap-4 border-t-0 border-x-0 rounded-none",children:[(0,a.jsx)(s.A,{organization:n,showTooltip:!1,size:"medium"}),(0,a.jsxs)(f.XL,{className:"flex-1",children:["This organization is managed by ",o.N[n.managed_by],"."]}),(0,a.jsx)(p.$,{asChild:!0,type:"default",iconRight:(0,a.jsx)(r.A,{}),disabled:!x,children:(0,a.jsx)("a",{href:null==y?void 0:y.url,target:"_blank",rel:"noopener noreferrer",children:"Manage"})})]}),(0,a.jsx)("main",{className:"h-full w-full overflow-y-auto flex flex-col",children:t})]})},y=(0,c.r)(e=>{let{children:t}=e;return(0,a.jsx)(m,{"data-sentry-element":"OrganizationLayoutContent","data-sentry-component":"OrganizationLayout","data-sentry-source-file":"OrganizationLayout.tsx",children:t})})},42659:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(80263);let r=e=>{let{active:t}=e;return t?(0,a.jsx)("div",{className:"logs-shimmering-loader w-full h-0.5","data-sentry-component":"ShimmerLine","data-sentry-source-file":"ShimmerLine.tsx"}):null}},48004:(e,t,n)=>{"use strict";n.d(t,{t:()=>d});var a=n(32144),r=n(80251),s=n(73969),o=n(24523),i=n(55917);async function l(e){let{projectRef:t,is_default:n,branchName:a,gitBranch:r,region:s,withData:i,desired_instance_size:l}=e,{data:d,error:c}=await (0,o.bE)("/v1/projects/{ref}/branches",{params:{path:{ref:t}},body:{is_default:n,branch_name:a,git_branch:r,region:s,with_data:i,desired_instance_size:l}});return c&&(0,o.H4)(c),d}let d=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,a.jE)();return(0,r.n)({mutationFn:e=>l(e),async onSuccess(t,n,a){let{projectRef:r}=n;await o.invalidateQueries({queryKey:i.N.list(r)}),await (null==e?void 0:e(t,n,a))},async onError(e,n,a){void 0===t?s.oR.error("Failed to create branch: ".concat(e.message)):t(e,n,a)},...n})}},73997:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/org/[slug]/integrations",function(){return n(80065)}])},78039:(e,t,n)=>{"use strict";n.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>o,aR:()=>i,wL:()=>u});var a=n(80263),r=n(53239),s=n(80100);let o=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("overflow-hidden rounded-lg border bg-surface-100 text-card-foreground shadow-sm",n),...r})});o.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 py-4 px-6 border-b",n),...r})});i.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-xs font-mono uppercase",n),...r})});l.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-foreground-muted",n),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("py-4 px-6 border-b last:border-none",n),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)(" flex items-center py-4 px-6",n),...r})});u.displayName="CardFooter"},79861:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>d});var a=n(80263),r=n(72495);n(53239);var s=n(99779),o=n(30404),i=n(7981);let l=e=>{let{id:t,disabled:n,className:l,children:d,header:c,visible:u,open:g,size:f="medium",loading:p,align:m="right",hideFooter:y=!1,customFooter:x,onConfirm:h,onCancel:b,confirmText:j="Confirm",cancelText:v="Cancel",triggerElement:w,defaultOpen:_,tooltip:S,...C}=e,N=(0,i.A)("sidepanel"),I=x||(0,a.jsxs)("div",{className:N.footer,children:[(0,a.jsx)("div",{children:(0,a.jsx)(s.$,{disabled:p,type:"default",onClick:()=>b?b():null,children:v})}),!!h&&(0,a.jsxs)(o.m_,{children:[(0,a.jsx)(o.k$,{asChild:!0,children:(0,a.jsx)("span",{className:"inline-block",children:(0,a.jsx)(s.$,{htmlType:"submit",disabled:n||p,loading:p,onClick:h,children:j})})}),void 0!==S&&(0,a.jsx)(o.ZI,{side:"bottom",children:S})]})]});return g=g||u,(0,a.jsxs)(r.bL,{open:g,onOpenChange:function(e){void 0!==u&&!e&&b&&b()},defaultOpen:_,"data-sentry-element":"Dialog.Root","data-sentry-component":"SidePanel","data-sentry-source-file":"SidePanel.tsx",children:[w&&(0,a.jsx)(r.l9,{asChild:!0,children:w}),(0,a.jsxs)(r.ZL,{"data-sentry-element":"Dialog.Portal","data-sentry-source-file":"SidePanel.tsx",children:[(0,a.jsx)(r.hJ,{className:N.overlay,"data-sentry-element":"Dialog.Overlay","data-sentry-source-file":"SidePanel.tsx"}),(0,a.jsxs)(r.UC,{className:[N.base,N.size[f],N.align[m],l&&l].join(" "),onOpenAutoFocus:C.onOpenAutoFocus,onCloseAutoFocus:C.onCloseAutoFocus,onEscapeKeyDown:C.onEscapeKeyDown,onPointerDownOutside:C.onPointerDownOutside,onInteractOutside:e=>{var t;(null==(t=e.target)?void 0:t.closest("#toast"))&&e.preventDefault(),C.onInteractOutside&&C.onInteractOutside(e)},"data-sentry-element":"Dialog.Content","data-sentry-source-file":"SidePanel.tsx",children:[c&&(0,a.jsx)("header",{className:N.header,children:c}),(0,a.jsx)("div",{className:N.contents,children:d}),!y&&I]})]})]})};l.Content=function(e){let{children:t,className:n}=e,r=(0,i.A)("sidepanel");return(0,a.jsx)("div",{className:[r.content,n].join(" ").trim(),"data-sentry-component":"Content","data-sentry-source-file":"SidePanel.tsx",children:t})},l.Separator=function(){let e=(0,i.A)("sidepanel");return(0,a.jsx)("div",{className:e.separator,"data-sentry-component":"Separator","data-sentry-source-file":"SidePanel.tsx"})};let d=l},80065:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var a=n(80263),r=n(60045),s=n(53239),o=n(73969),i=n(2428),l=n(29445),d=n(60425),c=n(37873),u=n(39624),g=n(9930),f=n(71898),p=n(22158),m=n(80090),y=n(2657),x=n(84512),h=n(85039),b=n(77192),j=n(80814),v=n(81802),w=n(16488),_=n(32515),S=n(19660);let C=e=>{let{title:t}=e;return(0,a.jsx)("img",{className:"border rounded-lg shadow w-full sm:w-48 mt-6 border-body",src:"".concat(h.o2,"/img/integrations/covers/").concat(t,"-cover.png"),alt:"".concat(t," cover"),"data-sentry-component":"IntegrationImageHandler","data-sentry-source-file":"IntegrationSettings.tsx"})},N=()=>{let e=(0,j.useRouter)(),{data:t}=(0,x.s)(),n=(0,y.x)("integrations:vercel"),{can:h,isLoading:N}=(0,m.Qp)(r.aG.READ,"integrations.github_connections"),{can:I}=(0,m.Qp)(r.aG.CREATE,"integrations.github_connections"),{can:A}=(0,m.Qp)(r.aG.UPDATE,"integrations.github_connections"),{data:P}=(0,g.m)(),{data:E}=(0,p.O)({organizationId:null==t?void 0:t.id}),{mutate:L}=(0,f.L)({onSuccess:()=>{o.oR.success("Successfully deleted GitHub connection")}}),R=(0,v.bZ)(),T=(0,s.useCallback)(()=>{e.push("/project/_/settings/integrations")},[R]),H=(0,s.useCallback)(async e=>{if(!(null==t?void 0:t.id))return void o.oR.error("Organization not found");L({connectionId:e.id,organizationId:t.id})},[L,null==t?void 0:t.id]),O=P?"You are authorized with Supabase GitHub App. You can configure your GitHub App installations and repository access [here](".concat(b.CH,"). You can revoke your authorization [here](").concat(b.oC,")."):"";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Vw,{"data-sentry-element":"ScaffoldContainerLegacy","data-sentry-source-file":"IntegrationSettings.tsx",children:(0,a.jsx)(c.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"IntegrationSettings.tsx",children:"Integrations"})}),(0,a.jsx)(()=>(0,a.jsx)(c.eh,{"data-sentry-element":"ScaffoldContainer","data-sentry-component":"GitHubSection","data-sentry-source-file":"IntegrationSettings.tsx",children:(0,a.jsxs)(c.gu,{"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"IntegrationSettings.tsx",children:[(0,a.jsxs)(c.xp,{title:"GitHub Connections","data-sentry-element":"ScaffoldSectionDetail","data-sentry-source-file":"IntegrationSettings.tsx",children:[(0,a.jsx)(l.o,{content:"\nConnect any of your GitHub repositories to a project.\n","data-sentry-element":"Markdown","data-sentry-source-file":"IntegrationSettings.tsx"}),(0,a.jsx)(C,{title:"github","data-sentry-element":"IntegrationImageHandler","data-sentry-source-file":"IntegrationSettings.tsx"})]}),(0,a.jsx)(c.Rf,{"data-sentry-element":"ScaffoldSectionContent","data-sentry-source-file":"IntegrationSettings.tsx",children:N?(0,a.jsx)(w.y,{}):h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.o,{content:"\n\n### How will GitHub connections work?\n\nYou will be able to connect a GitHub repository to a Supabase project.\nThe GitHub app will watch for changes in your repository such as file changes, branch changes as well as pull request activity.\n"}),(0,a.jsx)("ul",{className:"flex flex-col gap-y-2",children:null==E?void 0:E.map(e=>{var t,n,r,s,o;return(0,a.jsx)(_.S,{disabled:!A,connection:{id:String(e.id),added_by:{id:String(null==(t=e.user)?void 0:t.id),primary_email:null!=(s=null==(n=e.user)?void 0:n.primary_email)?s:"",username:null!=(o=null==(r=e.user)?void 0:r.username)?o:""},foreign_project_id:String(e.repository.id),supabase_project_ref:e.project.ref,organization_integration_id:"unused",inserted_at:e.inserted_at,updated_at:e.updated_at,metadata:{name:e.repository.name}},type:"GitHub",onDeleteConnection:H},e.id)})}),(0,a.jsx)(i.MJ,{onClick:T,showNode:!1,disabled:!I,children:"Add new project connection"}),O&&(0,a.jsx)(l.o,{extLinks:!0,content:O,className:"text-foreground-lighter"})]}):(0,a.jsx)(u.A,{resourceText:"view this organization's GitHub connections"})})]})}),{"data-sentry-element":"GitHubSection","data-sentry-source-file":"IntegrationSettings.tsx"}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.cJ,{}),(0,a.jsx)(d.A,{isProjectScoped:!1}),(0,a.jsx)(S.A,{})]})]})};var I=n(10508),A=n(33132);let P=()=>(0,a.jsx)(N,{"data-sentry-element":"IntegrationSettings","data-sentry-component":"OrgIntegrationSettings","data-sentry-source-file":"integrations.tsx"});P.getLayout=e=>(0,a.jsx)(I.A,{children:(0,a.jsx)(A.A,{children:e})});let E=P},86541:(e,t,n)=>{"use strict";n.d(t,{I:()=>u,W:()=>c});var a=n(80263),r=n(52555),s=n.n(r),o=n(27695),i=n(2657),l=n(84512),d=n(99779);let c="<Specify which plan to upgrade to: Pro | Team | Enterprise>",u=e=>{var t;let{source:n,type:r="default",plan:u,href:g,disabled:f,children:p}=e,{data:m}=(0,l.s)(),y=null!=(t=null==m?void 0:m.slug)?t:"_",{billingAll:x}=(0,i.x)(["billing:all"]),h="Name: ".concat(null==m?void 0:m.name,"\nSlug: ").concat(null==m?void 0:m.slug,"\nRequested plan: ").concat(null!=u?u:c),b=x?null!=g?g:"/org/".concat(y,"/billing?panel=subscriptionPlan").concat(n?"&source=".concat(n):""):"",j=p||"Upgrade to ".concat(u),v=x?(0,a.jsx)(s(),{href:b,children:j}):(0,a.jsx)(o.Y,{queryParams:{orgSlug:y,category:"Plan_upgrade",subject:"Enquiry to upgrade ".concat(u?"to ".concat(u," "):"","plan for organization"),message:h},children:j});return(0,a.jsx)(d.$,{asChild:!0,type:r,disabled:f,"data-sentry-element":"Button","data-sentry-component":"UpgradePlanButton","data-sentry-source-file":"UpgradePlanButton.tsx",children:v})}}},e=>{e.O(0,[60858,15599,16110,44952,36538,43833,76984,72391,74004,40545,596,10508,77272,61301,90636,46593,38792],()=>e(e.s=73997)),_N_E=e.O()}]);
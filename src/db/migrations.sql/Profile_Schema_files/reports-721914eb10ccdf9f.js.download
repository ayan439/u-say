try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="02bf9c00-c83b-4d60-bc68-32dc973b6247",e._sentryDebugIdIdentifier="sentry-dbid-02bf9c00-c83b-4d60-bc68-32dc973b6247")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1193],{1374:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},5232:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/reports",function(){return r(81161)}])},10279:(e,t,r)=>{"use strict";r.d(t,{E:()=>x});var n=r(80263),s=r(80814),a=r(53239),i=r(73969),o=r(8579),l=r(9620),c=r(6436),d=r(34983),u=r(6217),p=r(49151),y=r(80421),m=r(99779);let x=e=>{var t;let{visible:r,onCancel:x,afterSubmit:h}=e,f=(0,s.useRouter)(),{profile:j}=(0,d.xc)(),{data:g}=(0,l.YA)(),v=null!=(t=null==g?void 0:g.ref)?t:"default",k=(0,a.useMemo)(()=>{let{its:e,ite:t,isHelper:r,helperText:n}=f.query,s=new URLSearchParams;e&&"string"==typeof e&&s.set("its",e),t&&"string"==typeof t&&s.set("ite",t),r&&"string"==typeof r&&s.set("isHelper",r),n&&"string"==typeof n&&s.set("helperText",n);let a=s.toString();return a?"?".concat(a):""},[f.query]),{mutate:b,isLoading:A}=(0,o.v)({onSuccess:(e,t)=>{i.oR.success("Successfully created new report");let r=t.payload.id;f.push("/project/".concat(v,"/reports/").concat(r).concat(k)),h()},onError:e=>{i.oR.error("Failed to create report: ".concat(e.message))}});async function w(e){let{name:t,description:r}=e;return v?j?void b({projectRef:v,payload:{id:(0,c.gZ)(),type:"report",name:t,description:r||"",visibility:"project",owner_id:null==j?void 0:j.id,content:{schema_version:1,period_start:{time_period:"7d",date:""},period_end:{time_period:"today",date:""},interval:"1d",layout:[]}}}):console.error("Profile is required"):console.error("Project ref is required")}return(0,n.jsx)(u.A,{visible:r,onCancel:x,hideFooter:!0,header:"Create a custom report",size:"small","data-sentry-element":"Modal","data-sentry-component":"CreateReportModal","data-sentry-source-file":"CreateReportModal.tsx",children:(0,n.jsx)(p.A,{onReset:x,validateOnBlur:!0,initialValues:{name:"",description:""},validate:e=>{let t={};return e.name||(t.name="Required"),t},onSubmit:e=>w(e),"data-sentry-element":"Form","data-sentry-source-file":"CreateReportModal.tsx",children:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.A.Content,{className:"space-y-4",children:[(0,n.jsx)(y.A,{label:"Name",id:"name",name:"name"}),(0,n.jsx)(y.A.TextArea,{label:"Description",id:"description",placeholder:"Describe your custom report",size:"medium",textAreaClassName:"resize-none"})]}),(0,n.jsx)(u.A.Separator,{}),(0,n.jsxs)(u.A.Content,{className:"flex items-center justify-end gap-2",children:[(0,n.jsx)(m.$,{htmlType:"reset",type:"default",onClick:x,disabled:A,children:"Cancel"}),(0,n.jsx)(m.$,{htmlType:"submit",loading:A,disabled:A,children:"Create report"})]})]})})})}},13655:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]])},15359:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(80263),s=r(86510),a=r(23729),i=r(52555),o=r.n(i),l=r(99779);let c=e=>{let{title:t="",size:r="medium",children:i,ctaButtonLabel:c="",infoButtonLabel:d="",infoButtonUrl:u="",onClickCta:p=()=>{},loading:y=!1,disabled:m=!1,disabledMessage:x="",ctaUrl:h}=e,f=c&&p||u&&d;return(0,n.jsx)("div",{className:"flex h-full w-full items-center justify-center","data-sentry-component":"ProductEmptyState","data-sentry-source-file":"ProductEmptyState.tsx",children:(0,n.jsx)("div",{className:"flex space-x-4 rounded border bg-surface-100 p-6 shadow-md",children:(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsxs)("div",{className:"".concat("medium"===r?"w-80":"w-[400px]"," space-y-4"),children:[(0,n.jsx)("h5",{className:"text-foreground",children:t}),(0,n.jsx)("div",{className:"flex flex-col space-y-2 text-foreground-light",children:i}),f&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[c&&h?(0,n.jsx)(l.$,{asChild:!0,type:"primary",children:(0,n.jsx)(o(),{href:h,children:c})}):c&&p?(0,n.jsx)(a.G,{type:"primary",onClick:p,loading:y,disabled:y||m,tooltip:{content:{side:"bottom",text:m&&x.length>0?x:void 0}},children:c}):null,u&&d?(0,n.jsx)(l.$,{type:"default",icon:(0,n.jsx)(s.A,{strokeWidth:1.5}),children:(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",href:u,children:d})}):null]})]})})})})}},24051:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var n=r(32144),s=r(80251),a=r(73969),i=r(24523),o=r(1206);async function l(e,t){let{projectRef:r,ids:n}=e,{data:s,error:a}=await (0,i.yH)("/platform/projects/{ref}/content",{headers:{Version:"2"},params:{path:{ref:r},query:{ids:n.join(",")}},signal:t});return a&&(0,i.H4)(a),s.map(e=>e.id)}let c=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,n.jE)();return(0,s.n)({mutationFn:e=>l(e),async onSuccess(t,r,n){let{projectRef:s}=r;await Promise.all([i.invalidateQueries({queryKey:o.M.allContentLists(s)}),i.invalidateQueries({queryKey:o.M.infiniteList(s)})]),await (null==e?void 0:e(t,r,n))},async onError(e,r,n){void 0===t?a.oR.error("Failed to delete contents: ".concat(e.message)):t(e,r,n)},...r})}},24487:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>p});var n=r(80263),s=r(53239),a=r(7981),i=r(80100);function o(e){let{children:t,className:r,tag:s="div",style:a}=e;return(0,n.jsx)("".concat(s),{style:a,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}o.Title=function(e){let{className:t,level:r=1,children:s,style:a}=e;return(0,n.jsx)("h".concat(r),{style:a,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:s})},o.Text=function(e){let{className:t,children:r,style:s,type:a,disabled:i,mark:o,code:l,keyboard:c,underline:d,strikethrough:u,strong:p,small:y}=e;return l?(0,n.jsx)("code",{style:s,children:r}):o?(0,n.jsx)("mark",{style:s,children:r}):c?(0,n.jsx)("kbd",{style:s,children:r}):p?(0,n.jsx)("strong",{style:s,children:r}):(0,n.jsx)("span",{style:s,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:r})},o.Link=function(e){let{children:t,target:r="_blank",href:s,className:a,onClick:i,style:o}=e;return(0,n.jsx)("a",{onClick:i,href:s,target:r,rel:"noopener noreferrer",style:o,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})};let l=(0,s.createContext)({type:"text"}),c=e=>{let{type:t}=e;return(0,n.jsx)(l.Provider,{value:{type:t},"data-sentry-element":"MenuContext.Provider","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},d=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:r,ulClassName:s,style:a,type:i="text"}=e;return(0,n.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:r,style:a,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)(c,{type:i,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)("ul",{className:s,children:t})})})}u.Item=function(e){let{children:t,icon:r,active:s,rounded:o,onClick:l,doNotCloseOverlay:c=!1,showActiveBar:u=!1,style:p}=e,y=(0,a.A)("menu"),{type:m}=d(),x=[y.item.base];x.push(y.item.variants[m].base),s?x.push(y.item.variants[m].active):x.push(y.item.variants[m].normal);let h=[y.item.content.base];s?h.push(y.item.content.active):h.push(y.item.content.normal);let f=[y.item.icon.base];return s?f.push(y.item.icon.active):f.push(y.item.icon.normal),(0,n.jsxs)("li",{role:"menuitem",className:(0,i.cn)("outline-none",x),style:p,onClick:l,"aria-current":s?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[r&&(0,n.jsx)("div",{className:"".concat(f.join(" ")," min-w-fit"),children:r}),(0,n.jsx)("span",{className:h.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:r,title:s}=e,i=(0,a.A)("menu"),{type:o}=d();return(0,n.jsxs)("div",{className:[i.group.base,i.group.variants[o]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[r&&(0,n.jsx)("span",{className:i.group.icon,children:r}),(0,n.jsx)("span",{className:i.group.content,children:s}),t]})},u.Misc=function(e){let{children:t}=e;return(0,n.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)(o.Text,{"data-sentry-element":"Typography.Text","data-sentry-source-file":"Menu.tsx",children:(0,n.jsx)("span",{children:t})})})};let p=u},29948:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},31626:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},42459:(e,t,r)=>{"use strict";r.d(t,{c:()=>c});var n=r(80263),s=r(52555),a=r.n(s),i=r(80100),o=r(99779),l=r(44725);let c=e=>{let{urlBack:t,fullHeight:r=!0}=e;return(0,n.jsx)("div",{className:(0,i.cn)("w-full flex items-center justify-center",r&&"h-full"),"data-sentry-component":"UnknownInterface","data-sentry-source-file":"UnknownInterface.tsx",children:(0,n.jsx)(l.Z,{type:"note",className:"max-w-xl",title:"Looking for something?",description:"We couldn't find the page that you're looking for","data-sentry-element":"Admonition","data-sentry-source-file":"UnknownInterface.tsx",children:(0,n.jsx)(o.$,{asChild:!0,type:"default",className:"mt-2","data-sentry-element":"Button","data-sentry-source-file":"UnknownInterface.tsx",children:(0,n.jsx)(a(),{href:t,"data-sentry-element":"Link","data-sentry-source-file":"UnknownInterface.tsx",children:"Head back"})})})})}},49151:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(80263),s=r(53239),a=r(57459),i=r(7760);function o(e,t){if(!t.error)return delete e[t.key],e;if(t)return{...e,[t.key]:t.error};throw Error()}function l(e){let{validate:t,...r}=e,[l,c]=(0,s.useReducer)(o,null),d=(0,a.Wx)({validateOnBlur:!0,...r,validationSchema:r.validationSchema,initialValues:r.initialValues,onSubmit:r.onSubmit,validate:t||function(){return l}});return(0,n.jsx)("form",{id:r.id,name:r.name,onSubmit:d.handleSubmit,className:r.className,style:r.style,method:"POST","data-sentry-component":"Form","data-sentry-source-file":"Form.tsx",children:(0,n.jsx)(i.h,{values:d.values,errors:d.errors,formContextOnChange:d.handleChange,handleBlur:d.handleBlur,touched:d.touched,fieldLevelValidation:function(e,t){c({key:e,error:t})},"data-sentry-element":"FormContextProvider","data-sentry-source-file":"Form.tsx",children:r.children({errors:d.errors,touched:d.touched,isSubmitting:d.isSubmitting,isValidating:d.isValidating,submitCount:d.submitCount,initialValues:d.initialValues,values:d.values,handleReset:d.handleReset,resetForm:d.resetForm,setFieldValue:d.setFieldValue})})})}},53407:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},54831:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},66959:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]])},69213:(e,t,r)=>{"use strict";r.d(t,{A:()=>z});var n=r(80263),s=r(22891),a=r(42459),i=r(2657),o=r(9497),l=r(29471),c=r(60045),d=r(90376),u=r(52555),p=r.n(u),y=r(80814),m=r(53239),x=r(73969),h=r(10279),f=r(8579),j=r(6217),g=r(49151),v=r(80421),k=r(99779);let b=e=>{let{selectedReport:t,initialValues:r,onCancel:a}=e,{ref:i}=(0,s.g)(),{mutate:o,isLoading:l}=(0,f.v)({onSuccess:()=>{x.oR.success("Successfully updated report"),a()},onError:e=>{x.oR.error("Failed to update report: ".concat(e.message))}});return(0,n.jsx)(j.A,{visible:void 0!==t,onCancel:a,hideFooter:!0,header:"Update custom report",size:"small","data-sentry-element":"Modal","data-sentry-component":"UpdateCustomReportModal","data-sentry-source-file":"UpdateModal.tsx",children:(0,n.jsx)(g.A,{onReset:a,validateOnBlur:!0,initialValues:r,validate:function(e){let t={};return e.name||(t.name="This field is required"),t},onSubmit:e=>{if(!i)return console.error("Project ref is required");t&&t.id&&t.project_id&&o({projectRef:i,payload:{...t,owner_id:t.owner_id,project_id:t.project_id,id:t.id,name:e.name,description:e.description||""}})},"data-sentry-element":"Form","data-sentry-source-file":"UpdateModal.tsx",children:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.A.Content,{children:(0,n.jsx)(v.A,{label:"Name",id:"name",name:"name"})}),(0,n.jsx)(j.A.Content,{children:(0,n.jsx)(v.A.TextArea,{label:"Description",id:"description",placeholder:"Describe your custom report",size:"medium",textAreaClassName:"resize-none"})}),(0,n.jsx)(j.A.Separator,{}),(0,n.jsxs)(j.A.Content,{className:"flex items-center justify-end gap-2",children:[(0,n.jsx)(k.$,{htmlType:"reset",type:"default",onClick:a,disabled:l,children:"Cancel"}),(0,n.jsx)(k.$,{htmlType:"submit",loading:l,disabled:l,children:"Save custom report"})]})]})})})};var A=r(23729),w=r(53931),C=r(24051),N=r(82702),M=r(80090),R=r(34983),S=r(24487),_=r(80100),q=r(68421),T=r(76174),P=r(74415),E=r(33922),L=r(21162);let D=e=>{let{item:t,pageKey:r,onSelectEdit:s,onSelectDelete:a}=e,{profile:i}=(0,R.xc)(),{can:o}=(0,M.Qp)(c.aG.UPDATE,"user_content",{resource:{type:"report",visibility:t.report.visibility,owner_id:t.report.owner_id},subject:{id:null==i?void 0:i.id}});return(0,n.jsxs)(p(),{className:(0,_.cn)("pr-2 h-7 pl-3 mt-1 text-foreground-light group-hover:text-foreground/80 text-sm","flex items-center justify-between rounded-md group relative",t.key===r?"bg-surface-300 text-foreground":"hover:bg-surface-200"),href:t.url,"data-sentry-element":"Link","data-sentry-component":"ReportMenuItem","data-sentry-source-file":"ReportMenuItem.tsx",children:[(0,n.jsx)("div",{children:t.name}),o&&(0,n.jsxs)(L.rI,{children:[(0,n.jsx)(L.ty,{asChild:!0,children:(0,n.jsx)(k.$,{type:"text",className:"px-1 opacity-50 hover:opacity-100",icon:(0,n.jsx)(T.A,{size:12,strokeWidth:2})})}),(0,n.jsxs)(L.SQ,{align:"start",className:"w-32 *:gap-x-2",children:[(0,n.jsxs)(L._2,{onClick:()=>{t.id&&s()},children:[(0,n.jsx)(P.A,{size:12}),(0,n.jsx)("div",{children:"Rename report"})]}),(0,n.jsx)(L.mB,{}),(0,n.jsxs)(L._2,{onClick:()=>{t.id&&a()},children:[(0,n.jsx)(E.A,{size:12}),(0,n.jsx)("div",{children:"Delete report"})]})]})]})]},t.key+"-menukey")},F=()=>{let e=(0,y.useRouter)(),{profile:t}=(0,R.xc)(),{ref:r,id:a}=(0,s.g)(),o=a||e.pathname.split("/")[4],l=(0,s._P)("authreportv2"),u=(0,s._P)("edgefunctionreport"),f=(0,s._P)("realtimeReport"),j=(0,s._P)("storagereport"),g=(0,s._P)("postgrestreport"),v=(0,i.x)("project_storage:all"),{can:k}=(0,M.Qp)(c.aG.CREATE,"user_content",{resource:{type:"report",owner_id:null==t?void 0:t.id},subject:{id:null==t?void 0:t.id}}),T=(0,m.useMemo)(()=>{let{its:t,ite:r,isHelper:n,helperText:s}=e.query,a=new URLSearchParams;t&&"string"==typeof t&&a.set("its",t),r&&"string"==typeof r&&a.set("ite",r),n&&"string"==typeof n&&a.set("isHelper",n),s&&"string"==typeof s&&a.set("helperText",s);let i=a.toString();return i?"?".concat(i):""},[e.query]),{data:P,isLoading:E}=(0,N.D)({projectRef:r,type:"report"}),{mutate:L,isLoading:F}=(0,C.$)({onSuccess:()=>{I(!1),x.oR.success("Successfully deleted report"),e.push("/project/".concat(r,"/reports"))},onError:e=>{x.oR.error("Failed to delete report: ".concat(e.message))}}),[z,I]=(0,m.useState)(!1),[V,U]=(0,m.useState)(!1),[B,G]=(0,m.useState)(),[H,$]=(0,m.useState)(),O=function(){if(!P)return[];let e=null==P?void 0:P.content.filter(e=>"report"===e.type);return(null==e?void 0:e.sort((e,t)=>e.name<t.name?-1:+(e.name>t.name))).map((e,t)=>({id:e.id,name:e.name,description:e.description||"",key:e.id||t+"-report",url:"/project/".concat(r,"/reports/").concat(e.id).concat(T),hasDropdownActions:!0,report:e}))}(),Q=[{title:"Built-in reports",key:"builtin-reports",items:[{name:"API Gateway",key:"api-overview",url:"/project/".concat(r,"/reports/api-overview").concat(T)},...l?[{name:"Auth",key:"auth",url:"/project/".concat(r,"/reports/auth").concat(T)}]:[],{name:"Database",key:"database",url:"/project/".concat(r,"/reports/database").concat(T)},...u?[{name:"Edge Functions",key:"edge-functions",url:"/project/".concat(r,"/reports/edge-functions").concat(T)}]:[],{name:"Query Performance",key:"query-performance",url:"/project/".concat(r,"/reports/query-performance").concat(T)},...g?[{name:"PostgREST",key:"postgrest",url:"/project/".concat(r,"/reports/postgrest").concat(T)}]:[],...f?[{name:"Realtime",key:"realtime",url:"/project/".concat(r,"/reports/realtime").concat(T)}]:[],...j&&v?[{name:"Storage",key:"storage",url:"/project/".concat(r,"/reports/storage").concat(T)}]:[]]}];return(0,n.jsx)(S.Ay,{type:"pills",className:"mt-6","data-sentry-element":"Menu","data-sentry-component":"ReportsMenu","data-sentry-source-file":"ReportsMenu.tsx",children:E?(0,n.jsxs)("div",{className:"px-5 my-4 space-y-2",children:[(0,n.jsx)(w.Ay,{}),(0,n.jsx)(w.Ay,{className:"w-3/4"}),(0,n.jsx)(w.Ay,{className:"w-1/2"})]}):(0,n.jsxs)("div",{className:"flex flex-col px-2 gap-y-6",children:[(0,n.jsx)("div",{className:"px-2",children:(0,n.jsx)(A.G,{block:!0,type:"default",icon:(0,n.jsx)(d.A,{}),disabled:!k,className:"justify-start flex-grow",onClick:()=>{U(!0)},tooltip:{content:{side:"bottom",text:k?void 0:"You need additional permissions to create custom reports"}},children:"New custom report"})}),O.length>0?(0,n.jsxs)("div",{children:[(0,n.jsx)(S.Ay.Group,{title:(0,n.jsx)("span",{className:"uppercase font-mono",children:"Your custom reports"})}),O.map(e=>(0,n.jsx)(D,{item:e,pageKey:o,onSelectEdit:()=>{$(e.report)},onSelectDelete:()=>{G(e.report),I(!0)}},e.id))]}):null,Q.map(e=>(0,n.jsx)("div",{children:e.items?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S.Ay.Group,{title:(0,n.jsx)("span",{className:"uppercase font-mono",children:e.title})}),(0,n.jsx)("div",{className:"flex flex-col",children:e.items.map(e=>(0,n.jsx)("li",{className:(0,_.cn)("pr-2 mt-1 text-foreground-light group-hover:text-foreground/80 text-sm","flex items-center justify-between rounded-md group relative",e.key===o?"bg-surface-300 text-foreground":"hover:bg-surface-200"),children:(0,n.jsx)(p(),{href:e.url,className:"flex-grow h-7 flex justify-between items-center pl-3",children:(0,n.jsx)("span",{children:e.name})})},e.key))},e.key)]}):null},e.key+"-menu-group")),(0,n.jsx)(b,{onCancel:()=>$(void 0),selectedReport:H,initialValues:{name:(null==H?void 0:H.name)||"",description:(null==H?void 0:H.description)||""}}),(0,n.jsx)(q.A,{title:"Delete custom report",confirmLabel:"Delete report",confirmLabelLoading:"Deleting report",size:"medium",loading:F,visible:z,onCancel:()=>I(!1),onConfirm:()=>void 0===r?console.error("Project ref is required"):(null==B?void 0:B.id)===void 0?console.error("Report ID is required"):void L({projectRef:r,ids:[B.id]}),children:(0,n.jsx)("div",{className:"text-sm text-foreground-light grid gap-4",children:(0,n.jsx)("div",{className:"grid gap-1",children:(0,n.jsxs)("p",{children:["Are you sure you want to delete '",null==B?void 0:B.name,"'?"]})})})}),(0,n.jsx)(h.E,{visible:V,onCancel:()=>U(!1),afterSubmit:()=>U(!1)})]})})},z=(0,o.r)(e=>{let{title:t,children:r}=e,{ref:o}=(0,s.g)(),{reportsAll:c}=(0,i.x)(["reports:all"]);return c?(0,n.jsx)(l.k,{title:t,product:"Reports",productMenu:(0,n.jsx)(F,{}),isBlocking:!1,children:r}):(0,n.jsx)(a.c,{urlBack:"/project/".concat(o)})})},69988:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])},74195:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]])},74310:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},74415:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},77444:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},81161:(e,t,r)=>{"use strict";r.r(t),r.d(t,{UserReportPage:()=>h,default:()=>f});var n=r(80263),s=r(60045),a=r(80814),i=r(53239),o=r(22891),l=r(10279),c=r(10508),d=r(69213),u=r(15359),p=r(82702),y=r(80090),m=r(34983),x=r(37383);let h=()=>{let e=(0,a.useRouter)(),{ref:t}=(0,o.g)(),{profile:r}=(0,m.xc)(),[c,d]=(0,i.useState)(!1),{isLoading:h}=(0,p.D)({projectRef:t,type:"report"},{onSuccess:r=>{let n=r.content.filter(e=>"report"===e.type).sort((e,t)=>e.name.localeCompare(t.name));n.length>=1&&e.push("/project/".concat(t,"/reports/").concat(n[0].id)),0===n.length&&e.push("/project/".concat(t,"/reports/api-overview"))}}),{can:f}=(0,y.Qp)(s.aG.CREATE,"user_content",{resource:{type:"report",owner_id:null==r?void 0:r.id},subject:{id:null==r?void 0:r.id}});return(0,n.jsx)("div",{className:"h-full w-full","data-sentry-component":"UserReportPage","data-sentry-source-file":"index.tsx",children:h?(0,n.jsx)(x.A,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.A,{title:"Reports",ctaButtonLabel:"New custom report",onClickCta:()=>{d(!0)},disabled:!f,disabledMessage:"You need additional permissions to create a report",children:[(0,n.jsx)("p",{className:"text-foreground-light text-sm",children:"Create custom reports for your projects."}),(0,n.jsx)("p",{className:"text-foreground-light text-sm",children:"Get a high level overview of your network traffic, user actions, and infrastructure health."})]}),(0,n.jsx)(l.E,{visible:c,onCancel:()=>d(!1),afterSubmit:()=>d(!1)})]})})};h.getLayout=e=>(0,n.jsx)(c.A,{children:(0,n.jsx)(d.A,{children:e})});let f=h},82702:(e,t,r)=>{"use strict";r.d(t,{D:()=>o});var n=r(56947),s=r(24523),a=r(1206);async function i(e,t){let{projectRef:r,type:n,name:a,limit:i=10}=e;if(void 0===r)throw Error("projectRef is required for getContent");let{data:o,error:l}=await (0,s.Jt)("/platform/projects/{ref}/content",{params:{path:{ref:r},query:{type:n,name:a,limit:i.toString()}},signal:t});return l&&(0,s.H4)(l),{cursor:o.cursor,content:o.data}}let o=function(e){let{projectRef:t,type:r,name:s,limit:o}=e,{enabled:l=!0,...c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.I)({queryKey:a.M.list(t,{type:r,name:s,limit:o}),queryFn:e=>{let{signal:n}=e;return i({projectRef:t,type:r,name:s,limit:o},n)},enabled:l&&void 0!==t,...c})}},98103:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},99940:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(86848).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{e.O(0,[60858,15599,16110,44952,36538,43833,2838,21436,57459,76984,72391,74004,40545,596,10508,48340,75187,29471,90636,46593,38792],()=>e(e.s=5232)),_N_E=e.O()}]);
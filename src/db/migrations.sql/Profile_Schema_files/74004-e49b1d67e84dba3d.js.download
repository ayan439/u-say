try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="550a8ec9-3295-4a8c-9c6f-e5ec72a72605",e._sentryDebugIdIdentifier="sentry-dbid-550a8ec9-3295-4a8c-9c6f-e5ec72a72605")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74004],{286:(e,t,s)=>{s.d(t,{h:()=>a});let a=[{name:"Dark",value:"dark"},{name:"Light",value:"light"},{name:"Classic Dark",value:"classic-dark"},{name:"System",value:"system"}]},3272:(e,t,s)=>{s.d(t,{P:()=>o,u:()=>i});var a=s(56947),n=s(48621),r=s(32598);async function o(){let{error:e,data:t}=await n.j2.mfa.getAuthenticatorAssuranceLevel();if(e)throw e;return t}let i=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.I)({queryKey:r.e.aaLevel(),queryFn:()=>o(),staleTime:18e5,...t})}},9497:(e,t,s)=>{s.d(t,{r:()=>y});var a=s(80263),n=s(80814),r=s(53239),o=s(73969),i=s(22891),l=s(95130),c=s(10723),d=s(68421),u=s(27695);let h=e=>{let{visible:t,onClose:s,redirectToSignIn:n}=e;return(0,r.useEffect)(()=>{t&&l.Cp(Error("Session error detected"))},[t]),(0,a.jsx)(d.A,{visible:t,title:"Session timed out",confirmLabel:"Sign in again",onCancel:s,onConfirm:n,alert:{base:{variant:"warning"},title:"Your session has timed out",description:"Please try signing in again. If you are not able to sign in again, please contact Support."},"data-sentry-element":"ConfirmationModal","data-sentry-component":"SessionTimeoutModal","data-sentry-source-file":"SessionTimeoutModal.tsx",children:(0,a.jsxs)("div",{className:"space-y-4 text-sm text-foreground-light",children:[(0,a.jsxs)("ul",{className:"list-disc pl-1.5 list-inside space-y-1 text-sm text-foreground-light",children:[(0,a.jsx)("li",{children:"Try with a different browser"}),(0,a.jsx)("li",{children:"Disable browser extensions that block network requests"}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{title:"Clear storage and reload",className:"underline",onClick:()=>{try{localStorage.clear(),sessionStorage.clear()}catch(e){o.oR.error("Failed to clear browser storage")}window.location.reload()},children:"Clear your browser storage"})})]}),(0,a.jsxs)("p",{children:["If none of these steps work, please"," ",(0,a.jsx)(u.Y,{className:c.L,queryParams:{subject:"Session timed out"},"data-sentry-element":"SupportLink","data-sentry-source-file":"SessionTimeoutModal.tsx",children:"Contact support"}),"."]}),(0,a.jsxs)("p",{children:["Consider"," ",(0,a.jsx)(c.g,{href:"https://github.com/orgs/supabase/discussions/36540","data-sentry-element":"InlineLink","data-sentry-source-file":"SessionTimeoutModal.tsx",children:"generating a HAR file"})," ","from your session to help Support pinpoint the issue."]})]})})};var m=s(95742),p=s(3272),x=s(13770),g=s(85039),f=s(5652);function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{useHighestAAL:!0};if(!g.pe)return e;let s=s=>{let l=(0,n.useRouter)(),c=(0,x.R)(),{isLoading:d,session:u}=(0,i.As)(),f=(0,r.useRef)(null),[y,b]=(0,r.useState)(!1),{isLoading:j,data:w}=(0,p.u)({onError(e){o.oR.error("Failed to fetch authenticator assurance level: ".concat(e.message,". Try refreshing your browser, or reach out to us via a support ticket if the issue persists"))}});(0,m.m)({onError(e){o.oR.error("Failed to fetch permissions: ".concat(e.message,". Try refreshing your browser, or reach out to us via a support ticket if the issue persists"))}});let v=!d&&!j,k=(0,r.useCallback)(()=>{let e=location.pathname;if(g.o2&&(e=e.replace(g.o2,"")),"/sign-in"===e)return;let t=new URLSearchParams(location.search);t.set("returnTo",e),c().finally(()=>{l.push("/sign-in?".concat(t.toString()))})},[l,c]);(0,r.useEffect)(()=>(v?f.current&&(clearTimeout(f.current),f.current=null):f.current=setTimeout(()=>{b(!0)},1e4),()=>{f.current&&clearTimeout(f.current)}),[v,l,k]);let S=!t.useHighestAAL||(null==w?void 0:w.currentLevel)===(null==w?void 0:w.nextLevel),N=v&&(!u||!S);return(0,r.useEffect)(()=>{N&&(f.current&&(clearTimeout(f.current),f.current=null),k())},[k,N]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{visible:y,onClose:()=>b(!1),redirectToSignIn:k,"data-sentry-element":"SessionTimeoutModal","data-sentry-source-file":"withAuth.tsx"}),(0,a.jsx)(e,{...s,"data-sentry-element":"InnerComponent","data-sentry-source-file":"withAuth.tsx"})]})};return s.displayName="withAuth(".concat(e.displayName,")"),(0,f.H)(e)&&(s.getLayout=e.getLayout),s}},18068:(e,t,s)=>{s.d(t,{V:()=>i,l:()=>l});var a=s(80251),n=s(73969),r=s(24523),o=s(85039);async function i(e){let{bucket:t,filenames:s}=e,a=await (0,r.We)(),n=t?JSON.stringify({filenames:s,bucket:t}):JSON.stringify({filenames:s});try{let e=await fetch("".concat(o.o2,"/api/generate-attachment-url"),{method:"POST",headers:a,body:n});if(!e.ok){let t=e.status,s=await e.text();throw Error("Failed to generate attachment URLs at endpoint: ".concat(t," ").concat(s))}return await e.json()}catch(e){return[]}}let l=function(){let{onSuccess:e,onError:t,...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.n)({mutationFn:e=>i(e),async onSuccess(t,s,a){await (null==e?void 0:e(t,s,a))},async onError(e,s,a){void 0===t?n.oR.error("Failed to generate attachment URLS: ".concat(e.message)):t(e,s,a)},...s})}},37771:(e,t,s)=>{s.d(t,{O:()=>n});var a=s(25917);let n=()=>(0,a.UU)("https://obuldanrptloktxcffvn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9idWxkYW5ycHRsb2t0eGNmZnZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTg2MTQ2ODUsImV4cCI6MjAzNDE5MDY4NX0.NFt49g6DFkc1X5khCzN5p01iAVo2TMxlx88cY1V0E2M",{auth:{persistSession:!1,autoRefreshToken:!1,multiTab:!1,detectSessionInUrl:!1,localStorage:{getItem:e=>void 0,setItem:(e,t)=>{},removeItem:e=>{}}}})},39148:(e,t,s)=>{s.d(t,{Nj:()=>i,qM:()=>l});var a=s(56028),n=s(12532),r=s(22891);let o=(0,a.BX)({activeDocsSection:["introduction"],docsLanguage:"js",showProjectApiDocs:!1,showCreateBranchModal:!1,showAiSettingsModal:!1,showConnectDialog:!1,ongoingQueriesPanelOpen:!1,mobileMenuOpen:!1,showSidebar:!0,showEditorPanel:!1,lastRouteBeforeVisitingAccountPage:"",activeDocsSection:["introduction"],docsLanguage:"js",showProjectApiDocs:!1,setShowProjectApiDocs:e=>{o.showProjectApiDocs=e},setActiveDocsSection:e=>{o.activeDocsSection=e},setDocsLanguage:e=>{o.docsLanguage=e},isOptedInTelemetry:!1,setIsOptedInTelemetry:e=>{o.isOptedInTelemetry=null!==e&&e,null!==e&&localStorage.setItem(r.rS.TELEMETRY_CONSENT,e.toString())},isMfaEnforced:!1,setIsMfaEnforced:e=>{o.isMfaEnforced=e},showCreateBranchModal:!1,setShowCreateBranchModal:e=>{o.showCreateBranchModal=e},showAiSettingsModal:!1,setShowAiSettingsModal:e=>{o.showAiSettingsModal=e},showSidebar:!0,setShowSidebar:e=>{o.showSidebar=e},showOngoingQueriesPanelOpen:!1,setOnGoingQueriesPanelOpen:e=>{o.ongoingQueriesPanelOpen=e},mobileMenuOpen:!1,setMobileMenuOpen:e=>{o.mobileMenuOpen=e},lastRouteBeforeVisitingAccountPage:"",setLastRouteBeforeVisitingAccountPage:e=>{o.lastRouteBeforeVisitingAccountPage=e}}),i=()=>(0,a.P9)(o),l=e=>(0,n.s)(o,e)},53931:(e,t,s)=>{s.d(t,{yV:()=>c,Ay:()=>d});var a=s(80263),n=s(22891),r=s(53239);let o=null;var i=s(80100);let l=e=>{let{className:t,delayIndex:s=0,animationDelay:l=150}=e,c=function(e){let t=(0,r.useRef)(null);return(0,n.Es)(()=>{let e=document.getAnimations().filter(e=>e instanceof CSSAnimation&&"shimmer"===e.animationName),s=e.find(e=>e.effect instanceof KeyframeEffect&&e.effect.target===t.current);if(void 0===s)return;let a=e[0];return s===a&&o&&(s.currentTime=o),s!==a&&(s.currentTime=a.currentTime),()=>{s===a&&s.currentTime&&(o=Number(s.currentTime))}},[]),t}(0);return(0,a.jsx)("div",{ref:c,className:(0,i.cn)("shimmering-loader rounded py-3",t),style:{animationFillMode:"backwards",animationDelay:"".concat(s*l,"ms")},"data-sentry-component":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"})},c=()=>(0,a.jsxs)("div",{className:"space-y-2","data-sentry-component":"GenericSkeletonLoader","data-sentry-source-file":"ShimmeringLoader.tsx",children:[(0,a.jsx)(l,{"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"}),(0,a.jsx)(l,{className:"w-3/4",delayIndex:1,"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"}),(0,a.jsx)(l,{className:"w-1/2",delayIndex:2,"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"})]}),d=l},54952:(e,t,s)=>{s.d(t,{X:()=>v});var a=s(80263),n=s(73886),r=s(41121),o=s(91487),i=s(796),l=s(52555),c=s.n(l),d=s(80814),u=s(96422),h=s(85039),m=s(2657),p=s(34983),x=s(39148),g=s(21162),f=s(99779),y=s(286),b=s(91898),j=s(53123),w=s(91958);function v(){let e=(0,d.useRouter)(),{theme:t,setTheme:s}=(0,i.D)(),l=(0,x.qM)(),v=(0,m.x)("profile:show_email"),{username:k,avatarUrl:S,primaryEmail:N,isLoading:C}=(0,p.JX)();(0,b.sU)(),(0,j.y)();let{openFeaturePreviewModal:A}=(0,w.j_)();return(0,a.jsxs)(g.rI,{"data-sentry-element":"DropdownMenu","data-sentry-component":"UserDropdown","data-sentry-source-file":"UserDropdown.tsx",children:[(0,a.jsx)(g.ty,{asChild:!0,className:"border flex-shrink-0 px-3","data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"UserDropdown.tsx",children:(0,a.jsx)(f.$,{type:"default",className:"[&>span]:flex px-0 py-0 rounded-full overflow-hidden h-8 w-8","data-sentry-element":"Button","data-sentry-source-file":"UserDropdown.tsx",children:C?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(n.A,{className:"animate-spin text-foreground-lighter",size:16})}):(0,a.jsx)(u.p,{alt:k,src:S,className:"w-8 h-8 rounded-md"})})}),(0,a.jsxs)(g.SQ,{side:"bottom",align:"end","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"UserDropdown.tsx",children:[h.pe&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"px-2 py-1 flex flex-col gap-0 text-sm",children:!!k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{title:k,className:"w-full text-left text-foreground truncate",children:k}),N!==k&&v&&(0,a.jsx)("span",{title:N,className:"w-full text-left text-foreground-light text-xs truncate",children:N})]})}),(0,a.jsx)(g.mB,{}),(0,a.jsxs)(g.I,{children:[(0,a.jsx)(g._2,{className:"flex gap-2",asChild:!0,children:(0,a.jsxs)(c(),{href:"/account/me",onClick:()=>{"/account/me"!==e.pathname&&l.setLastRouteBeforeVisitingAccountPage(e.asPath)},children:[(0,a.jsx)(r.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter"}),"Account preferences"]})}),(0,a.jsxs)(g._2,{className:"flex gap-2",onClick:A,onSelect:A,children:[(0,a.jsx)(o.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter"}),"Feature previews"]}),(0,a.jsx)(g.mB,{})]})]}),(0,a.jsxs)(g.I,{"data-sentry-element":"DropdownMenuGroup","data-sentry-source-file":"UserDropdown.tsx",children:[(0,a.jsx)(g.lp,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"UserDropdown.tsx",children:"Theme"}),(0,a.jsx)(g.Hr,{value:t,onValueChange:e=>{s(e)},"data-sentry-element":"DropdownMenuRadioGroup","data-sentry-source-file":"UserDropdown.tsx",children:y.h.map(e=>(0,a.jsx)(g.Ht,{value:e.value,children:e.name},e.value))})]}),h.pe&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.mB,{}),(0,a.jsx)(g.I,{children:(0,a.jsx)(g._2,{onSelect:()=>{e.push("/logout")},children:"Log out"})})]})]})]})}},68421:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(80263),n=s(53239),r=s(95137),o=s(80100),i=s(99779),l=s(44725);let c=(0,n.forwardRef)((e,t)=>{let{title:s,description:c,size:d="small",visible:u,onCancel:h,onConfirm:m,loading:p,cancelLabel:x="Cancel",confirmLabel:g="Submit",confirmLabelLoading:f,alert:y,children:b,variant:j="default",disabled:w,...v}=e,[k,S]=(0,n.useState)(void 0!==p&&p);return(0,n.useEffect)(()=>{u&&void 0===p&&S(!1)},[u]),(0,n.useEffect)(()=>{void 0!==p&&S(p)},[p]),(0,a.jsx)(r.lG,{open:u,...v,onOpenChange:()=>{u&&h()},children:(0,a.jsxs)(r.Cf,{ref:t,className:"p-0 gap-0 pb-5 !block",size:d,children:[(0,a.jsxs)(r.c7,{className:(0,o.cn)("border-b"),padding:"small",children:[(0,a.jsx)(r.L3,{children:s}),c&&(0,a.jsx)(r.rr,{children:c})]}),y&&(0,a.jsx)(l.Z,{type:j,label:y.title,description:y.description,className:"border-r-0 border-l-0 rounded-none -mt-px [&_svg]:ml-0.5 mb-0",...null==y?void 0:y.base}),b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.OO,{padding:"small",children:b}),(0,a.jsx)(r.pf,{})]}),(0,a.jsxs)("div",{className:"flex gap-2 px-5 pt-5",children:[(0,a.jsx)(i.$,{size:"medium",block:!0,type:"default",disabled:k,onClick:()=>h(),children:x}),(0,a.jsx)(i.$,{block:!0,size:"medium",type:"destructive"===j?"danger":"warning"===j?"warning":"primary",htmlType:"submit",loading:k,disabled:k||w,onClick:e=>{e.preventDefault(),e.stopPropagation(),m(),void 0===p&&S(!0)},className:"truncate",children:g})]})]})})});c.displayName="ConfirmationModal";let d=c},75878:(e,t,s)=>{s.d(t,{w:()=>i});var a=s(80263),n=s(22949),r=s(53239),o=s(80100);let i=r.forwardRef((e,t)=>{let{className:s,orientation:r="horizontal",decorative:i=!0,...l}=e;return(0,a.jsx)(n.b,{ref:t,decorative:i,orientation:r,className:(0,o.cn)("shrink-0 bg-border-muted","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...l})});i.displayName=n.b.displayName},93566:(e,t,s)=>{s.d(t,{R:()=>H});var a=s(80263),n=s(60656),r=s(63159),o=s(53239),i=s(27695),l=s(61548),c=s(99779),d=s(56404),u=s(88712),h=s(97507),m=s(4206),p=s(68152),x=s(71545),g=s(23417),f=s(98531),y=s(61785),b=s(80814),j=s(73969),w=s(22891),v=s(10723),k=s(56947),S=s(24523),N=s(85039);async function C(e,t){let{prompt:s}=e;if(!s)return null;let a=await (0,S.We)({"Content-Type":"application/json"}),n=await (0,S.x8)("".concat(N.o2,"/api/ai/feedback/classify"),{method:"POST",body:JSON.stringify({prompt:s}),headers:a,credentials:"include",signal:t});if(!n.ok){let{error:e}=await n.json();(0,S.H4)("object"==typeof e?e:"string"==typeof e?{message:e}:{message:"Unknown error"})}return(await n.json()).feedback_category}let A=function(e){let{prompt:t}=e,{enabled:s=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,k.I)({queryKey:["feedback-category",t],queryFn:e=>{let{signal:s}=e;return C({prompt:t},s)},enabled:s&&!!t,...a})};var T=s(80251);async function I(e){let{message:t,pathname:s,projectRef:a,organizationSlug:n}=e,{data:r,error:o}=await (0,S.bE)("/platform/feedback/send",{body:{message:t,category:"Feedback",tags:["dashboard-feedback"],projectRef:a,organizationSlug:n,pathname:s}});return o&&(0,S.H4)(o),r}let D=function(){let{onError:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,T.n)({mutationFn:e=>I(e),async onError(t,s,a){void 0===e?j.oR.error("Failed to submit feedback: ".concat(t.message)):e(t,s,a)},...t})};var F=s(36261),L=s(28202),M=s(84512),R=s(6436),E=s(34983),_=s(34634),P=s(80100),O=s(21162),U=s(44725),W=s(37771),z=s(18068);let B=e=>{let t="image/png",s=atob(e.substr("data:".concat(t,";base64,").length)),a=[];for(let e=0;e<s.length;e+=1024){let t=s.slice(e,e+1024),n=Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);let r=new Uint8Array(n);a.push(r)}return new Blob(a,{type:t})},V=async e=>{let{image:t,userId:s}=e;if(!s)return void console.error("[FeedbackWidget > uploadAttachment] Unable to upload screenshot, missing user ID");let a=(0,W.O)(),n=B(t),r="".concat(s,"/").concat((0,R.gZ)(),".png"),{data:o,error:i}=await a.storage.from("feedback-attachments").upload(r,n,{cacheControl:"3600"});return i||!o?void console.error("Failed to upload screenshot attachment:",i):(await (0,z.V)({bucket:"feedback-attachments",filenames:[o.path]}))[0]},Y=e=>{let{onClose:t}=e,s=(0,b.useRouter)(),{profile:n}=(0,E.xc)(),{ref:r,slug:y}=(0,w.g)(),{data:k}=(0,M.s)(),S=(0,o.useRef)(null),[C,T]=(0,o.useState)(""),[I,W]=(0,o.useState)(!1),[z,Y]=(0,o.useState)(!1),[H,J]=(0,o.useState)(!1),$=(0,d.d7)(C,500),[G,Q]=(0,L.U)(w.rS.FEEDBACK_WIDGET_CONTENT,null),[X,Z,{isSuccess:K}]=(0,L.U)(w.rS.FEEDBACK_WIDGET_SCREENSHOT,null),{data:ee}=A({prompt:$}),{mutate:et}=(0,F.h)(),{mutate:es}=D({onSuccess:()=>{J(!0),T(""),Z(null),W(!1)},onError:e=>{j.oR.error("Failed to submit feedback: ".concat(e.message)),W(!1)}}),ea=async()=>{Y(!0),await (0,R.wR)(100),(0,m.$E)(document.body,{filter:function(e){var t;return!((null!=(t=null==e?void 0:e.children)?t:[]).length>0)||"feedback-widget"!==e.children[0].id}}).then(e=>Z(e)).catch(()=>j.oR.error("Failed to capture screenshot")).finally(()=>Y(!1))},en=async e=>{e.persist();let[t]=e.target.files||e.dataTransfer.items,s=new FileReader;s.onload=function(e){var t;let s=null==(t=e.target)?void 0:t.result;"string"==typeof s&&Z(s)},s.readAsDataURL(t),e.target.value=""},er=async()=>{let[e]=await navigator.clipboard.read();if(void 0===X&&"image/png"===e.types[0]){let t=await e.getType("image/png"),s=new FileReader;s.onload=function(e){var t;let s=null==(t=e.target)?void 0:t.result;"string"==typeof s&&Z(s)},s.readAsDataURL(t)}},eo=async()=>{if(0===C.length&&void 0!==X)return j.oR.error("Please include a message in your feedback.");if(C.length>0){W(!0);let e=X&&(null==n?void 0:n.gotrue_id)?await V({image:X,userId:n.gotrue_id}):void 0;es({projectRef:r,organizationSlug:y,message:void 0!==e?"".concat(C,"\n\nAttachments:\n").concat(e):C,pathname:s.asPath})}};return(0,o.useEffect)(()=>{G&&T(G),X&&Z(X)},[K]),(0,o.useEffect)(()=>{$.length>0&&Q($)},[$]),H?(0,a.jsx)(q,{onClose:t,"data-sentry-element":"ThanksMessage","data-sentry-component":"FeedbackWidget","data-sentry-source-file":"FeedbackWidget.tsx"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"px-5 pb-4",children:(0,a.jsx)(_.f,{placeholder:"It would be great if...",rows:5,value:C,onChange:e=>T(e.target.value),onPaste:er,className:"text-sm mt-4 mb-1","data-sentry-element":"TextArea_Shadcn_","data-sentry-source-file":"FeedbackWidget.tsx"})}),(0,a.jsx)(u.N,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"FeedbackWidget.tsx",children:"support"===ee&&(0,a.jsx)(h.P.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:16},transition:{duration:.25},children:(0,a.jsx)(U.Z,{type:"caution",title:"This looks like an issue that's better handled by support",className:"rounded-none border-x-0 border-b-0 mb-0 [&>h5]:text-xs [&>h5]:mb-0.5",children:(0,a.jsxs)("p",{className:"text-xs text-foreground-light !leading-tight",children:["Please"," ",(0,a.jsx)(i.Y,{className:(0,P.cn)(v.L,"text-foreground-light hover:text-foreground"),queryParams:{projectRef:y,message:C},children:"open a support ticket"})," ","to get help with this issue, as we do not reply to all product feedback."]})})},"support-alert")})]}),(0,a.jsx)(l.zT,{"data-sentry-element":"PopoverSeparator_Shadcn_","data-sentry-source-file":"FeedbackWidget.tsx"}),(0,a.jsxs)("div",{className:"px-5 flex flex-row justify-between items-start mt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-foreground",children:"Have a technical issue?"}),(0,a.jsxs)("p",{className:"text-xs text-foreground-light",children:["Contact"," ",(0,a.jsx)(i.Y,{"data-sentry-element":"SupportLink","data-sentry-source-file":"FeedbackWidget.tsx",children:(0,a.jsx)("span",{className:"cursor-pointer text-brand-link transition-colors hover:text-brand-600",children:"support"})})," ","or"," ",(0,a.jsx)("a",{href:"".concat(N.aq),target:"_blank",rel:"noreferrer",children:(0,a.jsx)("span",{className:"cursor-pointer text-brand-link transition-colors hover:text-brand-600",children:"see docs"})}),"."]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-row",children:[X?(0,a.jsx)("div",{style:{backgroundImage:'url("'.concat(X,'")')},onClick:()=>{let e=B(X),t=URL.createObjectURL(e);window.open(t,"_blank")},className:"cursor-pointer rounded h-[26px] w-[26px] border border-control relative bg-cover bg-center bg-no-repeat",children:(0,a.jsx)("button",{className:"cursor-pointer rounded-full bg-red-900 h-3 w-3 flex items-center justify-center absolute -top-1 -right-1",onClick:e=>{e.stopPropagation(),Z(null)},children:(0,a.jsx)(p.A,{size:8,strokeWidth:3})})}):(0,a.jsxs)(O.rI,{children:[(0,a.jsx)(O.ty,{asChild:!0,children:(0,a.jsx)(c.$,{type:"default",disabled:z,loading:z,className:"w-7",icon:(0,a.jsx)(x.A,{size:14})})}),(0,a.jsxs)(O.SQ,{side:"bottom",align:"end",className:"w-fit",children:[(0,a.jsxs)(O._2,{className:"flex gap-2",onSelect:()=>{S.current&&S.current.click()},children:[(0,a.jsx)(g.A,{size:14}),"Upload screenshot"]},"upload-screenshot"),(0,a.jsx)(O.mB,{}),(0,a.jsxs)(O._2,{className:"flex gap-2",onSelect:()=>ea(),children:[(0,a.jsx)(f.A,{size:14}),"Capture screenshot"]},"capture-screenshot")]})]}),(0,a.jsx)("input",{type:"file",ref:S,className:"hidden",accept:"image/png",onChange:en}),(0,a.jsx)(c.$,{disabled:0===C.length||I,loading:I,onClick:()=>{eo(),et({action:"send_feedback_button_clicked",groups:{project:r,organization:null==k?void 0:k.slug}})},"data-sentry-element":"Button","data-sentry-source-file":"FeedbackWidget.tsx",children:"Send"})]})]})]})},q=e=>{let{onClose:t}=e;return(0,a.jsx)("div",{className:"px-0 pt-3 pb-0","data-sentry-component":"ThanksMessage","data-sentry-source-file":"FeedbackWidget.tsx",children:(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsxs)("div",{className:"px-6 grid gap-3 py-2 text-center text-foreground-light",children:[(0,a.jsx)(y.A,{className:"mx-auto text-brand-500",size:24,"data-sentry-element":"CircleCheck","data-sentry-source-file":"FeedbackWidget.tsx"}),(0,a.jsx)("p",{className:"text-foreground text-base",children:"Your feedback has been sent. Thanks!"}),(0,a.jsx)("p",{className:"text-sm ",children:"We do not always respond to feedback. If you require assistance, please contact support instead."})]}),(0,a.jsx)(l.zT,{"data-sentry-element":"PopoverSeparator_Shadcn_","data-sentry-source-file":"FeedbackWidget.tsx"}),(0,a.jsxs)("div",{className:"flex items-center justify-between px-4",children:[(0,a.jsx)("p",{className:"text-xs text-foreground-light",children:(0,a.jsx)(i.Y,{"data-sentry-element":"SupportLink","data-sentry-source-file":"FeedbackWidget.tsx",children:(0,a.jsx)("span",{className:"cursor-pointer text-brand transition-colors hover:text-brand-600",children:"Create a Support Ticket"})})}),(0,a.jsx)(c.$,{type:"default",onClick:t,"data-sentry-element":"Button","data-sentry-source-file":"FeedbackWidget.tsx",children:"Close"})]})]})})},H=e=>{let{className:t}=e,[s,d]=(0,o.useState)(!1),[u,h]=(0,o.useState)("select");return(0,a.jsxs)(l.AM,{modal:!1,open:s,onOpenChange:e=>{d(e),e||h("select")},"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"FeedbackDropdown","data-sentry-source-file":"FeedbackDropdown.tsx",children:[(0,a.jsx)(l.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"FeedbackDropdown.tsx",children:(0,a.jsx)(c.$,{asChild:!0,onClick:()=>{d(e=>!e),h("select")},type:"text",className:"rounded-full h-[32px] text-foreground-light hover:text-foreground","data-sentry-element":"Button","data-sentry-source-file":"FeedbackDropdown.tsx",children:(0,a.jsx)("span",{className:t,children:"Feedback"})})}),(0,a.jsxs)(l.hl,{side:"bottom",align:"end",className:"px-0 flex flex-col pt-1 pb-3 w-96",id:"feedback-widget","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"FeedbackDropdown.tsx",children:["select"===u&&(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:"What would you like to share?"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(c.$,{type:"default",className:"h-32",onClick:()=>d(!1),asChild:!0,children:(0,a.jsx)(i.Y,{children:(0,a.jsxs)("span",{className:"grid gap-1 text-center",children:[(0,a.jsx)(n.A,{size:"28",className:"mx-auto text-destructive-600"}),(0,a.jsx)("span",{className:"text-base",children:"Issue"}),(0,a.jsx)("span",{className:"text-xm text-foreground-lighter",children:"with my project"})]})})}),(0,a.jsx)(c.$,{type:"default",className:"h-32",onClick:()=>h("widget"),children:(0,a.jsxs)("span",{className:"grid gap-1 text-center",children:[(0,a.jsx)(r.A,{size:"28",className:"mx-auto text-warning"}),(0,a.jsx)("span",{className:"text-base",children:"Idea"}),(0,a.jsx)("span",{className:"text-xm text-foreground-lighter",children:"to improve Supabase"})]})})]})]}),"widget"===u&&(0,a.jsx)(Y,{onClose:()=>d(!1)})]})]})}}}]);
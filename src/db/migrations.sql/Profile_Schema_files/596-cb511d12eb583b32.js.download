try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9684ae15-59cf-487e-86f8-10cedbe9282b",e._sentryDebugIdIdentifier="sentry-dbid-9684ae15-59cf-487e-86f8-10cedbe9282b")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[596],{10921:(e,t,n)=>{n.d(t,{x:()=>a});let a={overdueInvoices:()=>["invoices","overdue"],invoice:e=>["invoice",e],list:(e,t)=>["invoices",e,t],count:e=>["invoices",e,"count"],listAndCount:e=>["invoices",e],projectInvoices:(e,t)=>["invoices",e,t],projectInvoicesCount:e=>["invoices",e,"count"],orgUpcomingPreview:e=>["invoices",e,"upcoming-preview"]}},39797:(e,t,n)=>{n.d(t,{E:()=>c});var a=n(56947),s=n(22891),r=n(24523),i=n(85039),o=n(10921);async function l(e){let{data:t,error:n}=await (0,r.Jt)("/platform/stripe/invoices/overdue",{signal:e});return n&&(0,r.H4)(n),t}let c=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,s.DB)();return(0,a.I)({queryKey:o.x.overdueInvoices(),queryFn:e=>{let{signal:t}=e;return l(t)},enabled:e&&n&&i.pe,staleTime:18e5,...t})}},41273:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(80263),s=n(96776),r=n(99779);let i=e=>{let{href:t,abbrev:n=!0,className:i}=e;return(0,a.jsx)(r.$,{asChild:!0,type:"default",className:i,icon:(0,a.jsx)(s.A,{}),onClick:e=>e.stopPropagation(),"data-sentry-element":"Button","data-sentry-component":"DocsButton","data-sentry-source-file":"DocsButton.tsx",children:(0,a.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:t,children:n?"Docs":"Documentation"})})}},71602:(e,t,n)=>{n.d(t,{H:()=>C});var a=n(80263),s=n(22891),r=n(24523),i=n(85039),o=n(53239),l=n(99779);let c=async()=>{try{let e=await (0,r.x8)("".concat(i.o2,"/api/get-utc-time")),t=await e.json(),n=new Date(t.utcTime).getTime(),a=new Date().getTime();return Math.abs(a-n)>12e4}catch(e){return!1}},d=()=>{let[e,t]=(0,o.useState)(!1),n=(0,o.useCallback)(async()=>{t(await c())},[]);return((0,o.useEffect)(()=>{n();let e=setInterval(n,18e5);return()=>clearInterval(e)},[n]),e)?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-x-4 bg-destructive-400 py-0.5 transition text-foreground box-border border-b border-default","data-sentry-component":"ClockSkewBanner","data-sentry-source-file":"ClockSkewBanner.tsx",children:[(0,a.jsx)("p",{className:"text-sm",children:"Your computer's clock appears to be inaccurate. This can cause issues with certain features."}),(0,a.jsx)(l.$,{asChild:!0,type:"text","data-sentry-element":"Button","data-sentry-source-file":"ClockSkewBanner.tsx",children:(0,a.jsx)("a",{href:"".concat(i.aq),target:"_blank",children:"More information"})})]}):null};var u=n(52555),g=n.n(u),p=n(88712),m=n(97507),x=n(53434),f=n.n(x);let y={GRACE_PERIOD:{title:"Organization plan has exceeded its quota",message:e=>"You are given a grace period until ".concat(e)},GRACE_PERIOD_OVER:{title:"Grace period is over",message:"Your Projects will not be able to serve requests when you used up your quota."},RESTRICTED:{title:"Services Restricted",message:"Your Projects are unable to serve any requests as your Organization plan has used up its quota."},OVERDUE_INVOICES:{title:"Outstanding Invoices",message:"Please pay invoices to avoid service disruption."},OVERDUE_INVOICES_FROM_OTHER_ORGS:{title:"Outstanding Invoices in other Organization",message:"Please pay invoices for other Organization to avoid service disruption."},MISSING_BILLING_INFO:{title:"Missing Billing Information",message:"Please add a billing address to avoid restrictions. If you are a registered business, please add a tax ID too."}};var v=n(39797),h=n(22238),b=n(84512),I=n(2657),_=n(60793),E=n(80100);let j={initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,delay:.5}},k=()=>{let{warnings:e}=function(){var e,t;let{data:n}=(0,b.s)(),{data:a}=(0,v.E)(),{data:s}=(0,h.Ad)(),r=[];if(!(0,I.x)("billing:all"))return{warnings:r,org:n};let i=null==a?void 0:a.filter(e=>e.organization_id!==(null==n?void 0:n.id)),o=null==a?void 0:a.filter(e=>e.organization_id===(null==n?void 0:n.id));return n&&n.organization_missing_address&&!n.billing_partner&&r.push({type:"danger",title:y.MISSING_BILLING_INFO.title,message:y.MISSING_BILLING_INFO.message,link:"/org/".concat(null==n?void 0:n.slug,"/billing#address")}),(null==o?void 0:o.length)&&r.push({type:"danger",title:y.OVERDUE_INVOICES.title,message:y.OVERDUE_INVOICES.message,link:"/org/".concat(null==n?void 0:n.slug,"/billing#invoices")}),(null==i?void 0:i.length)&&r.push({type:"danger",title:y.OVERDUE_INVOICES_FROM_OTHER_ORGS.title,message:y.OVERDUE_INVOICES_FROM_OTHER_ORGS.message,link:"/org/".concat(s?null==s||null==(e=s.find(e=>e.id===i[0].organization_id))?void 0:e.slug:null==n?void 0:n.slug,"/billing#invoices")}),(null==n?void 0:n.restriction_status)==="grace_period"&&r.push({type:"warning",title:y.GRACE_PERIOD.title,message:y.GRACE_PERIOD.message(f()(null==n||null==(t=n.restriction_data)?void 0:t.grace_period_end).format("DD MMM, YYYY")),link:"/org/".concat(null==n?void 0:n.slug,"/billing")}),(null==n?void 0:n.restriction_status)==="grace_period_over"&&r.push({type:"warning",title:y.GRACE_PERIOD_OVER.title,message:y.GRACE_PERIOD_OVER.message,link:"/org/".concat(null==n?void 0:n.slug,"/billing")}),(null==n?void 0:n.restriction_status)==="restricted"&&r.push({type:"danger",title:y.RESTRICTED.title,message:y.RESTRICTED.message,link:"/org/".concat(null==n?void 0:n.slug,"/billing")}),{warnings:r,org:n}}();return(0,a.jsx)(p.N,{initial:!1,"data-sentry-element":"AnimatePresence","data-sentry-component":"OrganizationResourceBanner","data-sentry-source-file":"HeaderBanner.tsx",children:e.map((e,t)=>(0,a.jsx)(N,{...e},t))})},N=e=>{let{type:t,title:n,message:s,link:r}=e,i="danger"===t?_.HV:_.id;return(0,a.jsx)(m.P.div,{...j,className:(0,E.cn)("relative ".concat("danger"===t?"bg-destructive-300 dark:bg-destructive-200":"incident"===t?"bg-brand-400":"bg-warning-300 dark:bg-warning-200"," border-b border-muted py-1 flex items-center justify-center flex-shrink-0 px-0"),"incident"===t&&"hover:bg-brand-300","flex-shrink-0"),layout:"position","data-sentry-element":"motion.div","data-sentry-component":"HeaderBanner","data-sentry-source-file":"HeaderBanner.tsx",children:(0,a.jsxs)("div",{className:(0,E.cn)("items-center flex flex-row gap-3"),children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 right-0 overflow-hidden z-0",children:(0,a.jsx)("div",{className:"absolute inset-0 opacity-[0.8%]",style:{background:"repeating-linear-gradient(\n                    45deg,\n                    currentColor,\n                    currentColor 10px,\n                    transparent 10px,\n                    transparent 20px\n                  )",maskImage:"linear-gradient(to top, black, transparent)",WebkitMaskImage:"linear-gradient(to top, black, transparent)"}})}),(0,a.jsx)(i,{className:(0,E.cn)("z-[1] flex-shrink-0","incident"===t&&"bg-brand text-brand-200"),"data-sentry-element":"Icon","data-sentry-source-file":"HeaderBanner.tsx"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-0 md:gap-3",children:[(0,a.jsx)("span",{className:(0,E.cn)("text-xs sm:text-sm z-[1]","danger"===t?"text-destructive":"incident"===t?"text-foreground":"text-warning"),children:n}),(0,a.jsx)("span",{className:(0,E.cn)("text-xs sm:text-sm z-[1] opacity-75","danger"===t?"text-destructive":"incident"===t?"text-foreground":"text-warning"),children:s})]}),r&&(0,a.jsx)(g(),{href:r,className:(0,E.cn)("lg:block hidden","text-foreground-lighter text-sm z-[1] m-0","danger"===t?"text-destructive":"text-warning"),children:"View Details"})]})})},O=()=>(0,a.jsx)(g(),{href:"https://status.supabase.com",target:"_blank",rel:"noopener noreferrer","data-sentry-element":"Link","data-sentry-component":"IncidentBanner","data-sentry-source-file":"IncidentBanner.tsx",children:(0,a.jsx)(N,{type:"incident",title:"We are currently investigating a technical issue",message:"Follow status.supabase.com for updates","data-sentry-element":"HeaderBanner","data-sentry-source-file":"IncidentBanner.tsx"})});var R=n(86510),w=n(80814),B=n(63503);let D=()=>{let e=(0,w.useRouter)(),{middlewareOutageBannerAcknowledged:t,onUpdateAcknowledged:n}=(0,B.Ij)();return e.pathname.includes("sign-in")||t?null:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-x-4 bg py-0.5 border transition text-foreground border-default","data-sentry-component":"NoticeBanner","data-sentry-source-file":"NoticeBanner.tsx",children:[(0,a.jsx)(_.id,{className:"w-4 h-4","data-sentry-element":"WarningIcon","data-sentry-source-file":"NoticeBanner.tsx"}),(0,a.jsx)("p",{className:"text-sm",children:"Brief Dashboard outage: May 16, 2025, 22:00â€“23:00 UTC (no impact to your apps)"}),(0,a.jsxs)("div",{className:"flex items-center gap-x-1",children:[(0,a.jsx)(l.$,{asChild:!0,type:"link",iconRight:(0,a.jsx)(R.A,{size:14}),"data-sentry-element":"Button","data-sentry-source-file":"NoticeBanner.tsx",children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://status.supabase.com/incidents/8k0ysqkhscfj",children:"Learn more"})}),(0,a.jsx)(l.$,{type:"text",className:"opacity-75",onClick:()=>{n("middleware-outage-banner-2025-05-16")},"data-sentry-element":"Button","data-sentry-source-file":"NoticeBanner.tsx",children:"Dismiss"})]})]})},C=e=>{let{children:t}=e,n=(0,s._P)("ongoingIncident"),r=(0,s._P)("showNoticeBanner"),i=(0,s._P)("clockSkewBanner");return(0,a.jsxs)("div",{className:"flex flex-col","data-sentry-component":"AppBannerWrapper","data-sentry-source-file":"AppBannerWrapper.tsx",children:[(0,a.jsxs)("div",{className:"flex-shrink-0",children:[n&&(0,a.jsx)(O,{}),r&&(0,a.jsx)(D,{}),(0,a.jsx)(k,{"data-sentry-element":"OrganizationResourceBanner","data-sentry-source-file":"AppBannerWrapper.tsx"}),i&&(0,a.jsx)(d,{})]}),t]})}}}]);